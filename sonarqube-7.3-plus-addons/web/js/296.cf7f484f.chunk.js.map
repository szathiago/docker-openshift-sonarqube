{"version":3,"sources":["webpack:///./src/main/js/apps/portfolio/styles.css","webpack:///./src/main/js/apps/portfolio/styles.css?3a4d","webpack:///./src/main/js/apps/portfolio/components/Summary.tsx","webpack:///./src/main/js/apps/portfolio/components/Subscription.tsx","webpack:///./src/main/js/api/report.ts","webpack:///./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","webpack:///./src/main/js/apps/portfolio/components/Report.tsx","webpack:///./src/main/js/apps/portfolio/components/WorstProjects.tsx","webpack:///./src/main/js/apps/portfolio/components/RatingFreshness.tsx","webpack:///./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Effort.tsx","webpack:///./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/MainRating.tsx","webpack:///./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/SecurityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Activity.tsx","webpack:///./src/main/js/apps/portfolio/utils.ts","webpack:///./src/main/js/apps/portfolio/components/App.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/HelpTooltip.css?42d2","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./node_modules/lodash/toInteger.js","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/components/ui/Rating.css?115d","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/ui/Level.css?4e69","webpack:///./node_modules/lodash/_createFind.js","webpack:///./src/main/js/apps/projectActivity/utils.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/lodash/find.js","webpack:///./src/main/js/components/icons-components/AlertSuccessIcon.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/icons-components/VisibleIcon.tsx","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/components/icons-components/BubblesIcon.tsx","webpack:///./src/main/js/components/icons-components/ChartLegendIcon.tsx","webpack:///./src/main/js/components/charts/LineChart.css?1665","webpack:///./node_modules/lodash/flatMap.js","webpack:///../sonar-docs/src/tooltips/project/visibility-public-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-private.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public.md","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/charts/BarChart.css?f378","webpack:///./src/main/js/components/charts/Histogram.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./src/main/js/api/time-machine.ts","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/chunk.js","webpack:///./src/main/js/components/charts/AdvancedTimeline.css","webpack:///./src/main/js/components/charts/AdvancedTimeline.css?bebb","webpack:///./src/main/js/components/charts/AdvancedTimeline.js","webpack:///./node_modules/lodash/_baseLt.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./src/main/js/components/charts/LineChart.css","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/charts/Histogram.css","webpack:///./src/main/js/components/charts/Histogram.css?9e83","webpack:///./src/main/js/components/icons-components/HistoryIcon.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltips.js","webpack:///./src/main/js/components/preview-graph/PreviewGraph.js","webpack:///./node_modules/lodash/max.js"],"names":["module","exports","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","locals","Summary","_a","component","measures","projects","ncloc","nclocDistribution","index_js_exposed","className","id","description","react_router_es","to","Object","urls","componentKey","key","metric","Measure","metricKey","metricType","value","l10n","LanguageDistributionContainer","distribution","width","_super","Subscription","props","_this","call","this","mounted","stopLoading","setState","loading","handleSubscription","subscribed","handleSubscribe","request","catch","throwGlobalError","then","handleUnsubscribe","getEffectiveFrequencyText","effectiveFrequency","status","componentFrequency","globalFrequency","renderLoading","state","renderWhenSubscribed","AlertSuccessIcon","buttons","onClick","renderWhenNotSubscribed","__extends","prototype","componentDidMount","componentWillReceiveProps","nextProps","componentWillUnmount","render","inner","hasEmail","currentUser","email","SubscriptionContainer","es","rootReducer","components_Subscription","Report","apply","arguments","renderHeader","Report_extends","loadStatus","canDownload","href","window","baseUrl","encodeURIComponent","getReportUrl","target","download","name","canSubscribe","WorstProjects","subComponents","total","count","length","maxLoc","max_default","map","Number","projectsPageUrl","pathname","query","refKey","QualifierIcon","qualifier","renderCell","barWidth","Math","max","round","height","x","y","renderNcloc","helpers_measures","type","RatingFreshness","lastChange","rating","index_es","defaultMessage","values","Rating","small","data","JSON","parse","date","DateFromNow","ReleasabilityBox","lastReleasabilityChange","effort","Level","level","Effort","String","MeasuresButtonLink","BubblesIcon","size","HistoryButtonLink","HistoryIcon","MainRating","ReliabilityBox","lastReliabilityChange","rawEffort","SecurityBox","lastSecurityChange","MaintainabilityBox","lastMaintainabilityChange","AnyPreviewGraph","PreviewGraph","Activity","fetchHistory","customGraphs","storage","utils","graphMetrics","split","time_machine","metrics","join","timeMachine","history_1","forEach","measure","measureHistory","history","analysis","dates","renderWhenEmpty","Activity_extends","componentDidUpdate","prevProps","project","PORTFOLIO_METRICS","SUB_COMPONENTS_METRICS","convertMeasures","result","App_App","App","isEmpty","isNotComputed","App_extends","fetchMetrics","fetchData","Promise","all","api_measures","metricKeys","components","ps","s","__assign","totalSubComponents","paging","renderSpinner","renderEmpty","renderWhenNotComputed","renderMain","visibility","PrivacyBadgeContainer","organization","tooltipProps","projectKey","components_Activity","components_Report","mapDispatchToProps","rootActions","__webpack_exports__","HelpTooltip","children","react__WEBPACK_IMPORTED_MODULE_0__","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","fill","_app_theme__WEBPACK_IMPORTED_MODULE_4__","_b","tagName","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","mouseLeaveDelay","onShow","overlay","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","bind","DocTooltip","open","close","doc","default","document","addEventListener","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","qualifierIcons","app","_Icon__WEBPACK_IMPORTED_MODULE_1__","d","style","_app_theme__WEBPACK_IMPORTED_MODULE_2__","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","formatterOption","year","month","day","longFormatterOption","DateFormatter","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","muted","_c","formatted","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","rating-small","rating-muted","toFinite","remainder","level-small","level-muted","baseAssignValue","createAggregator","hasOwnProperty","groupBy","array","predicate","fromIndex","fromRight","index","decimals","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","formattedValue","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","tooltip","_utils__WEBPACK_IMPORTED_MODULE_1__","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","isArrayLike","keys","findIndexFunc","iterable","EVENT_TYPES","APPLICATION_EVENT_TYPES","DEFAULT_GRAPH","GRAPH_TYPES","GRAPHS_METRICS_DISPLAYED","issues","coverage","duplications","GRAPHS_METRICS","concat","PROJECT_ACTIVITY_GRAPH","PROJECT_ACTIVITY_GRAPH_CUSTOM","datesQueryChanged","prevQuery","nextQuery","lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default","from","activityQueryChanged","category","customMetricsChanged","customMetrics","hasDataValues","serie","some","point","hasHistoryData","series","hasHistoryDataValue","historyQueryChanged","graph","isCustomGraph","selectedDateQueryChanged","selectedDate","generateCoveredLinesMetric","uncoveredLines","measuresHistory","linesToCover","find","idx","translatedName","_helpers_l10n__WEBPACK_IMPORTED_MODULE_7__","generateSeries","displayedMetrics","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","filter","indexOf","Array","findMetric","splitSeriesInGraphs","maxGraph","maxSeries","lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default","lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default","lodash_chunk__WEBPACK_IMPORTED_MODULE_4___default","slice","getSeriesMetricType","getAnalysesByVersionByDay","analyses","reduce","acc","currentVersion","versionEvent","events","event","newVersion","version","byDay","_helpers_dates__WEBPACK_IMPORTED_MODULE_6__","getTime","toString","matchFilters","isAfterFrom","isBeforeTo","hasSelectedCategoryEvents","getDisplayedHistoryMetrics","getHistoryMetrics","parseGraph","_helpers_query__WEBPACK_IMPORTED_MODULE_5__","includes","serializeGraph","parseQuery","urlQuery","serializeQuery","serializeUrlQuery","custom_metrics","selected_date","baseFindIndex","toInteger","nativeMax","createFind","isPaidOrganization","Boolean","subscription","_app_types__WEBPACK_IMPORTED_MODULE_0__","Paid","hasPrivateAccess","userOrganizations","isCurrentUserMemberOf","canAdmin","isAdmin","org","KNOWN_RATINGS","enhanceMeasure","leak","periods","period","getLeakValue","getRatingTooltip","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","substr","isSymbol","comparator","current","computed","VisibleIcon","Icon","onSonarCloud","system","types","Private","organizations","icon","Public","theme","badge","classnames","badge-info","badge-icon","resolve","t","getDoc","Tooltip","fillRule","ChartLegendIcon","baseFlatten","DEFAULT_PADDING","Histogram","renderBar","xScale","yScale","alignTicks","padding","range","bandwidth","renderValue","yValues","BAR_HEIGHT","yTooltips","dx","dy","renderTick","yTicks","tick","historyTickClass","renderBars","bars","availableWidth","d3_scale","domain","d3_array","availableHeight","_","rangeRound","cutLanguageName","languages","tokens","language","lines","parseInt","sortBy_default","langKey","lang","find_default","getLanguageName","components_charts_Histogram","getAllTimeMachineData","prev","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","getTimeMachineData","r","pageIndex","pageSize","p","start","end","baseSlice","isIterateeCall","nativeCeil","ceil","guard","resIndex","AdvancedTimeline","getRatingScale","d3_scale__WEBPACK_IMPORTED_MODULE_8__","getLevelScale","getYScale","flatData","d3_array__WEBPACK_IMPORTED_MODULE_7__","nice","getXScale","startDate","endDate","dateRange","lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default","clamp","maxXRange","getScales","lodash_flatten__WEBPACK_IMPORTED_MODULE_4___default","getSelectedDatePos","firstSerie","findIndex","valueOf","xRange","sort","xPos","selectedDateXPos","selectedDateIdx","getEventMarker","half","getMouseOverlayPos","mouseOverlayPos","pos","getBoundingClientRect","handleWheel","evt","preventDefault","parentBbox","mouseXPos","pageX","left","speed","deltaMode","zoomSpeed","leftPos","deltaY","rightPos","invert","handleZoomUpdate","updateZoom","handleMouseMove","updateTooltipPos","handleMouseEnter","mouseOver","handleMouseOut","updateTooltip","handleClick","updateSelectedDate","bisectX","right","previousPoint","nextPoint","xPos_1","renderHorizontalGrid","formatYTick","ticks","maxYTicksCount","formattedTicks","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","textAnchor","x1","x2","y1","y2","renderXAxisTicks","format","tickFormat","nextTick","renderLeak","yRange","leakWidth","leakPeriodDate","_app_theme__WEBPACK_IMPORTED_MODULE_10__","renderLines","lineGenerator","d3_shape__WEBPACK_IMPORTED_MODULE_9__","defined","basisCurve","curve","classnames__WEBPACK_IMPORTED_MODULE_6___default","renderAreas","areaGenerator","y0","renderEvents","eventSize","inRangeEvents","offset","renderSelectedDate","cx","cy","renderClipPath","renderMouseEventsOverlay","zoomEnabled","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","scales","selectedDatePos","lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default","lodash_isEqual__WEBPACK_IMPORTED_MODULE_3___default","disableZoom","isZoomed","chart-zoomed","hideGrid","hideXAxis","showAreas","showEventMarkers","defaultProps","PureComponent","other","baseExtremum","baseLt","PreviewGraphTooltipsContent","index_js_exposed_default","PreviewGraphTooltips","tooltipIdx","tooltipPos","placement","popups","RightTop","graphWidth","LeftTop","top","formatValue","GRAPH_PADDING","MAX_GRAPH_NB","MAX_SERIES_PER_GRAPH","PreviewGraph_PreviewGraph","getDisplayedMetrics","getSeries","myHistory","firstValid","minBy_default","context","router","branches","branchLike","tooltipXPos","PreviewGraph_extends","renderTimeline","AutoSizer_default","disableHeight","interpolate","preview_graph_PreviewGraphTooltips","tabIndex","role","contextTypes","prop_types","baseGt","identity"],"mappings":"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","file":"js/296.cf7f484f.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}.portfolio-meta-header{margin-bottom:4px;color:#444}.portfolio-meta-card{min-width:200px;box-sizing:border-box}.portfolio-meta-card+.portfolio-meta-card{margin-top:16px;padding-top:15px;border-top:1px solid #e6e6e6}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: { description?: string; key: string };\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function Summary({ component, measures }: Props) {\n  const { projects, ncloc } = measures;\n  const nclocDistribution = measures['ncloc_language_distribution'];\n\n  return (\n    <section className=\"big-spacer-bottom\" id=\"portfolio-summary\">\n      {component.description && <div className=\"big-spacer-bottom\">{component.description}</div>}\n\n      <ul className=\"portfolio-grid\">\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            {projects ? (\n              <Link\n                to={getComponentDrilldownUrl({ componentKey: component.key, metric: 'projects' })}>\n                <Measure metricKey=\"projects\" metricType=\"SHORT_INT\" value={projects} />\n              </Link>\n            ) : (\n              '0'\n            )}\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('projects')}</div>\n        </li>\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            {ncloc ? (\n              <Link to={getComponentDrilldownUrl({ componentKey: component.key, metric: 'ncloc' })}>\n                <Measure metricKey=\"ncloc\" metricType=\"SHORT_INT\" value={ncloc} />\n              </Link>\n            ) : (\n              '0'\n            )}\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('metric.ncloc.name')}</div>\n        </li>\n      </ul>\n\n      {nclocDistribution && (\n        <div className=\"big-spacer-top\">\n          <LanguageDistributionContainer distribution={nclocDistribution} width={260} />\n        </div>\n      )}\n    </section>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AlertSuccessIcon from '../../../components/icons-components/AlertSuccessIcon';\nimport { ReportStatus, subscribe, unsubscribe } from '../../../api/report';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface Props {\n  component: string;\n  currentUser: { email?: string };\n  status: ReportStatus;\n}\n\ninterface State {\n  loading: boolean;\n  subscribed?: boolean;\n}\n\nexport default class Subscription extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { subscribed: props.status.subscribed, loading: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.status.subscribed !== this.props.status.subscribed) {\n      this.setState({ subscribed: nextProps.status.subscribed });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSubscription = (subscribed: boolean) => {\n    if (this.mounted) {\n      this.setState({ loading: false, subscribed });\n    }\n  };\n\n  handleSubscribe = () => {\n    this.setState({ loading: true });\n    subscribe(this.props.component)\n      .then(() => this.handleSubscription(true))\n      .catch(this.stopLoading);\n  };\n\n  handleUnsubscribe = () => {\n    this.setState({ loading: true });\n    unsubscribe(this.props.component)\n      .then(() => this.handleSubscription(false))\n      .catch(this.stopLoading);\n  };\n\n  getEffectiveFrequencyText = () => {\n    const effectiveFrequency =\n      this.props.status.componentFrequency || this.props.status.globalFrequency;\n    return translate('report.frequency', effectiveFrequency, 'effective');\n  };\n\n  renderLoading = () => this.state.loading && <i className=\"spacer-left spinner\" />;\n\n  renderWhenSubscribed = () => (\n    <div className=\"js-subscribed\">\n      <div className=\"spacer-bottom\">\n        <AlertSuccessIcon className=\"pull-left spacer-right\" />\n        <div className=\"overflow-hidden\">\n          {translateWithParameters('report.subscribed', this.getEffectiveFrequencyText())}\n        </div>\n      </div>\n      <Button onClick={this.handleUnsubscribe}>{translate('report.unsubscribe')}</Button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  renderWhenNotSubscribed = () => (\n    <div className=\"js-not-subscribed\">\n      <p className=\"spacer-bottom\">\n        {translateWithParameters('report.unsubscribed', this.getEffectiveFrequencyText())}\n      </p>\n      <Button className=\"js-report-subscribe\" onClick={this.handleSubscribe}>\n        {translate('report.subscribe')}\n      </Button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  render() {\n    const hasEmail = !!this.props.currentUser.email;\n    const { subscribed } = this.state;\n\n    let inner;\n    if (hasEmail) {\n      inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n    } else {\n      inner = <p className=\"note js-no-email\">{translate('report.no_email_to_subscribe')}</p>;\n    }\n\n    return <div className=\"big-spacer-top js-report-subscription\">{inner}</div>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ReportStatus {\n  canDownload?: boolean;\n  canSubscribe: boolean;\n  componentFrequency?: string;\n  globalFrequency: string;\n  subscribed?: boolean;\n}\n\nexport function getReportStatus(component: string): Promise<ReportStatus> {\n  return getJSON('/api/governance_reports/status', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getReportUrl(component: string): string {\n  return (\n    (window as any).baseUrl +\n    '/api/governance_reports/download?componentKey=' +\n    encodeURIComponent(component)\n  );\n}\n\nexport function subscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/subscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function unsubscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/unsubscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport Subscription from './Subscription';\nimport { getCurrentUser } from '../../../store/rootReducer';\n\nconst mapStateToProps = (state: any) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(Subscription);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SubscriptionContainer from './SubscriptionContainer';\nimport { getReportStatus, ReportStatus, getReportUrl } from '../../../api/report';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  status?: ReportStatus;\n}\n\nexport default class Report extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus() {\n    getReportStatus(this.props.component.key).then(\n      status => {\n        if (this.mounted) {\n          this.setState({ status, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  renderHeader = () => <h4>{translate('report.page')}</h4>;\n\n  render() {\n    const { component } = this.props;\n    const { status, loading } = this.state;\n\n    if (loading) {\n      return (\n        <div>\n          {this.renderHeader()}\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    if (!status) {\n      return null;\n    }\n\n    return (\n      <div>\n        {this.renderHeader()}\n\n        {!status.canDownload && (\n          <div className=\"note js-report-cant-download\">{translate('report.cant_download')}</div>\n        )}\n\n        {status.canDownload && (\n          <div className=\"js-report-can-download\">\n            {translate('report.can_download')}\n            <div className=\"spacer-top\">\n              <a\n                className=\"button js-report-download\"\n                href={getReportUrl(component.key)}\n                target=\"_blank\"\n                download={component.name + ' - Executive Report.pdf'}>\n                {translate('report.print')}\n              </a>\n            </div>\n          </div>\n        )}\n\n        {status.canSubscribe && <SubscriptionContainer component={component.key} status={status} />}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { max } from 'lodash';\nimport { SubComponent } from '../types';\nimport Measure from '../../../components/measure/Measure';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  subComponents: SubComponent[];\n  total: number;\n}\n\nexport default function WorstProjects({ component, subComponents, total }: Props) {\n  const count = subComponents.length;\n\n  if (!count) {\n    return null;\n  }\n\n  const maxLoc = max(\n    subComponents.map(component => Number(component.measures['ncloc'] || 0))\n  ) as number;\n\n  const projectsPageUrl = { pathname: '/code', query: { id: component } };\n\n  return (\n    <div className=\"panel panel-white portfolio-sub-components\" id=\"portfolio-sub-components\">\n      <table className=\"data zebra\">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Releasability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Reliability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Security')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Maintainability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric.ncloc.name')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {subComponents.map(component => (\n            <tr key={component.key}>\n              <td>\n                <Link\n                  to={getProjectUrl(component.refKey || component.key)}\n                  className=\"link-with-icon\">\n                  <QualifierIcon qualifier={component.qualifier} /> {component.name}\n                </Link>\n              </td>\n              {component.qualifier === 'TRK'\n                ? renderCell(component.measures, 'alert_status', 'LEVEL')\n                : renderCell(component.measures, 'releasability_rating', 'RATING')}\n              {renderCell(component.measures, 'reliability_rating', 'RATING')}\n              {renderCell(component.measures, 'security_rating', 'RATING')}\n              {renderCell(component.measures, 'sqale_rating', 'RATING')}\n              {renderNcloc(component.measures, maxLoc)}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {total > count && (\n        <footer className=\"spacer-top note text-center\">\n          {translateWithParameters(\n            'x_of_y_shown',\n            formatMeasure(count, 'INT'),\n            formatMeasure(total, 'INT')\n          )}\n          <Link to={projectsPageUrl} className=\"spacer-left\">\n            {translate('show_more')}\n          </Link>\n        </footer>\n      )}\n    </div>\n  );\n}\n\nfunction renderCell(measures: { [key: string]: string | undefined }, metric: string, type: string) {\n  return (\n    <td className=\"text-center\">\n      <Measure metricKey={metric} metricType={type} value={measures[metric]} />\n    </td>\n  );\n}\n\nfunction renderNcloc(measures: { [key: string]: string | undefined }, maxLoc: number) {\n  const ncloc = Number(measures['ncloc'] || 0);\n  const barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n  return (\n    <td className=\"text-right\">\n      <span className=\"note\">\n        <Measure metricKey=\"ncloc\" metricType=\"SHORT_INT\" value={measures['ncloc']} />\n      </span>\n      {maxLoc > 0 && (\n        <svg width=\"50\" height=\"16\" className=\"spacer-left\">\n          <rect className=\"bar-chart-bar\" x=\"0\" y=\"3\" width={barWidth} height=\"10\" />\n        </svg>\n      )}\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  lastChange?: string;\n  rating?: string;\n}\n\nexport default function RatingFreshness({ lastChange, rating }: Props) {\n  if (!lastChange) {\n    return (\n      <div className=\"portfolio-freshness\">\n        {rating && (\n          <FormattedMessage\n            defaultMessage={translate('portfolio.has_always_been_x')}\n            id=\"portfolio.has_always_been_x\"\n            values={{ rating: <Rating small={true} value={rating} /> }}\n          />\n        )}\n      </div>\n    );\n  }\n\n  const data = JSON.parse(lastChange);\n\n  return (\n    <div className=\"portfolio-freshness\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.was_x_y')}\n        id=\"portfolio.was_x_y\"\n        values={{\n          rating: <Rating small={true} value={data.value} />,\n          date: <DateFromNow date={data.date} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RatingFreshness from './RatingFreshness';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport Level from '../../../components/ui/Level';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReleasabilityBox({ component, measures }: Props) {\n  const rating = measures['releasability_rating'];\n  const lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n  const effort = measures['releasability_effort'];\n\n  return (\n    <div className=\"portfolio-box portfolio-releasability\">\n      <h2 className=\"portfolio-box-title\">{translate('metric_domain.Releasability')}</h2>\n\n      {rating && (\n        <Link\n          to={getComponentDrilldownUrl({ componentKey: component, metric: 'alert_status' })}\n          className=\"portfolio-box-rating\">\n          <Rating value={rating} />\n        </Link>\n      )}\n\n      <RatingFreshness lastChange={lastReleasabilityChange} rating={rating} />\n\n      {effort &&\n        Number(effort) > 0 && (\n          <div className=\"portfolio-effort\">\n            <Link\n              to={getComponentDrilldownUrl({ componentKey: component, metric: 'alert_status' })}>\n              <span>\n                <Measure\n                  className=\"little-spacer-right\"\n                  metricKey=\"projects\"\n                  metricType=\"SHORT_INT\"\n                  value={effort}\n                />\n                {Number(effort) === 1 ? 'project' : 'projects'}\n              </span>\n            </Link>{' '}\n            <Level level=\"ERROR\" small={true} />\n          </div>\n        )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  effort: { projects: number; rating: number };\n  metricKey: string;\n}\n\nexport default function Effort({ component, effort, metricKey }: Props) {\n  return (\n    <div className=\"portfolio-effort\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.x_in_y')}\n        id=\"portfolio.x_in_y\"\n        values={{\n          projects: (\n            <Link to={getComponentDrilldownUrl({ componentKey: component, metric: metricKey })}>\n              <span>\n                <Measure\n                  className=\"little-spacer-right\"\n                  metricKey=\"projects\"\n                  metricType=\"SHORT_INT\"\n                  value={String(effort.projects)}\n                />\n                {translate('projects_')}\n              </span>\n            </Link>\n          ),\n          rating: <Rating small={true} value={effort.rating} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BubblesIcon from '../../../components/icons-components/BubblesIcon';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function MeasuresButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getComponentDrilldownUrl({ componentKey: component, metric })}>\n      <BubblesIcon size={14} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HistoryIcon from '../../../components/icons-components/HistoryIcon';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function HistoryButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getMeasureHistoryUrl(component, metric)}>\n      <HistoryIcon size={14} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Rating from '../../../components/ui/Rating';\nimport { getMeasureTreemapUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n  value: string;\n}\n\nexport default function MainRating({ component, metric, value }: Props) {\n  return (\n    <Link to={getMeasureTreemapUrl(component, metric)} className=\"portfolio-box-rating\">\n      <Rating value={value} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport MainRating from './MainRating';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReliabilityBox({ component, measures }: Props) {\n  const rating = measures['reliability_rating'];\n  const lastReliabilityChange = measures['last_change_on_reliability_rating'];\n  const rawEffort = measures['reliability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-reliability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Reliability')}\n        <MeasuresButtonLink component={component} metric=\"Reliability\" />\n        <HistoryButtonLink component={component} metric=\"reliability_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"reliability_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastReliabilityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"reliability_rating\" />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport MainRating from './MainRating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function SecurityBox({ component, measures }: Props) {\n  const rating = measures['security_rating'];\n  const lastSecurityChange = measures['last_change_on_security_rating'];\n  const rawEffort = measures['security_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-security\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Security')}\n        <MeasuresButtonLink component={component} metric=\"Security\" />\n        <HistoryButtonLink component={component} metric=\"security_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"security_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastSecurityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"security_rating\" />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MainRating from './MainRating';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function MaintainabilityBox({ component, measures }: Props) {\n  const rating = measures['sqale_rating'];\n  const lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n  const rawEffort = measures['maintainability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-maintainability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Maintainability')}\n        <MeasuresButtonLink component={component} metric=\"Maintainability\" />\n        <HistoryButtonLink component={component} metric=\"sqale_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric={'sqale_rating'} value={rating} />}\n\n      <RatingFreshness lastChange={lastMaintainabilityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey={'sqale_rating'} />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport {\n  getDisplayedHistoryMetrics,\n  DEFAULT_GRAPH,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM\n} from '../../projectActivity/utils';\nimport PreviewGraph from '../../../components/preview-graph/PreviewGraph';\nimport { getAllTimeMachineData, History } from '../../../api/time-machine';\nimport { Metric } from '../../../app/types';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { get } from '../../../helpers/storage';\n\nconst AnyPreviewGraph = PreviewGraph as any;\n\ninterface Props {\n  component: string;\n  metrics: { [key: string]: Metric };\n}\n\ninterface State {\n  history?: History;\n  loading: boolean;\n}\n\nexport default class Activity extends React.PureComponent<Props> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchHistory = () => {\n    const { component } = this.props;\n\n    const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n    let graphMetrics = getDisplayedHistoryMetrics(\n      get(PROJECT_ACTIVITY_GRAPH) || 'issues',\n      customGraphs ? customGraphs.split(',') : []\n    );\n    if (!graphMetrics || graphMetrics.length <= 0) {\n      graphMetrics = getDisplayedHistoryMetrics(DEFAULT_GRAPH, []);\n    }\n\n    this.setState({ loading: true });\n    return getAllTimeMachineData({ component, metrics: graphMetrics.join() }).then(\n      timeMachine => {\n        if (this.mounted) {\n          const history: History = {};\n          timeMachine.measures.forEach(measure => {\n            const measureHistory = measure.history.map(analysis => ({\n              date: parseDate(analysis.date),\n              value: analysis.value\n            }));\n            history[measure.metric] = measureHistory;\n          });\n          this.setState({ history, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWhenEmpty = () => <div className=\"note\">{translate('component_measures.no_history')}</div>;\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <h4>{translate('project_activity.page')}</h4>\n\n        {this.state.loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          this.state.history !== undefined && (\n            <AnyPreviewGraph\n              history={this.state.history}\n              metrics={this.props.metrics}\n              project={this.props.component}\n              renderWhenEmpty={this.renderWhenEmpty}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getNextRating(rating: number): number | undefined {\n  return rating > 1 ? rating - 1 : undefined;\n}\n\nfunction getWorstSeverity(data: string): { severity: string; count: number } | undefined {\n  const SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\n  const severities: { [key: string]: number } = {};\n  data.split(';').forEach(equality => {\n    const [key, count] = equality.split('=');\n    severities[key] = Number(count);\n  });\n\n  for (let i = 0; i < SEVERITY_ORDER.length; i++) {\n    const count = severities[SEVERITY_ORDER[i]];\n    if (count > 0) {\n      return { severity: SEVERITY_ORDER[i], count };\n    }\n  }\n\n  return undefined;\n}\n\nexport function getEffortToNextRating(\n  measures: Array<{ metric: { key: string }; value: string }>,\n  metricKey: string\n) {\n  const measure = measures.find(measure => measure.metric.key === metricKey);\n  if (!measure) {\n    return undefined;\n  }\n  return getWorstSeverity(measure.value);\n}\n\nexport const PORTFOLIO_METRICS = [\n  'projects',\n  'ncloc',\n  'ncloc_language_distribution',\n\n  'releasability_rating',\n  'releasability_effort',\n\n  'sqale_rating',\n  'maintainability_rating_effort',\n\n  'reliability_rating',\n  'reliability_rating_effort',\n\n  'security_rating',\n  'security_rating_effort',\n\n  'last_change_on_releasability_rating',\n  'last_change_on_maintainability_rating',\n  'last_change_on_security_rating',\n  'last_change_on_reliability_rating'\n];\n\nexport const SUB_COMPONENTS_METRICS = [\n  'ncloc',\n  'releasability_rating',\n  'security_rating',\n  'reliability_rating',\n  'sqale_rating',\n  'alert_status'\n];\n\nexport function convertMeasures(measures: Array<{ metric: string; value?: string }>) {\n  const result: { [key: string]: string | undefined } = {};\n  measures.forEach(measure => {\n    result[measure.metric] = measure.value;\n  });\n  return result;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Summary from './Summary';\nimport Report from './Report';\nimport WorstProjects from './WorstProjects';\nimport ReleasabilityBox from './ReleasabilityBox';\nimport ReliabilityBox from './ReliabilityBox';\nimport SecurityBox from './SecurityBox';\nimport MaintainabilityBox from './MaintainabilityBox';\nimport Activity from './Activity';\nimport { SubComponent } from '../types';\nimport { PORTFOLIO_METRICS, SUB_COMPONENTS_METRICS, convertMeasures } from '../utils';\nimport { getMeasures } from '../../../api/measures';\nimport { getChildren } from '../../../api/components';\nimport { translate } from '../../../helpers/l10n';\nimport { fetchMetrics } from '../../../store/rootActions';\nimport { getMetrics } from '../../../store/rootReducer';\nimport { Metric, Component } from '../../../app/types';\nimport '../styles.css';\nimport PrivacyBadgeContainer from '../../../components/common/PrivacyBadgeContainer';\n\ninterface OwnProps {\n  component: Component;\n}\n\ninterface StateToProps {\n  metrics: { [key: string]: Metric };\n}\n\ninterface DispatchToProps {\n  fetchMetrics: () => void;\n}\n\ntype Props = StateToProps & DispatchToProps & OwnProps;\n\ninterface State {\n  loading: boolean;\n  measures?: { [key: string]: string | undefined };\n  subComponents?: SubComponent[];\n  totalSubComponents?: number;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData() {\n    this.setState({ loading: true });\n    Promise.all([\n      getMeasures({ componentKey: this.props.component.key, metricKeys: PORTFOLIO_METRICS.join() }),\n      getChildren(this.props.component.key, SUB_COMPONENTS_METRICS, { ps: 20, s: 'qualifier' })\n    ]).then(\n      ([measures, subComponents]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            measures: convertMeasures(measures),\n            subComponents: subComponents.components.map((component: any) => ({\n              ...component,\n              measures: convertMeasures(component.measures)\n            })),\n            totalSubComponents: subComponents.paging.total\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  isEmpty = () => this.state.measures === undefined || this.state.measures['ncloc'] === undefined;\n\n  isNotComputed = () =>\n    this.state.measures && this.state.measures['reliability_rating'] === undefined;\n\n  renderSpinner() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <div className=\"empty-search\">\n        <h3>\n          {!this.state.measures || !this.state.measures['projects']\n            ? translate('portfolio.empty')\n            : translate('portfolio.no_lines_of_code')}\n        </h3>\n      </div>\n    );\n  }\n\n  renderWhenNotComputed() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.not_computed')}</h3>\n      </div>\n    );\n  }\n\n  renderMain() {\n    const { component } = this.props;\n    const { measures, subComponents, totalSubComponents } = this.state;\n\n    if (this.isEmpty()) {\n      return this.renderEmpty();\n    }\n\n    if (this.isNotComputed()) {\n      return this.renderWhenNotComputed();\n    }\n\n    return (\n      <div>\n        <div className=\"portfolio-boxes\">\n          <ReleasabilityBox component={component.key} measures={measures!} />\n          <ReliabilityBox component={component.key} measures={measures!} />\n          <SecurityBox component={component.key} measures={measures!} />\n          <MaintainabilityBox component={component.key} measures={measures!} />\n        </div>\n\n        {subComponents !== undefined &&\n          totalSubComponents !== undefined && (\n            <WorstProjects\n              component={component.key}\n              subComponents={subComponents}\n              total={totalSubComponents}\n            />\n          )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { loading, measures } = this.state;\n\n    if (loading) {\n      return this.renderSpinner();\n    }\n\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"page-with-sidebar\">\n          <div className=\"page-main\">{this.renderMain()}</div>\n\n          <aside className=\"page-sidebar-fixed\">\n            <div className=\"portfolio-meta-card\">\n              <h4 className=\"portfolio-meta-header\">\n                {translate('overview.about_this_portfolio')}\n                {component.visibility && (\n                  <PrivacyBadgeContainer\n                    className=\"spacer-left pull-right\"\n                    organization={component.organization}\n                    qualifier={component.qualifier}\n                    tooltipProps={{ projectKey: component.key }}\n                    visibility={component.visibility}\n                  />\n                )}\n              </h4>\n              <Summary component={component} measures={measures || {}} />\n            </div>\n\n            <div className=\"portfolio-meta-card\">\n              <Activity component={component.key} metrics={this.props.metrics} />\n            </div>\n\n            <div className=\"portfolio-meta-card\">\n              <Report component={component} />\n            </div>\n          </aside>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps: DispatchToProps = { fetchMetrics };\n\nconst mapStateToProps = (state: any): StateToProps => ({\n  metrics: getMetrics(state)\n});\n\nexport default connect<StateToProps, DispatchToProps, Props>(mapStateToProps, mapDispatchToProps)(\n  App\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip mouseLeaveDelay={0.25} onShow={props.onShow} overlay={props.overlay}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  // eslint-disable-next-line camelcase\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} /> : null;\n}\n\nfunction ApplicationIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill: theme.orange }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\ninterface Props {\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: Props) {\n  const formatted = formatMeasure(props.level, 'LEVEL', null);\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n  return <span className={className}>{formatted}</span>;\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#e00}a .rating-E{border-bottom-color:#e00}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:18px;line-height:18px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport { chunk, flatMap, groupBy, isEqual, sortBy } from 'lodash';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsString,\n  serializeStringArray,\n  serializeDate,\n  serializeString\n} from '../../helpers/query';\nimport { parseDate, startOfDay } from '../../helpers/dates';\nimport { getLocalizedMetricName, translate } from '../../helpers/l10n';\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nexport const EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nexport const APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nexport const DEFAULT_GRAPH = 'issues';\nexport const GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nexport const GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['lines_to_cover', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines']\n};\nexport const GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat([\n    'reliability_rating',\n    'security_rating',\n    'sqale_rating'\n  ]),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nexport const PROJECT_ACTIVITY_GRAPH = 'sonarqube.project_activity.graph';\nexport const PROJECT_ACTIVITY_GRAPH_CUSTOM = 'sonarqube.project_activity.graph.custom';\n\nexport const datesQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.from, nextQuery.from) || !isEqual(prevQuery.to, nextQuery.to);\n\nexport const activityQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n\nexport const customMetricsChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.customMetrics, nextQuery.customMetrics);\n\nexport const hasDataValues = (serie /*: Serie */) =>\n  serie.data.some(point => point.y || point.y === 0);\n\nexport const hasHistoryData = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1);\n\nexport const hasHistoryDataValue = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n\nexport function historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */ {\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nexport const isCustomGraph = (graph /*: string */) => graph === 'custom';\n\nexport const selectedDateQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.selectedDate, nextQuery.selectedDate);\n\nexport const generateCoveredLinesMetric = (\n  uncoveredLines /*: MeasureHistory */,\n  measuresHistory /*: Array<MeasureHistory> */\n) => {\n  const linesToCover = measuresHistory.find(measure => measure.metric === 'lines_to_cover');\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nfunction findMetric(key /*: string */, metrics /*:  Array<Metric> | { [string]: Metric } */) {\n  if (Array.isArray(metrics)) {\n    return metrics.find(metric => metric.key === key);\n  }\n  return metrics[key];\n}\n\nexport function generateSeries(\n  measuresHistory /*: Array<MeasureHistory> */,\n  graph /*: string */,\n  metrics /*:  Array<Metric> | { [string]: Metric } */,\n  displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */ {\n  if (displayedMetrics.length <= 0 || typeof measuresHistory === 'undefined') {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = findMetric(measure.metric, metrics);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : measure.metric,\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport const splitSeriesInGraphs = (\n  series /*: Array<Serie> */,\n  maxGraph /*: number */,\n  maxSeries /*: number */\n) =>\n  flatMap(groupBy(series, serie => serie.type), type => chunk(type, maxSeries)).slice(0, maxGraph);\n\nexport const getSeriesMetricType = (series /*: Array<Serie> */) =>\n  series.length > 0 ? series[0].type : 'INT';\n\nexport function getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce((acc, analysis) => {\n    let currentVersion = acc[acc.length - 1];\n    const versionEvent = analysis.events.find(event => event.category === 'VERSION');\n    if (versionEvent) {\n      const newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    const day = startOfDay(parseDate(analysis.date))\n      .getTime()\n      .toString();\n\n    let matchFilters = true;\n    if (query.category || query.from || query.to) {\n      const isAfterFrom = !query.from || analysis.date >= query.from;\n      const isBeforeTo = !query.to || analysis.date <= query.to;\n      const hasSelectedCategoryEvents =\n        !query.category || analysis.events.find(event => event.category === query.category) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nexport const getDisplayedHistoryMetrics = (\n  graph /*: string */,\n  customMetrics /*: Array<string> */\n) => (isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph]);\n\nexport const getHistoryMetrics = (graph /*: string */, customMetrics /*: Array<string> */) =>\n  isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n\nconst parseGraph = (value /*: ?string */) => {\n  const graph = parseAsString(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nconst serializeGraph = (value /*: string */) => (value === DEFAULT_GRAPH ? undefined : value);\n\nexport function parseQuery(urlQuery /*: RawQuery */) /*: Query */ {\n  return {\n    category: parseAsString(urlQuery['category']),\n    customMetrics: parseAsArray(urlQuery['custom_metrics'], parseAsString),\n    from: parseAsDate(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: parseAsString(urlQuery['id']),\n    to: parseAsDate(urlQuery['to']),\n    selectedDate: parseAsDate(urlQuery['selected_date'])\n  };\n}\n\nexport function serializeQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    from: serializeDate(query.from),\n    project: serializeString(query.project),\n    to: serializeDate(query.to)\n  });\n}\n\nexport function serializeUrlQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    custom_metrics: serializeStringArray(query.customMetrics),\n    from: serializeDate(query.from),\n    graph: serializeGraph(query.graph),\n    id: serializeString(query.project),\n    to: serializeDate(query.to),\n    selected_date: serializeDate(query.selectedDate)\n  });\n}\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function AlertSuccessIcon({ className, fill = theme.green, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.607 6.554q0-0.25-0.161-0.411l-0.813-0.804q-0.17-0.17-0.402-0.17t-0.402 0.17l-3.643 3.634-2.018-2.018q-0.17-0.17-0.402-0.17t-0.402 0.17l-0.813 0.804q-0.161 0.161-0.161 0.411 0 0.241 0.161 0.402l3.232 3.232q0.17 0.17 0.402 0.17 0.241 0 0.411-0.17l4.848-4.848q0.161-0.161 0.161-0.402zM14.857 8q0 1.866-0.92 3.442t-2.496 2.496-3.442 0.92-3.442-0.92-2.496-2.496-0.92-3.442 0.92-3.442 2.496-2.496 3.442-0.92 3.442 0.92 2.496 2.496 0.92 3.442z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Organization, isLoggedIn, OrganizationSubscription, CurrentUser } from '../app/types';\n\nexport function isPaidOrganization(organization: Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === OrganizationSubscription.Paid);\n}\n\nexport function hasPrivateAccess(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      (organization.canAdmin ||\n        organization.isAdmin ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  getRatingTooltip as nextGetRatingTooltip,\n  isDiffMetric,\n  Measure,\n  MeasureEnhanced\n} from '../../helpers/measures';\nimport { Metric } from '../../app/types';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: Measure,\n  metrics: { [key: string]: Metric }\n): MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = measure.periods.find(period => period.index === 1);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VisibleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.524 8.403q-1.093-1.697-2.74-2.539 0.439 0.748 0.439 1.618 0 1.331-0.946 2.276t-2.276 0.946-2.276-0.946-0.946-2.276q0-0.87 0.439-1.618-1.647 0.842-2.74 2.539 0.957 1.474 2.399 2.348t3.125 0.874 3.125-0.874 2.399-2.348zM8.345 5.641q0-0.144-0.101-0.245t-0.245-0.101q-0.899 0-1.543 0.644t-0.644 1.543q0 0.144 0.101 0.245t0.245 0.101 0.245-0.101 0.101-0.245q0-0.619 0.439-1.057t1.057-0.439q0.144 0 0.245-0.101t0.101-0.245zM14.444 8.403q0 0.245-0.144 0.496-1.007 1.654-2.708 2.65t-3.593 0.996-3.593-1-2.708-2.647q-0.144-0.252-0.144-0.496t0.144-0.496q1.007-1.647 2.708-2.647t3.593-1 3.593 1 2.708 2.647q0.144 0.252 0.144 0.496z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport * as theme from '../../app/theme';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\nimport { Visibility, Organization, CurrentUser } from '../../app/types';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isCurrentUserMemberOf, isPaidOrganization } from '../../helpers/organizations';\nimport { getCurrentUser, getOrganizationByKey, getMyOrganizations } from '../../store/rootReducer';\nimport VisibleIcon from '../icons-components/VisibleIcon';\nimport DocTooltip from '../docs/DocTooltip';\n\ninterface StateToProps {\n  currentUser: CurrentUser;\n  organization?: Organization;\n  userOrganizations: Organization[];\n}\n\ninterface OwnProps {\n  className?: string;\n  organization: Organization | string | undefined;\n  qualifier: string;\n  tooltipProps?: { projectKey: string };\n  visibility: Visibility;\n}\n\ninterface Props extends OwnProps, StateToProps {\n  organization: Organization | undefined;\n}\n\nexport function PrivacyBadge({\n  className,\n  currentUser,\n  organization,\n  qualifier,\n  userOrganizations,\n  tooltipProps,\n  visibility\n}: Props) {\n  const onSonarCloud = isSonarCloud();\n  if (\n    visibility !== Visibility.Private &&\n    (!onSonarCloud || !isCurrentUserMemberOf(currentUser, organization, userOrganizations))\n  ) {\n    return null;\n  }\n\n  let icon = null;\n  if (isPaidOrganization(organization) && visibility === Visibility.Public) {\n    icon = <VisibleIcon className=\"little-spacer-right\" fill={theme.blue} />;\n  }\n\n  const badge = (\n    <div\n      className={classNames('outline-badge', className, {\n        'badge-info': Boolean(icon),\n        'badge-icon': Boolean(icon)\n      })}>\n      {icon}\n      {translate('visibility', visibility)}\n    </div>\n  );\n\n  if (onSonarCloud && organization) {\n    return (\n      <DocTooltip\n        className={className}\n        doc={getDoc(visibility, icon, organization)}\n        overlayProps={{ ...tooltipProps, organization: organization.key }}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      {badge}\n    </Tooltip>\n  );\n}\n\nconst mapStateToProps = (state: any, { organization }: OwnProps) => {\n  if (typeof organization === 'string') {\n    organization = getOrganizationByKey(state, organization);\n  }\n  return {\n    currentUser: getCurrentUser(state),\n    organization,\n    userOrganizations: getMyOrganizations(state)\n  };\n};\n\nexport default connect<StateToProps, {}, OwnProps>(mapStateToProps)(PrivacyBadge);\n\nfunction getDoc(visibility: Visibility, icon: JSX.Element | null, organization: Organization) {\n  let doc;\n  if (visibility === Visibility.Private) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-private.md');\n  } else if (icon) {\n    if (organization.canAdmin) {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org-admin.md');\n    } else {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org.md');\n    }\n  } else if (organization.canAdmin) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-admin.md');\n  } else {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public.md');\n  }\n  return doc;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BubblesIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size} style={{ fillRule: 'nonzero' }}>\n      <path\n        d=\"M4.1 10.2c1 0 1.9.8 1.9 1.9S5.1 14 4.1 14s-1.9-.8-1.9-1.9.8-1.9 1.9-1.9m0-2C2 8.2.2 9.9.2 12.1S1.9 16 4.1 16 8 14.3 8 12.1 6.2 8.2 4.1 8.2zM10.3 2c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7-3.8-1.6-3.8-3.7S8.2 2 10.3 2m0-2C7.1 0 4.5 2.6 4.5 5.7s2.6 5.7 5.7 5.7S16 8.9 16 5.7 13.4 0 10.3 0z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChartLegendIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","module.exports = \"This project is public, which means anyone is able to browse its source code. Subscribe to a paid plan to get unlimited private projects in [Administration > Billing](/#sonarcloud#/organizations/#organization#/extension/billing/billing).\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the project administrator to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Go to your project's [Administration > Permissions](/#sonarcloud#/project_roles?id=#projectKey#) to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility)\\n\"","module.exports = \"This project is private. Only the members of this organization are able to browse it and its source code.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the organization administrator if you want to make it private.\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing)\\n\"","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\nimport './Histogram.css';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" x={x} y={y} width={width} height={BAR_HEIGHT} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return (\n      <Tooltip overlay={this.props.yTooltips && this.props.yTooltips[index]}>\n        <text className=\"bar-chart-tick histogram-value\" x={x} y={y} dx=\"1em\" dy=\"0.3em\">\n          {value}\n        </text>\n      </Tooltip>\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        x={x}\n        y={y}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\">\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" width={this.props.width} height={this.props.height}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { find, sortBy } from 'lodash';\nimport Histogram from './Histogram';\nimport { formatMeasure } from '../../helpers/measures';\nimport { Language } from '../../api/languages';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages?: Language[];\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n      width={props.width}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = find(props.languages, { key: langKey });\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport LanguageDistribution from './LanguageDistribution';\nimport { getLanguages } from '../../store/rootReducer';\n\nconst mapStateToProps = (state: any) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(LanguageDistribution);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport { Paging, BranchParameters } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface HistoryItem {\n  date: Date;\n  value?: string;\n}\n\nexport interface History {\n  [metric: string]: HistoryItem[];\n}\n\ninterface TimeMachineResponse {\n  measures: {\n    metric: string;\n    history: HistoryItem[];\n  }[];\n  paging: Paging;\n}\n\nexport function getTimeMachineData(\n  data: {\n    component: string;\n    from?: string;\n    metrics: string;\n    p?: number;\n    ps?: number;\n    to?: string;\n  } & BranchParameters\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', data).catch(throwGlobalError);\n}\n\nexport function getAllTimeMachineData(\n  data: {\n    component: string;\n    metrics: string;\n    from?: string;\n    p?: number;\n    to?: string;\n  } & BranchParameters,\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData({ ...data, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData({ ...data, p: result.paging.pageIndex + 1 }, result);\n  });\n}\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".line-tooltip{fill:none;stroke:#777;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport { flatten, isEqual, sortBy, throttle, uniq } from 'lodash';\nimport { bisector, extent, max } from 'd3-array';\nimport { scaleLinear, scalePoint, scaleTime } from 'd3-scale';\nimport { line as d3Line, area, curveBasis } from 'd3-shape';\nimport * as theme from '../../app/theme';\nimport './LineChart.css';\nimport './AdvancedTimeline.css';\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  // used to avoid same y ticks labels\n  maxYTicksCount?: number,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nexport default class AdvancedTimeline extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static defaultProps = {\n    eventSize: 8,\n    maxYTicksCount: 4,\n    padding: [10, 10, 30, 60],\n    zoomSpeed: 1\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const scales = this.getScales(props);\n    const selectedDatePos = this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    this.state = { ...scales, ...selectedDatePos };\n    this.updateTooltipPos = throttle(this.updateTooltipPos, 40);\n    this.handleZoomUpdate = throttle(this.handleZoomUpdate, 40);\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    let scales;\n    let selectedDatePos;\n    if (\n      nextProps.metricType !== this.props.metricType ||\n      nextProps.startDate !== this.props.startDate ||\n      nextProps.endDate !== this.props.endDate ||\n      nextProps.width !== this.props.width ||\n      nextProps.padding !== this.props.padding ||\n      nextProps.height !== this.props.height ||\n      nextProps.series !== this.props.series\n    ) {\n      scales = this.getScales(nextProps);\n      if (this.state.selectedDate != null) {\n        selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n      }\n    }\n\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      const xScale = scales ? scales.xScale : this.state.xScale;\n      selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n    }\n\n    if (scales || selectedDatePos) {\n      this.setState({ ...(scales || {}), ...(selectedDatePos || {}) });\n\n      if (selectedDatePos && nextProps.updateTooltip) {\n        nextProps.updateTooltip(\n          selectedDatePos.selectedDate,\n          selectedDatePos.selectedDateXPos,\n          selectedDatePos.selectedDateIdx\n        );\n      }\n    }\n  }\n\n  getRatingScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain([5, 4, 3, 2, 1])\n      .range([availableHeight, 0]);\n\n  getLevelScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain(['ERROR', 'WARN', 'OK'])\n      .range([availableHeight, 0]);\n\n  getYScale = (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) => {\n    if (props.metricType === 'RATING') {\n      return this.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return this.getLevelScale(availableHeight);\n    } else {\n      return scaleLinear()\n        .range([availableHeight, 0])\n        .domain([0, max(flatData, d => d.y) || 1])\n        .nice();\n    }\n  };\n\n  getXScale = (\n    { startDate, endDate } /*: Props */,\n    availableWidth /*: number */,\n    flatData /*: Array<Point> */\n  ) => {\n    const dateRange = extent(flatData, d => d.x);\n    const start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    const end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    const xScale = scaleTime()\n      .domain(sortBy([start, end]))\n      .range([0, availableWidth])\n      .clamp(false);\n    return {\n      xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  getScales = (props /*: Props */) => {\n    const availableWidth = props.width - props.padding[1] - props.padding[3];\n    const availableHeight = props.height - props.padding[0] - props.padding[2];\n    const flatData = flatten(props.series.map((serie /*: Serie */) => serie.data));\n    return {\n      ...this.getXScale(props, availableWidth, flatData),\n      yScale: this.getYScale(props, availableHeight, flatData)\n    };\n  };\n\n  getSelectedDatePos = (xScale /*: Scale */, selectedDate /*: ?Date */) => {\n    const firstSerie = this.props.series[0];\n    if (selectedDate && firstSerie) {\n      const idx = firstSerie.data.findIndex(\n        // $FlowFixMe selectedDate can't be null there\n        p => p.x.valueOf() === selectedDate.valueOf()\n      );\n      const xRange = xScale.range().sort();\n      const xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  getEventMarker = (size /*: number */) => {\n    const half = size / 2;\n    return `M${half} 0 L${size} ${half} L ${half} ${size} L0 ${half} L${half} 0 L${size} ${half}`;\n  };\n\n  getMouseOverlayPos = (target /*: HTMLElement */) => {\n    if (this.state.mouseOverlayPos) {\n      return this.state.mouseOverlayPos;\n    }\n    const pos = target.getBoundingClientRect();\n    this.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  handleWheel = (evt /*: WheelEvent & { target: HTMLElement } */) => {\n    evt.preventDefault();\n    const { maxXRange, xScale } = this.state;\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    const mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    const xRange = xScale.range();\n    const speed = evt.deltaMode ? 25 / evt.deltaMode * this.props.zoomSpeed : this.props.zoomSpeed;\n    const leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    const rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    const startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    const endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    this.handleZoomUpdate(startDate, endDate);\n  };\n\n  handleZoomUpdate = (startDate /*: ?Date */, endDate /*: ?Date */) => {\n    if (this.props.updateZoom) {\n      this.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  handleMouseMove = (evt /*: MouseEvent & { target: HTMLElement } */) => {\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    this.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  handleMouseEnter = () => this.setState({ mouseOver: true });\n\n  handleMouseOut = (evt /*: Event & { relatedTarget: HTMLElement } */) => {\n    const { updateTooltip } = this.props;\n    if (updateTooltip) {\n      this.setState({\n        mouseOver: false,\n        selectedDate: null,\n        selectedDateXPos: null,\n        selectedDateIdx: null\n      });\n      updateTooltip(null, null, null);\n    }\n  };\n\n  handleClick = () => {\n    const { updateSelectedDate } = this.props;\n    if (updateSelectedDate) {\n      updateSelectedDate(this.state.selectedDate);\n    }\n  };\n\n  updateTooltipPos = (xPos /*: number */) => {\n    const firstSerie = this.props.series[0];\n    if (this.state.mouseOver && firstSerie) {\n      const { updateTooltip } = this.props;\n      const date = this.state.xScale.invert(xPos);\n      const bisectX = bisector(d => d.x).right;\n      let idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        const previousPoint = firstSerie.data[idx - 1];\n        const nextPoint = firstSerie.data[idx];\n        if (!nextPoint || (previousPoint && date - previousPoint.x <= nextPoint.x - date)) {\n          idx--;\n        }\n        const selectedDate = firstSerie.data[idx].x;\n        const xPos = this.state.xScale(selectedDate);\n        this.setState({ selectedDate, selectedDateXPos: xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, xPos, idx);\n        }\n      }\n    }\n  };\n\n  renderHorizontalGrid = () => {\n    const { formatYTick } = this.props;\n    const { xScale, yScale } = this.state;\n    const hasTicks = typeof yScale.ticks === 'function';\n    let ticks = hasTicks ? yScale.ticks(this.props.maxYTicksCount) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    // if there are duplicated ticks, that means 4 ticks are too much for this data\n    // so let's just use the domain values (min and max)\n    if (formatYTick) {\n      const formattedTicks = ticks.map(tick => formatYTick(tick));\n      if (ticks.length > uniq(formattedTicks).length) {\n        ticks = yScale.domain();\n      }\n    }\n\n    return (\n      <g>\n        {ticks.map(tick => (\n          <g key={tick}>\n            {formatYTick != null && (\n              <text\n                className=\"line-chart-tick line-chart-tick-x\"\n                dx=\"-1em\"\n                dy=\"0.3em\"\n                textAnchor=\"end\"\n                x={xScale.range()[0]}\n                y={yScale(tick)}>\n                {formatYTick(tick)}\n              </text>\n            )}\n            <line\n              className=\"line-chart-grid\"\n              x1={xScale.range()[0]}\n              x2={xScale.range()[1]}\n              y1={yScale(tick)}\n              y2={yScale(tick)}\n            />\n          </g>\n        ))}\n      </g>\n    );\n  };\n\n  renderXAxisTicks = () => {\n    const { xScale, yScale } = this.state;\n    const format = xScale.tickFormat(7);\n    const ticks = xScale.ticks(7);\n    const y = yScale.range()[0];\n    return (\n      <g>\n        {ticks.slice(0, -1).map((tick, index) => {\n          const nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n          const x = (xScale(tick) + xScale(nextTick)) / 2;\n          return (\n            <text key={index} className=\"line-chart-tick\" x={x} y={y} dy=\"1.5em\">\n              {format(tick)}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderLeak = () => {\n    const yRange = this.state.yScale.range();\n    const xRange = this.state.xScale.range();\n    const leakWidth = xRange[xRange.length - 1] - this.state.xScale(this.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return (\n      <rect\n        className=\"leak-chart-rect\"\n        x={this.state.xScale(this.props.leakPeriodDate)}\n        y={yRange[yRange.length - 1]}\n        width={leakWidth}\n        height={yRange[0] - yRange[yRange.length - 1]}\n        fill={theme.leakColor}\n      />\n    );\n  };\n\n  renderLines = () => {\n    const lineGenerator = d3Line()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y(d => this.state.yScale(d.y));\n    if (this.props.basisCurve) {\n      lineGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-path', 'line-chart-path-' + idx)}\n            d={lineGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderAreas = () => {\n    const areaGenerator = area()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y1(d => this.state.yScale(d.y))\n      .y0(this.state.yScale(0));\n    if (this.props.basisCurve) {\n      areaGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-area', 'line-chart-area-' + idx)}\n            d={areaGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderEvents = () => {\n    const { events, eventSize } = this.props;\n    if (!events || !eventSize) {\n      return null;\n    }\n    const { xScale, yScale } = this.state;\n    const inRangeEvents = events.filter(\n      event => event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1]\n    );\n    const offset = eventSize / 2;\n    return (\n      <g>\n        {inRangeEvents.map((event, idx) => (\n          <path\n            d={this.getEventMarker(eventSize)}\n            className={classNames('line-chart-event', event.className)}\n            key={`${idx}-${event.date.getTime()}`}\n            transform={`translate(${xScale(event.date) - offset}, ${yScale.range()[0] + offset})`}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderSelectedDate = () => {\n    const { selectedDateIdx, selectedDateXPos, yScale } = this.state;\n    const firstSerie = this.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return (\n      <g>\n        <line\n          className=\"line-tooltip\"\n          x1={selectedDateXPos}\n          x2={selectedDateXPos}\n          y1={yScale.range()[0]}\n          y2={yScale.range()[1]}\n        />\n        {this.props.series.map((serie, idx) => {\n          const point = serie.data[selectedDateIdx];\n          if (!point || (!point.y && point.y !== 0)) {\n            return null;\n          }\n          return (\n            <circle\n              key={serie.name}\n              cx={selectedDateXPos}\n              cy={yScale(point.y)}\n              r=\"4\"\n              className={classNames('line-chart-dot', 'line-chart-dot-' + idx)}\n            />\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderClipPath = () => {\n    return (\n      <defs>\n        <clipPath id=\"chart-clip\">\n          <rect\n            width={this.state.xScale.range()[1]}\n            height={this.state.yScale.range()[0] + 10}\n            transform=\"translate(0,-5)\"\n          />\n        </clipPath>\n      </defs>\n    );\n  };\n\n  renderMouseEventsOverlay = (zoomEnabled /*: boolean */) => {\n    const mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = this.handleWheel;\n    }\n    if (this.props.updateTooltip) {\n      mouseEvents.onMouseEnter = this.handleMouseEnter;\n      mouseEvents.onMouseMove = this.handleMouseMove;\n      mouseEvents.onMouseOut = this.handleMouseOut;\n    }\n    if (this.props.updateSelectedDate) {\n      mouseEvents.onClick = this.handleClick;\n    }\n    return (\n      <rect\n        className=\"chart-mouse-events-overlay\"\n        width={this.state.xScale.range()[1]}\n        height={this.state.yScale.range()[0]}\n        {...mouseEvents}\n      />\n    );\n  };\n\n  render() {\n    if (!this.props.width || !this.props.height) {\n      return <div />;\n    }\n    const zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n    const isZoomed = this.props.startDate || this.props.endDate;\n    return (\n      <svg\n        className={classNames('line-chart', { 'chart-zoomed': isZoomed })}\n        width={this.props.width}\n        height={this.props.height}>\n        {zoomEnabled && this.renderClipPath()}\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0]})`}>\n          {this.props.leakPeriodDate != null && this.renderLeak()}\n          {!this.props.hideGrid && this.renderHorizontalGrid()}\n          {!this.props.hideXAxis && this.renderXAxisTicks()}\n          {this.props.showAreas && this.renderAreas()}\n          {this.renderLines()}\n          {this.props.showEventMarkers && this.renderEvents()}\n          {this.renderSelectedDate()}\n          {this.renderMouseEventsOverlay(zoomEnabled)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#777;font-size:12px;text-anchor:middle}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}\", \"\"]);\n\n// exports\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".histogram-tick{text-anchor:end}.histogram-tick-start,.histogram-value{text-anchor:start}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HistoryIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ChartLegendIcon from '../icons-components/ChartLegendIcon';\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nexport default function PreviewGraphTooltipsContent({ style, translatedName, value } /*: Props */) {\n  return (\n    <tr className=\"overview-analysis-graph-tooltip-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={'little-spacer-right line-chart-legend line-chart-legend-' + style}\n        />\n      </td>\n      <td className=\"overview-analysis-graph-tooltip-value text-right little-spacer-right thin\">\n        {value}\n      </td>\n      <td className=\"text-ellipsis overview-analysis-graph-tooltip-description\">\n        {translatedName}\n      </td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport PreviewGraphTooltipsContent from './PreviewGraphTooltipsContent';\nimport DateFormatter from '../intl/DateFormatter';\nimport { Popup, PopupPlacement } from '../ui/popups';\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nconst TOOLTIP_WIDTH = 160;\n\nexport default class PreviewGraphTooltips extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const { tooltipIdx } = this.props;\n    const top = 16;\n    let left = this.props.tooltipPos;\n    let placement = PopupPlacement.RightTop;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n      left -= TOOLTIP_WIDTH;\n      placement = PopupPlacement.LeftTop;\n    }\n\n    return (\n      <Popup\n        className=\"overview-analysis-graph-popup disabled-pointer-events\"\n        placement={placement}\n        style={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"overview-analysis-graph-tooltip\">\n          <div className=\"overview-analysis-graph-tooltip-title\">\n            <DateFormatter date={this.props.selectedDate} long={true} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>\n              {this.props.series.map((serie, idx) => {\n                const point = serie.data[tooltipIdx];\n                if (!point || (!point.y && point.y !== 0)) {\n                  return null;\n                }\n                return (\n                  <PreviewGraphTooltipsContent\n                    key={serie.name}\n                    style={idx.toString()}\n                    translatedName={serie.translatedName}\n                    value={this.props.formatValue(point.y)}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </Popup>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { minBy } from 'lodash';\nimport * as PropTypes from 'prop-types';\n// $FlowFixMe\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport PreviewGraphTooltips from './PreviewGraphTooltips';\nimport AdvancedTimeline from '../charts/AdvancedTimeline';\nimport {\n  DEFAULT_GRAPH,\n  getDisplayedHistoryMetrics,\n  generateSeries,\n  getSeriesMetricType,\n  hasHistoryDataValue,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM,\n  splitSeriesInGraphs\n} from '../../apps/projectActivity/utils';\nimport { get } from '../../helpers/storage';\nimport { formatMeasure, getShortType } from '../../helpers/measures';\nimport { getBranchLikeQuery } from '../../helpers/branches';\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branchLike?: { id?: string; name: string },\n  history: ?History,\n  metrics: { [string]: Metric },\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nconst GRAPH_PADDING = [4, 0, 4, 0];\nconst MAX_GRAPH_NB = 1;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport default class PreviewGraph extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n    const graph = get(PROJECT_ACTIVITY_GRAPH) || 'issues';\n    const customMetrics = customGraphs ? customGraphs.split(',') : [];\n    const series = splitSeriesInGraphs(\n      this.getSeries(props.history, graph, customMetrics, props.metrics),\n      MAX_GRAPH_NB,\n      MAX_SERIES_PER_GRAPH\n    );\n    this.state = {\n      customMetrics,\n      graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n      const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n      const graph = get(PROJECT_ACTIVITY_GRAPH) || 'issues';\n      const customMetrics = customGraphs ? customGraphs.split(',') : [];\n      const series = splitSeriesInGraphs(\n        this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics),\n        MAX_GRAPH_NB,\n        MAX_SERIES_PER_GRAPH\n      );\n      this.setState({\n        customMetrics,\n        graph,\n        series: series.length > 0 ? series[0] : []\n      });\n    }\n  }\n\n  formatValue = (tick /*: number | string */) =>\n    formatMeasure(tick, getShortType(getSeriesMetricType(this.state.series)));\n\n  getDisplayedMetrics = (graph /*: string */, customMetrics /*: Array<string> */) => {\n    const metrics /*: Array<string> */ = getDisplayedHistoryMetrics(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return getDisplayedHistoryMetrics(DEFAULT_GRAPH, customMetrics);\n    }\n    return metrics;\n  };\n\n  getSeries = (\n    history /*: ?History */,\n    graph /*: string */,\n    customMetrics /*: Array<string> */,\n    metrics /*: { [string]: Metric } */\n  ) => {\n    const myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    const displayedMetrics = this.getDisplayedMetrics(graph, customMetrics);\n    const firstValid = minBy(\n      displayedMetrics.map(metric => myHistory[metric].find(p => p.value || p.value === 0)),\n      'date'\n    );\n    const measureHistory = displayedMetrics.map(metric => ({\n      metric,\n      history: firstValid\n        ? myHistory[metric].filter(p => p.date >= firstValid.date)\n        : myHistory[metric]\n    }));\n    return generateSeries(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  handleClick = () => {\n    this.context.router.push({\n      pathname: '/project/activity',\n      query: { id: this.props.project, ...getBranchLikeQuery(this.props.branchLike) }\n    });\n  };\n\n  updateTooltip = (\n    selectedDate /*: ?Date */,\n    tooltipXPos /*: ?number */,\n    tooltipIdx /*: ?number */\n  ) => this.setState({ selectedDate, tooltipXPos, tooltipIdx });\n\n  renderTimeline() {\n    const { graph, selectedDate, series, tooltipIdx, tooltipXPos } = this.state;\n    return (\n      <AutoSizer disableHeight={true}>\n        {({ width }) => (\n          <div>\n            <AdvancedTimeline\n              endDate={null}\n              startDate={null}\n              height={80}\n              width={width}\n              hideGrid={true}\n              hideXAxis={true}\n              interpolate=\"linear\"\n              metricType={getSeriesMetricType(series)}\n              padding={GRAPH_PADDING}\n              series={series}\n              showAreas={['coverage', 'duplications'].includes(graph)}\n              updateTooltip={this.updateTooltip}\n            />\n            {selectedDate != null &&\n              tooltipXPos != null &&\n              tooltipIdx != null && (\n                <PreviewGraphTooltips\n                  formatValue={this.formatValue}\n                  graph={graph}\n                  graphWidth={width}\n                  metrics={this.props.metrics}\n                  selectedDate={selectedDate}\n                  series={series}\n                  tooltipIdx={tooltipIdx}\n                  tooltipPos={tooltipXPos}\n                />\n              )}\n          </div>\n        )}\n      </AutoSizer>\n    );\n  }\n\n  render() {\n    const { series } = this.state;\n    if (!hasHistoryDataValue(series)) {\n      return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n    }\n\n    return (\n      <div\n        className=\"overview-analysis-graph big-spacer-bottom spacer-top\"\n        onClick={this.handleClick}\n        tabIndex={0}\n        role=\"link\">\n        {this.renderTimeline()}\n      </div>\n    );\n  }\n}\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n"],"sourceRoot":""}