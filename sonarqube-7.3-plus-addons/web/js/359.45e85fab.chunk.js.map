{"version":3,"sources":["webpack:///./src/main/js/app/components/ProjectAdminContainer.tsx","webpack:///./src/main/js/app/utils/handleRequiredAuthorization.js"],"names":["ProjectAdminContainer","_super","__extends","prototype","componentDidMount","this","checkPermissions","componentDidUpdate","isProjectAdmin","Object","_utils_handleRequiredAuthorization__WEBPACK_IMPORTED_MODULE_1__","configuration","props","component","showSettings","render","_a","children","__rest","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_exports__","store","_getStore__WEBPACK_IMPORTED_MODULE_0__","history","_getHistory__WEBPACK_IMPORTED_MODULE_1__","returnTo","window","location","pathname","search","hash","dispatch","_store_appState_duck__WEBPACK_IMPORTED_MODULE_2__","replace","query","return_to"],"mappings":"0qBAkCAA,EAAA,SAAAC,GAAA,SAAAD,mDA4BA,OA5BmDE,EAAAF,EAAAC,GACjDD,EAAAG,UAAAC,kBAAA,WACEC,KAAKC,oBAGPN,EAAAG,UAAAI,mBAAA,WACEF,KAAKC,oBAGPN,EAAAG,UAAAG,iBAAA,WACOD,KAAKG,kBACRC,OAAAC,EAAA,EAAAD,IAIJT,EAAAG,UAAAK,eAAA,WACU,IAAAG,EAAAN,KAAAO,MAAAC,UAAAF,cACR,OAAwB,MAAjBA,GAAyBA,EAAcG,cAGhDd,EAAAG,UAAAY,OAAA,WACE,IAAKV,KAAKG,iBACR,OAAO,KAGT,IAAMQ,EAAAX,KAAAO,MAAEK,EAAAD,EAAAC,SAAUL,EAAAM,EAAAF,GAAA,aAClB,OAAOG,EAAA,aAAmBF,EAAUL,IAExCZ,EA5BA,CAAmDmB,EAAA,4FCVnDC,EAAA,aACE,IAAMC,EAAQZ,OAAAa,EAAA,QAAAb,GACRc,EAAUd,OAAAe,EAAA,EAAAf,GAEVgB,EAAWC,OAAOC,SAASC,SAAWF,OAAOC,SAASE,OAASH,OAAOC,SAASG,KAErFT,EAAMU,SAAStB,OAAAuB,EAAA,EAAAvB,IACfc,EAAQU,SACNL,SAAU,gBACVM,OAASC,UAAWV","file":"js/359.45e85fab.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport handleRequiredAuthorization from '../utils/handleRequiredAuthorization';\nimport { BranchLike, Component } from '../types';\n\ninterface Props {\n  children: JSX.Element;\n  branchLike?: BranchLike;\n  branchLikes: BranchLike[];\n  component: Component;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  onBranchesChange: () => void;\n  onComponentChange: (changes: {}) => void;\n}\n\nexport default class ProjectAdminContainer extends React.PureComponent<Props> {\n  componentDidMount() {\n    this.checkPermissions();\n  }\n\n  componentDidUpdate() {\n    this.checkPermissions();\n  }\n\n  checkPermissions() {\n    if (!this.isProjectAdmin()) {\n      handleRequiredAuthorization();\n    }\n  }\n\n  isProjectAdmin() {\n    const { configuration } = this.props.component;\n    return configuration != null && configuration.showSettings;\n  }\n\n  render() {\n    if (!this.isProjectAdmin()) {\n      return null;\n    }\n\n    const { children, ...props } = this.props;\n    return React.cloneElement(children, props);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport getStore from './getStore';\nimport getHistory from './getHistory';\nimport { requireAuthorization } from '../../store/appState/duck';\n\nexport default () => {\n  const store = getStore();\n  const history = getHistory();\n\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n\n  store.dispatch(requireAuthorization());\n  history.replace({\n    pathname: '/sessions/new',\n    query: { return_to: returnTo }\n  });\n};\n"],"sourceRoot":""}