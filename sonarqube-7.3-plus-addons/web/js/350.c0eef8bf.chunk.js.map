{"version":3,"sources":["webpack:///./src/main/js/app/components/search/SearchShowMore.js","webpack:///./src/main/js/app/components/search/SearchResults.js"],"names":["_super","SearchShowMore","_this","apply","this","arguments","handleMoreClick","event","preventDefault","stopPropagation","currentTarget","blur","qualifier","dataset","props","onMoreClick","handleMoreMouseEnter","onSelect","__extends","prototype","render","_a","loadingMore","selected","index_js_exposed_default","a","createElement","key","className","classnames_default","active","DeferredSpinner","loading","cursor-not-allowed","allowMore","data-qualifier","href","onClick","onMouseEnter","dangerouslySetInnerHTML","__html","Object","l10n","PureComponent","SearchResults_SearchResults","SearchResults","SearchResults_extends","qualifiers","keys","results","renderedComponents","utils","forEach","components","length","push","component","renderResult","more","search_SearchShowMore","renderNoResults"],"mappings":"sbAoCA,SAAAA,GAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAF,KAAAG,MAAAC,KAAAC,YAAAD,YAGEF,EAAAI,gBAAkB,SAACC,GACjBA,EAAMC,iBACND,EAAME,kBACNF,EAAMG,cAAcC,OACZ,IAAAC,EAAAL,EAAAG,cAAAG,QAAAD,UACRV,EAAKY,MAAMC,YAAYH,IAGzBV,EAAAc,qBAAuB,SAACT,GACd,IAAAK,EAAAL,EAAAG,cAAAG,QAAAD,UACRV,EAAKY,MAAMG,SAAS,eAAeL,MA8BvC,OA3C4CM,EAAAjB,EAAAD,GAgB1CC,EAAAkB,UAAAC,OAAA,WACQ,IAAAC,EAAAjB,KAAAU,MAAEQ,EAAAD,EAAAC,YAAaV,EAAAS,EAAAT,UAAWW,EAAAF,EAAAE,SAEhC,OACEC,EAAAC,EAAAC,cAAA,MAAIC,IAAK,QAAQf,EAAagB,UAAWC,IAAW,eAAiBC,OAAQP,KAC3EC,EAAAC,EAAAC,cAACK,EAAA,GAAgBH,UAAU,qBAAqBI,QAASV,IAAgBV,GACvEY,EAAAC,EAAAC,cAAA,KACEE,UAAWC,KAAaI,sBAAuB7B,KAAKU,MAAMoB,YAAYC,iBACtDvB,EAChBwB,KAAK,IACLC,QAASjC,KAAKE,gBACdgC,aAAclC,KAAKY,sBACnBQ,EAAAC,EAAAC,cAAA,OACEE,UAAU,2CACVW,yBACEC,OAAQC,OAAAC,EAAA,EAAAD,CACN,wBACA,uEAINjB,EAAAC,EAAAC,cAAA,YAAOe,OAAAC,EAAA,EAAAD,CAAU,kBAM7BxC,EA3CA,CAA4CuB,EAAAC,EAAMkB,sUCIlDC,EAAA,SAAA5C,GAAA,SAAA6C,mDA8CA,OA9C2CC,EAAAD,EAAA7C,GAGzC6C,EAAA1B,UAAAC,OAAA,eAAAlB,EAAAE,KACQ2C,EAAaN,OAAOO,KAAK5C,KAAKU,MAAMmC,SACpCC,KAmCN,OAjCAT,OAAAU,EAAA,EAAAV,CAAeM,GAAYK,QAAQ,SAAAxC,GACjC,IAAMyC,EAAanD,EAAKY,MAAMmC,QAAQrC,GAElCyC,EAAWC,OAAS,GAAKJ,EAAmBI,OAAS,GACvDJ,EAAmBK,KAAK/B,EAAAC,EAAAC,cAAA,MAAIE,UAAU,UAAUD,IAAK,WAAWf,KAG9DyC,EAAWC,OAAS,GACtBJ,EAAmBK,KACjB/B,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cAAcD,IAAK,UAAUf,GACxC6B,OAAAC,EAAA,EAAAD,CAAU,aAAc7B,KAK/ByC,EAAWD,QAAQ,SAAAI,GAAa,OAAAN,EAAmBK,KAAKrD,EAAKY,MAAM2C,aAAnCD,MAEhC,IAAME,EAAOxD,EAAKY,MAAM4C,KAAK9C,GACjB,MAAR8C,GAAgBA,EAAO,GACzBR,EAAmBK,KACjB/B,EAAAC,EAAAC,cAACiC,GACCzB,UAAWhC,EAAKY,MAAMoB,UACtBP,IAAK,QAAQf,EACbU,YAAapB,EAAKY,MAAMQ,YACxBP,YAAab,EAAKY,MAAMC,YACxBE,SAAUf,EAAKY,MAAMG,SACrBL,UAAWA,EACXW,SAAUrB,EAAKY,MAAMS,WAAa,eAAeX,OAMlDsC,EAAmBI,OAAS,EACjC9B,EAAAC,EAAAC,cAAA,MAAIE,UAAU,QAAQsB,GAEtB9C,KAAKU,MAAM8C,mBAGjBf,EA9CA,CAA2CrB,EAAAC,EAAMkB","file":"js/350.c0eef8bf.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\n/*::\ntype Props = {|\n  allowMore: boolean,\n  loadingMore: ?string,\n  onMoreClick: string => void,\n  onSelect: string => void,\n  qualifier: string,\n  selected: boolean\n|};\n*/\n\nexport default class SearchShowMore extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleMoreClick = (event /*: MouseEvent & { currentTarget: HTMLElement } */) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    const { qualifier } = event.currentTarget.dataset;\n    this.props.onMoreClick(qualifier);\n  };\n\n  handleMoreMouseEnter = (event /*: { currentTarget: HTMLElement } */) => {\n    const { qualifier } = event.currentTarget.dataset;\n    this.props.onSelect(`qualifier###${qualifier}`);\n  };\n\n  render() {\n    const { loadingMore, qualifier, selected } = this.props;\n\n    return (\n      <li key={`more-${qualifier}`} className={classNames('menu-footer', { active: selected })}>\n        <DeferredSpinner className=\"navbar-search-icon\" loading={loadingMore === qualifier}>\n          <a\n            className={classNames({ 'cursor-not-allowed': !this.props.allowMore })}\n            data-qualifier={qualifier}\n            href=\"#\"\n            onClick={this.handleMoreClick}\n            onMouseEnter={this.handleMoreMouseEnter}>\n            <div\n              className=\"pull-right text-muted-2 menu-footer-note\"\n              dangerouslySetInnerHTML={{\n                __html: translateWithParameters(\n                  'search.show_more.hint',\n                  '<span class=\"shortcut-button shortcut-button-small\">Enter</span>'\n                )\n              }}\n            />\n            <span>{translate('show_more')}</span>\n          </a>\n        </DeferredSpinner>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SearchShowMore from './SearchShowMore';\nimport { sortQualifiers } from './utils';\n/*:: import type { Component, More, Results } from './utils'; */\nimport { translate } from '../../../helpers/l10n';\n\n/*::\ntype Props = {|\n  allowMore: boolean,\n  loadingMore: ?string,\n  more: More,\n  onMoreClick: string => void,\n  onSelect: string => void,\n  renderNoResults: () => React.Element<*>,\n  renderResult: Component => React.Element<*>,\n  results: Results,\n  selected: ?string\n|};\n*/\n\nexport default class SearchResults extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const qualifiers = Object.keys(this.props.results);\n    const renderedComponents = [];\n\n    sortQualifiers(qualifiers).forEach(qualifier => {\n      const components = this.props.results[qualifier];\n\n      if (components.length > 0 && renderedComponents.length > 0) {\n        renderedComponents.push(<li className=\"divider\" key={`divider-${qualifier}`} />);\n      }\n\n      if (components.length > 0) {\n        renderedComponents.push(\n          <li className=\"menu-header\" key={`header-${qualifier}`}>\n            {translate('qualifiers', qualifier)}\n          </li>\n        );\n      }\n\n      components.forEach(component => renderedComponents.push(this.props.renderResult(component)));\n\n      const more = this.props.more[qualifier];\n      if (more != null && more > 0) {\n        renderedComponents.push(\n          <SearchShowMore\n            allowMore={this.props.allowMore}\n            key={`more-${qualifier}`}\n            loadingMore={this.props.loadingMore}\n            onMoreClick={this.props.onMoreClick}\n            onSelect={this.props.onSelect}\n            qualifier={qualifier}\n            selected={this.props.selected === `qualifier###${qualifier}`}\n          />\n        );\n      }\n    });\n\n    return renderedComponents.length > 0 ? (\n      <ul className=\"menu\">{renderedComponents}</ul>\n    ) : (\n      this.props.renderNoResults()\n    );\n  }\n}\n"],"sourceRoot":""}