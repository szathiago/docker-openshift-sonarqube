{"version":3,"sources":["webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/components/ReloadButton.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/BackButton.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/components/charts/BarChart.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacetFooter.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ModuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/styles.css?dca5","webpack:///./node_modules/lodash/union.js","webpack:///./src/main/js/app/utils/handleRequiredAuthentication.js","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/HelpTooltip.css?42d2","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/controls/Checkbox.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/helpers/path.ts","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/utils.ts","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./src/main/js/components/icons-components/HomeIcon.tsx","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/search-navigator.css?b13d","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/charts/BarChart.css?f378","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./src/main/js/components/shared/Organization.tsx","webpack:///./src/main/js/components/icons-components/StatusIcon.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/common/EmptySearch.css?8217","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/facet/FacetFooter.tsx","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/icons-components/EllipsisIcon.tsx","webpack:///./node_modules/lodash/differenceWith.js","webpack:///./src/main/js/components/controls/SearchSelect.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.js","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.js","webpack:///./src/main/js/components/issue/components/IssueChangelog.js","webpack:///./src/main/js/components/issue/components/IssueMessage.js","webpack:///./src/main/js/components/common/SelectListItem.js","webpack:///./src/main/js/components/common/SelectList.js","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.js","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.js","webpack:///./src/main/js/components/issue/components/IssueTitleBar.js","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.js","webpack:///./src/main/js/components/issue/components/IssueAssign.js","webpack:///./src/main/js/components/issue/actions.js","webpack:///./src/main/js/components/issue/popups/CommentPopup.js","webpack:///./src/main/js/components/issue/components/IssueCommentAction.js","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.js","webpack:///./src/main/js/components/issue/components/IssueSeverity.js","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.js","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.js","webpack:///./src/main/js/components/issue/components/IssueTransition.js","webpack:///./src/main/js/components/issue/popups/SetTypePopup.js","webpack:///./src/main/js/components/issue/components/IssueType.js","webpack:///./src/main/js/components/issue/components/IssueActionsBar.js","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.js","webpack:///./src/main/js/components/issue/components/IssueCommentLine.js","webpack:///./src/main/js/components/issue/IssueView.js","webpack:///./src/main/js/components/issue/Issue.js","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./node_modules/lodash/max.js","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/common/LocationMessage.css?478d","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/issue/Issue.css?0fe5","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationIndex.css?ad8e","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/apps/securityReports/utils.ts"],"names":["AssigneeSelect","SearchSelect","TagSelect","_super","BulkChangeModal","props","_this","call","this","mounted","loadIssues","fetchIssues","additionalFields","ps","getDefaultAssignee","currentUser","issues","state","options","Object","app_types","filter","issue","assignee","login","length","push","avatar","label","name","value","l10n","handleCloseClick","event","preventDefault","currentTarget","blur","onClose","handleAssigneeSearch","query","utils","organization","handleAssigneeSelect","setState","handleTagsSearch","api_issues","q","then","tags","map","tag","handleTagsSelect","field","_a","handleFieldCheck","checked","_b","undefined","handleFieldChange","handleSelectFieldChange","data","handleSubmit","pickBy_default","add_tags","addTags","t","join","assign","comment","do_transition","transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","severity","set_type","type","x","issueKeys","key","submitting","onDone","error","throwGlobalError","renderCancelButton","index_js_exposed","href","id","onClick","renderLoading","className","renderCheckbox","Checkbox","onCheck","renderAffected","affected","renderField","input","htmlFor","renderAssigneeOption","option","Avatar","hash","size","renderAssigneeField","hasAction","clearable","defaultOptions","onSearch","onSelect","renderOption","resetOnBlur","renderTypeField","optionRenderer","IssueTypeIcon","Select","onChange","searchable","valueRenderer","renderSeverityField","SeverityHelper","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","style","float","display","left","cursor","count","renderCommentField","HelpTooltip","overlay","rows","width","MarkdownTips","renderNotificationsField","renderForm","paging","limitReached","total","pageIndex","pageSize","onSubmit","buttons","disabled","component","loading","__extends","prototype","componentDidMount","Promise","all","componentWillUnmount","forEach","sortBy_default","keys","render","Modal","contentLabel","onRequestClose","action","actions","includes","ComponentBreadcrumbs","branchLike","link","selectedFlowIndex","selectedLocationIndex","displayOrganization","qualifier","displayProject","displaySubProject","selectedLocation","componentKey","componentName","componentLongName","Organization","linkClassName","organizationKey","title","projectName","es","to","urls","project","helpers_path","subProject","subProjectName","ListItem","apply","arguments","similarIssues","handleFilter","property","onFilterChange","issuesReset","startsWith","substr","__assign","types","severities","statuses","status","resolution","resolved","resolutions","assigned","assignees","rules","rule","projects","projectUuid","subProjectUuid","modules","files","componentUuid","ListItem_extends","previousIssue","displayComponent","Issue","displayLocationsLink","onFilter","onPopupToggle","openPopup","selected","IssuesList","IssuesList_extends","selectedIssue","index","components_ListItem","onIssueChange","onIssueCheck","onIssueClick","IssuesSourceViewer","scrollToIssue","smooth","node","element","querySelector","openIssue","handleScroll","offset","window","innerHeight","scrolling","topOffset","bottomOffset","handleLoaded","IssuesSourceViewer_extends","componentDidUpdate","prevProps","shouldScrollBackToIssue","locations","aroundLine","textRange","startLine","endLine","highlightedLocations","location","highlightedLocationMessage","locationsNavigator","text","msg","allMessagesEmpty","every","resolve","ref","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","onIssueSelect","onLoaded","onLocationSelect","scroll","MyIssuesFilter","handleClick","myIssues","onMyIssuesChange","MyIssuesFilter_extends","NoIssues","NoMyIssues","IssuesCounter","PageCounter","current","icon","height","viewBox","d","ReloadButton","Tooltip","classnames","PageActions","PageActions_extends","renderShortcuts","selectedIndex","onReload","canSetHome","HomePageSelect","currentPage","system","MyIssues","Issues","ConciseIssueLocationBadge","mouseEnterDelay","measures","LocationIndex","ConciseIssueLocations","collapsed","handleExpandClick","ConciseIssueLocations_extends","renderExpandButton","secondaryLocations","flows","badges","flow","onFlowSelect","slice","ConciseIssueLocationsNavigatorLocation","ConciseIssueLocationsNavigatorLocation_extends","LocationMessage","message","CrossFileLocationsNavigator","handleMoreLocationsClick","groupByFile","currentComponent","currentComponentName","groups","currentLocations","currentFirstLocationIndex","firstLocationIndex","renderLocation","conciseIssuesList_ConciseIssueLocationsNavigatorLocation","renderGroup","group","groupIndex","_c","onlyFirst","_d","onlyLast","lastLocationIndex","CrossFileLocationsNavigator_extends","componentWillReceiveProps","nextProps","nextLocations","firstGroup","lastGroup","ConciseIssueLocationsNavigator","ConciseIssueLocationsNavigator_extends","locationComponents","uniq_default","conciseIssuesList_CrossFileLocationsNavigator","ConciseIssueBox","rootElement","messageElement","ConciseIssueBox_extends","clickAttributesMain","role","tabIndex","clickAttributesTitle","ConciseIssueBox_assign","TypeHelper","conciseIssuesList_ConciseIssueLocations","conciseIssuesList_ConciseIssueLocationsNavigator","ConciseIssueComponent","path","ConciseIssue","ConciseIssue_extends","conciseIssuesList_ConciseIssueBox","ConciseIssuesList","scrollableElement","document","parent","ConciseIssuesList_extends","conciseIssuesList_ConciseIssue","BackButton_icon","BackButton","ConciseIssuesListHeader","displayBackButton","onBackClick","AssigneeFacet","handleItemClick","itemValue","multiple","newValue","without_default","concat","handleHeaderClick","onToggle","handleClear","handleSearch","handleSelect","AssigneeFacet_extends","isAssigneeActive","getAssigneeName","referencedUsers","getStat","stats","getValues","values","user","renderList","FacetItemsList","FacetItem","active","stat","tooltip","renderFooter","FacetFooter","FacetBox","FacetHeader","onClear","open","DeferredSpinner","fetching","defaultProps","AuthorFacet","authors","AuthorFacet_extends","author","BarChart","point","onBarClick","renderXTicks","xScale","yScale","xTicks","ticks","tick","Math","round","bandwidth","y","range","dy","renderXValues","xValues","renderBars","bars","maxY","rect","barsWidth","BarChart_extends","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","d3_array","d3_scale","domain","paddingInner","transform","CreationDateFacet","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","resetTo","changes","CreationDateFacet_assign","handleBarClick","handlePeriodChange","from","handlePeriodClick","period","handleLeakPeriodClick","CreationDateFacet_extends","formatDate","context","intl","DateFormatter","renderBarChart","periods","start","endDate","startDate","dates","setDate","getDate","tooltipEndDate","Date","floor","maxValue","max_default","components_charts_BarChart","renderExactDate","DateTimeFormatter","date","DateFromNow","renderPeriodSelectors","DateRangeInput","renderPredefinedPeriods","renderInner","contextTypes","index_es","DirectoryFacet","directories","DirectoryFacet_extends","directory","renderName","QualifierIcon","dir","FileFacet","FileFacet_extends","file","getFileName","referencedComponents","LanguageFacetFooter_LanguageFacetFooter","LanguageFacetFooter","handleChange","LanguageFacetFooter_extends","differenceWith_default","languages","language","noResultsText","placeholder","sidebar_LanguageFacetFooter","react_redux_es","rootReducer","LanguageFacet","LanguageFacet_extends","getLanguageName","referencedLanguages","ModuleFacet","ModuleFacet_extends","module","getModuleName","ProjectFacet","components","qualifiers","response","refId","ProjectFacet_extends","getProjectName","ResolutionFacet","orderBy_default","renderItem","isFacetItemActive","halfWidth","getFacetItemName","ResolutionFacet_extends","clearLabel","RuleFacet","api_rules","f","include_external","langName","RuleFacet_extends","getRuleName","referencedRules","SeverityFacet","SeverityFacet_extends","StandardFacet","standards","owaspTop10","sansTop25","cwe","loadStandards","__webpack_require__","e","bind","default","item","securityReports_utils","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleCWEHeaderClick","prop","items","handleOwaspTop10ItemClick","handleCWEItemClick","handleSansTop25ItemClick","handleCWESelect","statsProp","valuesProp","categories","category","StandardFacet_extends","renderOwaspTop10List","renderCWEList","renderCWESearch","renderSansTop25List","renderSubFacets","owaspTop10Open","fetchingOwaspTop10","sansTop25Open","fetchingSansTop25","cweOpen","fetchingCwe","StatusFacet","StatusHelper","StatusFacet_extends","TagFacet","tags_1","TagFacet_extends","renderTag","TagsIcon","fill","theme","TypeFacet","TypeFacet_extends","Sidebar","Sidebar_extends","facets","openFacets","displayProjectsFacet","displayModulesFacet","displayDirectoriesFacet","displayFilesFacet","displayAuthorFacet","sidebar_TypeFacet","loadingFacets","onFacetToggle","sidebar_SeverityFacet","sidebar_ResolutionFacet","sidebar_StatusFacet","sidebar_CreationDateFacet","sidebar_LanguageFacet","sidebar_RuleFacet","sidebar_StandardFacet","cweStats","owaspTop10Stats","sansTop25Stats","sidebar_TagFacet","sidebar_ProjectFacet","sidebar_ModuleFacet","sidebar_DirectoryFacet","sidebar_FileFacet","sidebar_AssigneeFacet","sidebar_AuthorFacet","enableLocationsNavigator","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","DEFAULT_QUERY","App_App","App","handleKeyDown","keymaster","keyCode","altKey","handleKeyUp","getOpenIssue","find","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","App_assign","branches","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","additional","requestFacets","requestOrganizations","facet","parameters","componentKeys","s","sort","asc","reponse","fetchIssuesPage","p","fetchIssuesUntil","done","nextResponse","fetchMoreIssues","fetchIssuesForComponent","_component","_from","reject","isSameComponent","lastIssue","nextIssues","fetchFacet","other","__rest","omit_default","keyBy_default","users","isFiltered","serialized","getCheckedIssues","handleFilterChange","handleMyIssuesChange","closeFacet","handleFacetToggle","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","lastChecked","shiftKey","currentIssueIndex","indexOf","lastSelectedIndex","shouldCheck","min","end","max","i","union_default","handleIssueChange","candidate","openBulkChange","mode","bulkChange","closeBulkChange","handleBulkChangeClick","handleBulkChangeSelectedClick","handleBulkChangeDone","fetchFirstIssues","handleReload","onBranchesChange","handleReloadAndOpenFirst","selectLocation","nextIndex","onCheckAll","selectFlow","App_extends","isLoggedIn","body","classList","add","documentElement","footer","getElementById","attachShortcuts","handleRequiredAuthentication","prevState","prevQuery","detachShortcuts","remove","addEventListener","removeEventListener","findIndex","renderBulkChange","isAllChecked","thirdState","isChecked","Dropdown","DropdownIcon","components_BulkChangeModal","renderFacets","components_MyIssuesFilter","FiltersHeader","displayReset","onReset","sidebar_Sidebar","renderConciseIssuesList","conciseIssuesList_ConciseIssuesList","ListFooter","loadMore","renderSide","ScreenPositionHelper","top","noIssuesMessage","common_EmptySearch","components_IssuesList","renderShortcutsForLocations","hasSeveralFlows","renderPage","components_IssuesSourceViewer","branch","pullRequest","Suggestions","suggestions","Helmet_default","a","components_PageActions","Boolean","prop_types","isRequired","exports","content","hmr","insertInto","locals","baseFlatten","baseRest","baseUniq","isArrayLikeObject","union","arrays","__webpack_exports__","history","_getHistory__WEBPACK_IMPORTED_MODULE_0__","returnTo","search","return_to","children","react__WEBPACK_IMPORTED_MODULE_0__","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","_app_theme__WEBPACK_IMPORTED_MODULE_4__","tagName","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","mouseLeaveDelay","onShow","addSuggestions","removeSuggestions","prop_types__WEBPACK_IMPORTED_MODULE_1__","qualifierIcons","app","_Icon__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_2__","brc","dev","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","icon-checkbox-checked","icon-checkbox-single","icon-checkbox-disabled","note","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","ready","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","new-loading","_helpers_measures__WEBPACK_IMPORTED_MODULE_3__","formatterOption","year","month","day","hour","minute","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","collapsePath","limit","tokens","split","head","tail","middle","cut","shift","collapsedDirFromPath","fileFromPath","splitPath","limitComponentName","str","data-property","FacetItem_FacetItem","ctrlKey","metaKey","search-navigator-facet-half","navigator","userAgent","placement","data-facet","renderHelper","helper","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","renderValueIndicator","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","showClearButton","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","getRulesApp","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","catch","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","searchRules","takeFacet","getRuleDetails","getRuleTags","r","createRule","deleteRule","updateRule","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","react__WEBPACK_IMPORTED_MODULE_1__","ChevronDownIcon","Icon","OpenCloseIcon","ChevronRightcon","baseOrderBy","iteratees","orders","guard","mapDispatchToProps","onReceiveComponent","dispatch","canMarkAsFavorite","favorites","notFavorites","fav","_store_favorites_duck__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_0__","_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","HomeIcon","filled","is-filled","color","HomePageSelect_HomePageSelect","setHomePage","homepage","isSymbol","array","comparator","computed","result","handleFromChange","setTimeout","toDateInput","focus","handleToChange","defineProperty","_DateInput__WEBPACK_IMPORTED_MODULE_2__","currentMonth","data-test","highlightTo","maxDate","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","highlightFrom","minDate","shouldBeDisplayed","_ui_OrganizationLink__WEBPACK_IMPORTED_MODULE_3__","react_redux__WEBPACK_IMPORTED_MODULE_1__","ownProps","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","statusIcons","icons_components_Icon","confirmed","reopened","closed","StatusIcon","leading","clickAttributes","is-leading","_controls_SearchSelect__WEBPACK_IMPORTED_MODULE_1__","autofocus","EllipsisIcon","baseDifference","last","differenceWith","currentQuery","Array","handleInputChange","handleFilterOption","Component","_Select__WEBPACK_IMPORTED_MODULE_2__","autoFocus","escapeClearsValue","filterOption","isLoading","onBlurResetsInput","onInputChange","IssueChangelogDiff","diff","index_js_exposed_default","createElement","oldValue","ChangelogPopup","changelogs","loadChangelog","onFail","creationDate","idx","userName","diffs","PureComponent","IssueChangelog","toggleChangelog","togglePopup","handleClose","IssueChangelog_extends","Toggler","isOpen","popups_ChangelogPopup","IssueMessage","workspace","openRule","IssueMessage_extends","aria-label","engine","manualVulnerability","prop_types_default","object","SelectListItem","evt","handleHover","onHover","SelectListItem_extends","renderLink","classnames_default","onMouseOver","onFocus","SelectList","previousKeyScope","keymaster_default","getScope","previousFilter","currentKeyScope","uniqueId_default","setScope","target","srcElement","isInput","selectNextElement","selectPreviousElement","deleteScope","renderChild","child","common_SelectListItem","cloneElement","currentItem","SelectList_extends","hasChildren","Children","SimilarIssuesPopup","SimilarIssuesPopup_extends","noPadding","common_SelectList","assigneeAvatar","assigneeName","ruleName","componentQualifier","SimilarIssuesFilter","SimilarIssuesFilter_extends","popups_SimilarIssuesPopup","FilterIcon","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","reduce","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","components_IssueMessage","externalRuleEngine","fromHotspot","components_IssueChangelog","currentPopup","LinkIcon","components_SimilarIssuesFilter","LIST_SIZE","SetAssigneePopup_SetAssigneePopup","SetAssigneePopup","searchMembers","organizations","projectOrganization","handleSearchResult","searchUsers","handleSearchChange","defaultUsersArray","organizationsEnabled","SetAssigneePopup_extends","SearchBox","minLength","map_default","marginLeft","popups_SetAssigneePopup","IssueAssign","toggleAssign","IssueAssign_extends","renderAssignee","canAssign","closeOnEscape","onAssign","actions_updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","helpers_issues","CommentPopup","handleCommentChange","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","handleKeyboard","stopPropagation","markdown","CommentPopup_extends","onKeyDown","IssueCommentAction","addComment","IssueCommentAction_extends","popups_CommentPopup","commentPlaceholder","SEVERITY","SetSeverityPopup","SetSeverityPopup_extends","SeverityIcon","IssueSeverity","toggleSetSeverity","setSeverity","setIssueProperty","IssueSeverity_extends","canSetSeverity","popups_SetSeverityPopup","SetIssueTagsPopup_LIST_SIZE","SetIssueTagsPopup","searchResult","selectedTags","setTags","onUnselect","SetIssueTagsPopup_extends","availableTags","difference_default","popups","BottomRight","TagsSelector","listSize","IssueTags","toggleSetTags","IssueTags_assign","IssueTags_extends","canSetTags","popups_SetIssueTagsPopup","TagsList","allowUpdate","SetTransitionPopup","SetTransitionPopup_extends","IssueTransition","setTransition","toggleSetTransition","IssueTransition_extends","hasTransitions","popups_SetTransitionPopup","TYPES","SetTypePopup","SetTypePopup_extends","IssueType","toggleSetType","setType","IssueType_extends","canSetType","popups_SetTypePopup","IssueActionsBar","popup","apiCall","IssueActionsBar_assign","handleTransition","IssueActionsBar_extends","canComment","isSecurityHotspot","components_IssueType","components_IssueSeverity","components_IssueTransition","components_IssueAssign","effort","components_IssueCommentAction","components_IssueTags","CommentDeletePopup","onDelete","IssueCommentLine","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","force","closePopups","IssueCommentLine_extends","authorName","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","updatable","IssueView","handleCheck","isClickable","toUpperCase","parentNode","editComment","deleteComment","IssueView_extends","hasCheckbox","issueClass","issue-with-checkbox","data-issue","components_IssueActionsBar","comments","components_IssueCommentLine","Issue_Issue","handleAssignement","handleFail","rootActions","store","Issue_extends","bindShortcuts","componentWillUpdate","unbindShortcuts","unbind","issue_IssueView","EmptySearch","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","baseExtremum","baseGt","identity","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","renderOwaspTop10Category","withPrefix","record","addPrefix","renderCWECategory","renderSansTop25Category","prefix"],"mappings":"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","file":"js/319.758c0a79.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { pickBy, sortBy } from 'lodash';\nimport { searchAssignees } from '../utils';\nimport { searchIssueTags, bulkChangeIssues } from '../../../api/issues';\nimport { Component, CurrentUser, Issue, Paging, isLoggedIn } from '../../../app/types';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport SearchSelect from '../../../components/controls/SearchSelect';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Avatar from '../../../components/ui/Avatar';\nimport { SubmitButton } from '../../../components/ui/buttons';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: Component | undefined;\n  currentUser: CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: Issue[]; paging: Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n  organization: { key: string } | undefined;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  organization?: string;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    let organization = props.component && props.component.organization;\n    if (props.organization && !organization) {\n      organization = props.organization.key;\n    }\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false, organization };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([\n      this.loadIssues(),\n      searchIssueTags({ organization: this.state.organization })\n    ]).then(\n      ([issues, tags]) => {\n        if (this.mounted) {\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues: issues.issues,\n            loading: false,\n            paging: issues.paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: 250 });\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleCloseClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClose();\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query, this.state.organization);\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ organization: this.state.organization, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleFieldChange = (field: 'comment' | 'transition') => (\n    event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    /* eslint-disable camelcase */\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n    /* eslint-enable camelcase */\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: Issue[]) {\n    const transitions: { [x: string]: number } = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderCancelButton = () => (\n    <a href=\"#\" id=\"bulk-change-cancel\" onClick={this.handleCloseClick}>\n      {translate('cancel')}\n    </a>\n  );\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">{this.renderCancelButton()}</div>\n    </div>\n  );\n\n  renderCheckbox = (field: keyof FormFields) => (\n    <Checkbox checked={this.state[field] !== undefined} onCheck={this.handleFieldCheck(field)} />\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <span>\n        <IssueTypeIcon className=\"little-spacer-right\" query={option.value} />\n        {option.label}\n      </span>\n    );\n\n    const input = (\n      <Select\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span className=\"clearfix\" key={transition.transition}>\n            <input\n              checked={this.state.transition === transition.transition}\n              id={`transition-${transition.transition}`}\n              name=\"do_transition.transition\"\n              onChange={this.handleFieldChange('transition')}\n              type=\"radio\"\n              value={transition.transition}\n            />\n            <label\n              htmlFor={`transition-${transition.transition}`}\n              style={{ float: 'none', display: 'inline', left: 0, cursor: 'pointer' }}>\n              {translate('issue.transition', transition.transition)}\n            </label>\n            {this.renderAffected(transition.count)}\n            <br />\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <div>\n          <textarea\n            id=\"comment\"\n            onChange={this.handleFieldChange('comment')}\n            rows={4}\n            style={{ width: '100%' }}\n            value={this.state.comment || ''}\n          />\n        </div>\n        <div className=\"pull-right\">\n          <MarkdownTips />\n        </div>\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"send-notifications\">{translate('issue.send_notifications')}</label>\n      {this.renderCheckbox('notifications')}\n    </div>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging !== undefined && paging.total > paging.pageIndex * paging.pageSize;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body\">\n          {limitReached && (\n            <div className=\"alert alert-warning\">\n              {translateWithParameters('issue_bulk_change.max_issues_reached', issues.length)}\n            </div>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <span className=\"alert alert-warning\">{translate('issue_bulk_change.no_match')}</span>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting || issues.length === 0} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          {this.renderCancelButton()}\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose}>\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getSelectedLocation } from '../utils';\nimport { BranchLike, Component, Issue } from '../../../app/types';\nimport Organization from '../../../components/shared/Organization';\nimport { collapsePath, limitComponentName } from '../../../helpers/path';\nimport { getBranchLikeUrl, getCodeUrl } from '../../../helpers/urls';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: Component;\n  issue: Pick<\n    Issue,\n    | 'component'\n    | 'componentLongName'\n    | 'flows'\n    | 'organization'\n    | 'project'\n    | 'projectName'\n    | 'secondaryLocations'\n    | 'subProject'\n    | 'subProjectName'\n  >;\n  link?: boolean;\n  organization: { key: string } | undefined;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  branchLike,\n  component,\n  link = true,\n  issue,\n  organization,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayOrganization =\n    !organization && (!component || ['VW', 'SVW'].includes(component.qualifier));\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentKey = selectedLocation ? selectedLocation.component : issue.component;\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div className=\"component-name text-ellipsis\">\n      {displayOrganization && (\n        <Organization\n          link={link}\n          linkClassName=\"link-no-underline\"\n          organizationKey={issue.organization}\n        />\n      )}\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {link ? (\n            <Link className=\"link-no-underline\" to={getBranchLikeUrl(issue.project, branchLike)}>\n              {limitComponentName(issue.projectName)}\n            </Link>\n          ) : (\n            limitComponentName(issue.projectName)\n          )}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject &&\n        issue.subProject !== undefined &&\n        issue.subProjectName !== undefined && (\n          <span title={issue.subProjectName}>\n            {link ? (\n              <Link\n                className=\"link-no-underline\"\n                to={getBranchLikeUrl(issue.subProject, branchLike)}>\n                {limitComponentName(issue.subProjectName)}\n              </Link>\n            ) : (\n              limitComponentName(issue.subProjectName)\n            )}\n            <span className=\"slash-separator\" />\n          </span>\n        )}\n\n      {link ? (\n        <Link\n          className=\"link-no-underline\"\n          to={getCodeUrl(issue.project, branchLike, componentKey)}>\n          <span title={componentName}>{collapsePath(componentName || '')}</span>\n        </Link>\n      ) : (\n        collapsePath(componentName || '')\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport { Query } from '../utils';\nimport { BranchLike, Issue as IssueType, Component } from '../../../app/types';\nimport Issue from '../../../components/issue/Issue';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: boolean;\n  component: Component | undefined;\n  issue: IssueType;\n  onChange: (issue: IssueType) => void;\n  onCheck: ((issueKey: string, event: Event) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  organization: { key: string } | undefined;\n  previousIssue: IssueType | undefined;\n  selected: boolean;\n}\n\ninterface State {\n  similarIssues: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props, State> {\n  state: State = { similarIssues: false };\n\n  handleFilter = (property: string, issue: IssueType) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectUuid] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs\n              branchLike={branchLike}\n              component={component}\n              issue={this.props.issue}\n              link={false}\n              organization={this.props.organization}\n            />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          displayLocationsLink={false}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ListItem from './ListItem';\nimport { Query } from '../utils';\nimport { BranchLike, Component, Issue } from '../../../app/types';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: string[];\n  component: Component | undefined;\n  issues: Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: Issue) => void;\n  onIssueCheck: ((issueKey: string, event: Event) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  organization: { key: string } | undefined;\n  selectedIssue: Issue | undefined;\n}\n\nexport default class IssuesList extends React.PureComponent<Props> {\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n\n    return (\n      <div>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            organization={this.props.organization}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocations, getSelectedLocation } from '../utils';\nimport { BranchLike, Issue } from '../../../app/types';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  loadIssues: (component: string, from: number, to: number) => Promise<Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, smooth = true) => {\n    const offset = window.innerHeight / 2;\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex);\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const component = selectedLocation ? selectedLocation.component : openIssue.component;\n\n    // if location is selected, show (and load) code around it\n    // otherwise show code around the open issue\n    const aroundLine = selectedLocation\n      ? selectedLocation.textRange.startLine\n      : openIssue.textRange && openIssue.textRange.endLine;\n\n    // replace locations in another file with `undefined` to keep the same location indexes\n    const highlightedLocations = locations.map(\n      location => (location.component === component ? location : undefined)\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    const allMessagesEmpty = locations !== undefined && locations.every(location => !location.msg);\n\n    // do not load issues when open another file for a location\n    const loadIssues =\n      component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n    const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n    return (\n      <div ref={node => (this.node = node)}>\n        <SourceViewer\n          aroundLine={aroundLine}\n          branchLike={this.props.branchLike}\n          component={component}\n          displayAllIssues={true}\n          displayIssueLocationsCount={false}\n          displayIssueLocationsLink={false}\n          displayLocationMarkers={!allMessagesEmpty}\n          highlightedLocationMessage={highlightedLocationMessage}\n          highlightedLocations={highlightedLocations}\n          loadIssues={loadIssues}\n          onIssueChange={this.props.onIssueChange}\n          onIssueSelect={this.props.onIssueSelect}\n          onLoaded={this.handleLoaded}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.handleScroll}\n          selectedIssue={selectedIssue}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PageCounter from '../../../components/common/PageCounter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left flash flash-heavy\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n}\n\n/* eslint-disable max-len */\nconst icon = (\n  <svg height=\"24\" viewBox=\"0 0 18 24\" width=\"18\">\n    <path d=\"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z\" />\n  </svg>\n);\n/* eslint-enable max-len */\n\nexport default function ReloadButton(props: Props) {\n  const handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    props.onClick();\n  };\n\n  return (\n    <Tooltip overlay={translate('reload')}>\n      <a\n        className={classNames('concise-issues-list-header-button', props.className)}\n        href=\"#\"\n        onClick={handleClick}>\n        {icon}\n      </a>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssuesCounter from './IssuesCounter';\nimport ReloadButton from './ReloadButton';\nimport { HomePageType, Paging } from '../../../app/types';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\n\ninterface Props {\n  canSetHome: boolean;\n  onReload: () => void;\n  paging: Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default class PageActions extends React.PureComponent<Props> {\n  renderShortcuts() {\n    return (\n      <span className=\"note big-spacer-right\">\n        <span className=\"big-spacer-right\">\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_select_issues')}\n        </span>\n\n        <span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_navigate')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    const { paging, selectedIndex } = this.props;\n\n    return (\n      <div className=\"pull-right\">\n        {this.renderShortcuts()}\n\n        <div className=\"issues-page-actions\">\n          <ReloadButton onClick={this.props.onReload} />\n          {paging != null && (\n            <IssuesCounter className=\"spacer-left\" current={selectedIndex} total={paging.total} />\n          )}\n        </div>\n\n        {this.props.canSetHome && (\n          <HomePageSelect\n            className=\"huge-spacer-left\"\n            currentPage={\n              isSonarCloud() ? { type: HomePageType.MyIssues } : { type: HomePageType.Issues }\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\nimport { Issue } from '../../../app/types';\n\ninterface Props {\n  issue: Pick<Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 3;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <a className=\"little-spacer-left link-no-underline\" href=\"#\" onClick={this.handleExpandClick}>\n        ...\n      </a>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    return this.state.collapsed ? (\n      <div className=\"concise-issue-locations pull-right\">\n        {badges.slice(0, LIMIT)}\n        {badges.length > LIMIT && this.renderExpandButton()}\n      </div>\n    ) : (\n      <div className=\"concise-issue-locations spacer-top\">{badges}</div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={this.props.selected}>{this.props.index + 1}</LocationIndex>\n          <LocationMessage selected={this.props.selected}>{this.props.message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport { Issue, FlowLocation } from '../../../app/types';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  issue: Pick<Issue, 'key'>;\n  locations: FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: FlowLocation[];\n}\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', 15)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\nimport { getLocations } from '../utils';\nimport { Issue } from '../../../app/types';\n\ninterface Props {\n  issue: Pick<Issue, 'component' | 'key' | 'flows' | 'secondaryLocations'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\nimport { Issue } from '../../../app/types';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TypeHelper from '../../../components/shared/TypeHelper';\n\ninterface Props {\n  issue: Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations =\n      selectedFlowIndex !== undefined\n        ? flows[selectedFlowIndex]\n        : flows.length > 0 ? flows[0] : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) this.props.scroll(this.rootElement);\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper type={issue.type} />\n          <SeverityHelper className=\"big-spacer-left\" severity={issue.severity} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <ConciseIssueLocationsNavigator\n            issue={issue}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.props.scroll}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent(props: Props) {\n  return (\n    <div className=\"concise-issue-component note text-ellipsis\">{collapsePath(props.path, 20)}</div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\nimport { Issue } from '../../../app/types';\n\ninterface Props {\n  issue: Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssue from './ConciseIssue';\nimport { Issue } from '../../../app/types';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  issues: Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n}\n\n/* eslint-disable max-len */\nconst icon = (\n  <svg height=\"24\" viewBox=\"0 0 21 24\" width=\"21\">\n    <path d=\"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\" />\n  </svg>\n);\n/* eslint-enable max-len */\n\nexport default function BackButton(props: Props) {\n  const handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    props.onClick();\n  };\n\n  return (\n    <Tooltip overlay={translate('issues.return_to_list')}>\n      <a\n        className={classNames('concise-issues-list-header-button', props.className)}\n        href=\"#\"\n        onClick={handleClick}>\n        {icon}\n      </a>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from './BackButton';\nimport ReloadButton from '../components/ReloadButton';\nimport IssuesCounter from '../components/IssuesCounter';\nimport { Paging } from '../../../app/types';\n\ninterface Props {\n  displayBackButton?: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n  onReload: () => void;\n  paging: Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default function ConciseIssuesListHeader(props: Props) {\n  const { displayBackButton = true, paging, selectedIndex } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner\">\n        {displayBackButton && <BackButton className=\"pull-left\" onClick={props.onBackClick} />}\n        {props.loading ? (\n          <i className=\"spinner pull-right\" />\n        ) : (\n          <ReloadButton className=\"pull-right\" onClick={props.onReload} />\n        )}\n        {paging && <IssuesCounter current={selectedIndex} total={paging.total} />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { searchAssignees, formatFacetStat, Query, ReferencedUser } from '../utils';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport Avatar from '../../../components/ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\nexport interface Props {\n  assigned: boolean;\n  assignees: string[];\n  component: Component | undefined;\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  stats: { [x: string]: number } | undefined;\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  property = 'assignees';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        [this.property]: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  handleSearch = (query: string) => {\n    return searchAssignees(query, this.props.organization);\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { assignees } = this.props;\n    this.props.onChange({ assigned: true, [this.property]: uniq([...assignees, option.value]) });\n  };\n\n  isAssigneeActive(assignee: string) {\n    return assignee === '' ? !this.props.assigned : this.props.assignees.includes(assignee);\n  }\n\n  getAssigneeName(assignee: string) {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const { referencedUsers } = this.props;\n      if (referencedUsers[assignee]) {\n        return (\n          <span>\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={referencedUsers[assignee].avatar}\n              name={referencedUsers[assignee].name}\n              size={16}\n            />\n            {referencedUsers[assignee].name}\n          </span>\n        );\n      } else {\n        return assignee;\n      }\n    }\n  }\n\n  getStat(assignee: string) {\n    const { stats } = this.props;\n    return stats ? stats[assignee] : undefined;\n  }\n\n  getValues() {\n    const values = this.props.assignees.map(assignee => {\n      const user = this.props.referencedUsers[assignee];\n      return user ? user.name : assignee;\n    });\n    if (!this.props.assigned) {\n      values.push(translate('unassigned'));\n    }\n    return values;\n  }\n\n  renderOption = (option: { avatar: string; label: string }) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={option.avatar}\n            name={option.label}\n            size={16}\n          />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const assignees = sortBy(\n      Object.keys(stats),\n      // put unassigned first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n\n    return (\n      <FacetItemsList>\n        {assignees.map(assignee => (\n          <FacetItem\n            active={this.isAssigneeActive(assignee)}\n            key={assignee}\n            loading={this.props.loading}\n            name={this.getAssigneeName(assignee)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(assignee))}\n            tooltip={this.props.assignees.length === 1 && !this.isAssigneeActive(assignee)}\n            value={assignee}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <FacetFooter\n        onSearch={this.handleSearch}\n        onSelect={this.handleSelect}\n        renderOption={this.renderOption}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  authors: string[];\n}\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  property = 'authors';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { authors } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        authors.includes(itemValue) ? without(authors, itemValue) : [...authors, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: authors.includes(itemValue) && authors.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(author: string) {\n    const { stats } = this.props;\n    return stats ? stats[author] : undefined;\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const authors = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {authors.map(author => (\n          <FacetItem\n            active={this.props.authors.includes(author)}\n            key={author}\n            loading={this.props.loading}\n            name={author}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(author))}\n            tooltip={this.props.authors.length === 1 && !this.props.authors.includes(author)}\n            value={author}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.props.authors}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\n\ninterface DataPoint {\n  tooltip?: React.ReactNode;\n  x: number;\n  y: number;\n}\n\ninterface Props<T> {\n  barsWidth: number;\n  data: Array<DataPoint & T>;\n  height: number;\n  onBarClick?: (point: DataPoint & T) => void;\n  padding?: [number, number, number, number];\n  width: number;\n  xTicks?: string[];\n  xValues?: string[];\n}\n\nexport default class BarChart<T> extends React.PureComponent<Props<T>> {\n  handleClick = (point: DataPoint & T) => {\n    if (this.props.onBarClick) {\n      this.props.onBarClick(point);\n    }\n  };\n\n  renderXTicks = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xTicks = [] } = this.props;\n\n    if (!xTicks.length) {\n      return null;\n    }\n\n    const ticks = xTicks.map((tick, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale.range()[0];\n      const d = data[index];\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"1.5em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {tick}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={d.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderXValues = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xValues = [] } = this.props;\n\n    if (!xValues.length) {\n      return null;\n    }\n\n    const ticks = xValues.map((value, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale(point.y);\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"-1em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {value}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderBars = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const bars = this.props.data.map((point, index) => {\n      const x = Math.round(xScale(point.x) as number);\n      const maxY = yScale.range()[0];\n      const y = Math.round(yScale(point.y)) - /* minimum bar height */ 1;\n      const height = maxY - y;\n      const rect = (\n        <rect\n          className=\"bar-chart-bar\"\n          height={height}\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          width={this.props.barsWidth}\n          x={x}\n          y={y}\n        />\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {rect}\n        </Tooltip>\n      );\n    });\n    return <g>{bars}</g>;\n  };\n\n  render() {\n    const { barsWidth, data, width, height, padding = [10, 10, 10, 10] } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const availableHeight = height - padding[0] - padding[2];\n\n    const innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n    const relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n\n    const maxY = max(data, d => d.y) as number;\n    const xScale = scaleBand<number>()\n      .domain(data.map(d => d.x))\n      .range([0, availableWidth])\n      .paddingInner(relativeInnerPadding);\n    const yScale = scaleLinear()\n      .domain([0, maxY])\n      .range([availableHeight, 0]);\n\n    return (\n      <svg className=\"bar-chart\" height={height} width={width}>\n        <g transform={`translate(${padding[3]}, ${padding[0]})`}>\n          {this.renderXTicks(xScale, yScale)}\n          {this.renderXValues(xScale, yScale)}\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'lodash';\nimport { intlShape } from 'react-intl';\nimport { Query } from '../utils';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport BarChart from '../../../components/charts/BarChart';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport { isSameDay, parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  component: Component | undefined;\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class CreationDateFacet extends React.PureComponent<Props> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  static contextTypes = {\n    intl: intlShape\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const { createdAfter, createdAt, createdBefore, createdInLast, sinceLeakPeriod } = this.props;\n    const { formatDate } = this.context.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(formatDate(createdAfter, longFormatterOption));\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.leak_period'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.context.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: this.props.loading ? 0 : stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderExactDate() {\n    return (\n      <div className=\"search-navigator-facet-container\">\n        <DateTimeFormatter date={this.props.createdAt} />\n        <br />\n        <span className=\"note\">\n          <DateFromNow date={this.props.createdAt} />\n        </span>\n      </div>\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          loading={this.props.loading}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          value=\"\"\n        />\n        {component ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            loading={this.props.loading}\n            name={translate('issues.leak_period')}\n            onClick={this.handleLeakPeriodClick}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              loading={this.props.loading}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              loading={this.props.loading}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              loading={this.props.loading}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAt } = this.props;\n    return createdAt ? (\n      this.renderExactDate()\n    ) : (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  directories: string[];\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  property = 'directories';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { directories } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        directories.includes(itemValue)\n          ? without(directories, itemValue)\n          : [...directories, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]:\n          directories.includes(itemValue) && directories.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(directory: string) {\n    const { stats } = this.props;\n    return stats ? stats[directory] : undefined;\n  }\n\n  renderName(directory: string) {\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n        {directory}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const directories = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {directories.map(directory => (\n          <FacetItem\n            active={this.props.directories.includes(directory)}\n            key={directory}\n            loading={this.props.loading}\n            name={this.renderName(directory)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(directory))}\n            tooltip={\n              this.props.directories.length === 1 && !this.props.directories.includes(directory)\n            }\n            value={directory}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    const values = this.props.directories.map(dir => collapsePath(dir));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  files: string[];\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class FileFacet extends React.PureComponent<Props> {\n  property = 'files';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { files } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        files.includes(itemValue) ? without(files, itemValue) : [...files, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: files.includes(itemValue) && files.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(file: string) {\n    const { stats } = this.props;\n    return stats ? stats[file] : undefined;\n  }\n\n  getFileName(file: string) {\n    const { referencedComponents } = this.props;\n    return referencedComponents[file] ? collapsePath(referencedComponents[file].path, 15) : file;\n  }\n\n  renderName(file: string) {\n    const name = this.getFileName(file);\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n        {name}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const files = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {files.map(file => (\n          <FacetItem\n            active={this.props.files.includes(file)}\n            key={file}\n            loading={this.props.loading}\n            name={this.renderName(file)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(file))}\n            tooltip={this.props.files.length === 1 && !this.props.files.includes(file)}\n            value={file}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    const values = this.props.files.map(file => this.getFileName(file));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { differenceWith } from 'lodash';\nimport Select from '../../../components/controls/Select';\nimport { translate } from '../../../helpers/l10n';\nimport { getLanguages } from '../../../store/rootReducer';\n\ninterface Props {\n  languages: Array<{ key: string; name: string }>;\n  onSelect: (value: string) => void;\n  selected: string[];\n}\n\nclass LanguageFacetFooter extends React.PureComponent<Props> {\n  handleChange = (option: { value: string }) => {\n    this.props.onSelect(option.value);\n  };\n\n  render() {\n    const options = differenceWith(\n      this.props.languages,\n      this.props.selected,\n      (language, key) => language.key === key\n    ).map(language => ({ label: language.name, value: language.key }));\n\n    if (options.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"search-navigator-facet-footer\">\n        <Select\n          className=\"input-super-large\"\n          clearable={false}\n          noResultsText={translate('select2.noMatches')}\n          onChange={this.handleChange}\n          options={options}\n          placeholder={translate('search.search_for_languages')}\n          searchable={true}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  languages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacetFooter);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport LanguageFacetFooter from './LanguageFacetFooter';\nimport { formatFacetStat, Query, ReferencedLanguage } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class LanguageFacet extends React.PureComponent<Props> {\n  property = 'languages';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { languages } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        languages.includes(itemValue) ? without(languages, itemValue) : [...languages, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: languages.includes(itemValue) && languages.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getLanguageName(language: string) {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  }\n\n  getStat(language: string) {\n    const { stats } = this.props;\n    return stats ? stats[language] : undefined;\n  }\n\n  handleSelect = (language: string) => {\n    const { languages } = this.props;\n    this.props.onChange({ [this.property]: uniq([...languages, language]) });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const languages = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {languages.map(language => (\n          <FacetItem\n            active={this.props.languages.includes(language)}\n            key={language}\n            loading={this.props.loading}\n            name={this.getLanguageName(language)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(language))}\n            tooltip={this.props.languages.length === 1 && !this.props.languages.includes(language)}\n            value={language}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <LanguageFacetFooter onSelect={this.handleSelect} selected={Object.keys(this.props.stats)} />\n    );\n  }\n\n  render() {\n    const values = this.props.languages.map(language => this.getLanguageName(language));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  loading?: boolean;\n  modules: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class ModuleFacet extends React.PureComponent<Props> {\n  property = 'modules';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { modules } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        modules.includes(itemValue) ? without(modules, itemValue) : [...modules, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: modules.includes(itemValue) && modules.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(module: string) {\n    const { stats } = this.props;\n    return stats ? stats[module] : undefined;\n  }\n\n  getModuleName(module: string) {\n    const { referencedComponents } = this.props;\n    return referencedComponents[module] ? referencedComponents[module].name : module;\n  }\n\n  renderName(module: string) {\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n        {this.getModuleName(module)}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const modules = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {modules.map(module => (\n          <FacetItem\n            active={this.props.modules.includes(module)}\n            key={module}\n            loading={this.props.loading}\n            name={this.renderName(module)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(module))}\n            tooltip={this.props.modules.length === 1 && !this.props.modules.includes(module)}\n            value={module}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    const values = this.props.modules.map(module => this.getModuleName(module));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport { searchProjects, getTree } from '../../../api/components';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport Organization from '../../../components/shared/Organization';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  component: Component | undefined;\n  loading?: boolean;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  projects: string[];\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  property = 'projects';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { projects } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        projects.includes(itemValue) ? without(projects, itemValue) : [...projects, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: projects.includes(itemValue) && projects.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  handleSearch = (query: string) => {\n    const { component, organization } = this.props;\n    if (component && ['VW', 'SVW', 'APP'].includes(component.qualifier)) {\n      return getTree(component.key, { ps: 50, q: query, qualifiers: 'TRK' }).then(response =>\n        response.components.map((component: any) => ({\n          label: component.name,\n          organization: component.organization,\n          value: component.refId\n        }))\n      );\n    }\n\n    return searchProjects({\n      ps: 50,\n      filter: query ? `query = \"${query}\"` : '',\n      organization: organization && organization.key\n    }).then(response =>\n      response.components.map(component => ({\n        label: component.name,\n        organization: component.organization,\n        value: component.id\n      }))\n    );\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { projects } = this.props;\n    this.props.onChange({ [this.property]: uniq([...projects, option.value]) });\n  };\n\n  getStat(project: string) {\n    const { stats } = this.props;\n    return stats ? stats[project] : undefined;\n  }\n\n  getProjectName(project: string) {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  }\n\n  renderName(project: string) {\n    const { organization, referencedComponents } = this.props;\n    return referencedComponents[project] ? (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {!organization && (\n          <Organization link={false} organizationKey={referencedComponents[project].organization} />\n        )}\n        {referencedComponents[project].name}\n      </span>\n    ) : (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {project}\n      </span>\n    );\n  }\n\n  renderOption = (option: { label: string; organization: string }) => {\n    return (\n      <span>\n        <Organization link={false} organizationKey={option.organization} />\n        {option.label}\n      </span>\n    );\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const projects = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {projects.map(project => (\n          <FacetItem\n            active={this.props.projects.includes(project)}\n            key={project}\n            loading={this.props.loading}\n            name={this.renderName(project)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(project))}\n            tooltip={this.props.projects.length === 1 && !this.props.projects.includes(project)}\n            value={project}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <FacetFooter\n        minimumQueryLength={3}\n        onSearch={this.handleSearch}\n        onSelect={this.handleSelect}\n        renderOption={this.renderOption}\n      />\n    );\n  }\n\n  render() {\n    const values = this.props.projects.map(project => this.getProjectName(project));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={resolution}\n        loading={this.props.loading}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={\n          this.props.resolutions.length === 1 &&\n          resolution !== '' &&\n          !this.props.resolutions.includes(resolution)\n        }\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const resolutions = ['', 'FIXED', 'FALSE-POSITIVE', 'WONTFIX', 'REMOVED'];\n    const values = this.props.resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          clearLabel=\"reset_verb\"\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && <FacetItemsList>{resolutions.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport { searchRules } from '../../../api/rules';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  referencedRules: { [ruleKey: string]: { name: string } };\n  rules: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  property = 'rules';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { rules } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        rules.includes(itemValue) ? without(rules, itemValue) : [...rules, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: rules.includes(itemValue) && rules.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  handleSearch = (query: string) => {\n    const { languages, organization } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      organization,\n      q: query,\n      include_external: true\n    }).then(response =>\n      response.rules.map(rule => ({ label: `(${rule.langName}) ${rule.name}`, value: rule.key }))\n    );\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { rules } = this.props;\n    this.props.onChange({ [this.property]: uniq([...rules, option.value]) });\n  };\n\n  getRuleName(rule: string): string {\n    const { referencedRules } = this.props;\n    return referencedRules[rule] ? referencedRules[rule].name : rule;\n  }\n\n  getStat(rule: string) {\n    const { stats } = this.props;\n    return stats ? stats[rule] : undefined;\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const rules = sortBy(Object.keys(stats), key => -stats[key], key => this.getRuleName(key));\n\n    return (\n      <FacetItemsList>\n        {rules.map(rule => (\n          <FacetItem\n            active={this.props.rules.includes(rule)}\n            key={rule}\n            loading={this.props.loading}\n            name={this.getRuleName(rule)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(rule))}\n            tooltip={this.props.rules.length === 1 && !this.props.rules.includes(rule)}\n            value={rule}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return <FacetFooter onSearch={this.handleSearch} onSelect={this.handleSelect} />;\n  }\n\n  render() {\n    const values = this.props.rules.map(rule => this.getRuleName(rule));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={severity}\n        loading={this.props.loading}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.severities.length === 1 && !this.props.severities.includes(severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const severities = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n    const values = this.props.severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && <FacetItemsList>{severities.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { Query, STANDARDS, formatFacetStat } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { translate } from '../../../helpers/l10n';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport Select from '../../../components/controls/Select';\nimport {\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderCWECategory,\n  Standards\n} from '../../securityReports/utils';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\nexport interface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: { [x: string]: number } | undefined;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingCwe: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: { [x: string]: number } | undefined;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: { [x: string]: number } | undefined;\n}\n\ninterface State {\n  standards: Standards;\n}\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = { standards: { owaspTop10: {}, sansTop25: {}, cwe: {} } };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    import('../../../helpers/standards.json')\n      .then(x => x.default)\n      .then(\n        ({ owaspTop10, sansTop25, cwe }: Standards) => {\n          if (this.mounted) {\n            this.setState({ standards: { owaspTop10, sansTop25, cwe } });\n          }\n        },\n        () => {}\n      );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleCWEHeaderClick = () => {\n    this.props.onToggle('cwe');\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [], owaspTop10: [], sansTop25: [], cwe: [] });\n  };\n\n  handleItemClick = (\n    prop: 'owaspTop10' | 'sansTop25' | 'cwe',\n    itemValue: string,\n    multiple: boolean\n  ) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('owaspTop10', itemValue, multiple);\n  };\n\n  handleCWEItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('cwe', itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sansTop25', itemValue, multiple);\n  };\n\n  handleCWESelect = ({ value }: { value: string }) => {\n    this.handleItemClick('cwe', value, true);\n  };\n\n  renderList = (\n    statsProp: 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats',\n    valuesProp: 'owaspTop10' | 'cwe' | 'sansTop25',\n    renderName: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n\n    if (!stats) {\n      return null;\n    }\n\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            loading={this.props.loading}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={values.length === 1 && !values.includes(category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      'owaspTop10',\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderCWEList() {\n    return this.renderList('cweStats', 'cwe', renderCWECategory, this.handleCWEItemClick);\n  }\n\n  renderCWESearch() {\n    const options = Object.keys(this.state.standards.cwe).map(cwe => ({\n      label: renderCWECategory(this.state.standards, cwe),\n      value: cwe\n    }));\n    return (\n      <div className=\"search-navigator-facet-footer\">\n        <Select\n          className=\"input-super-large\"\n          clearable={false}\n          noResultsText={translate('select2.noMatches')}\n          onChange={this.handleCWESelect}\n          options={options}\n          placeholder={translate('search.search_for_cwe')}\n          searchable={true}\n        />\n      </div>\n    );\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      'sansTop25',\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property=\"owaspTop10\">\n          <FacetHeader\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingOwaspTop10} />\n          {this.props.owaspTop10Open && this.renderOwaspTop10List()}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"sansTop25\">\n          <FacetHeader\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingSansTop25} />\n          {this.props.sansTop25Open && this.renderSansTop25List()}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"cwe\">\n          <FacetHeader\n            name={translate('issues.facet.cwe')}\n            onClick={this.handleCWEHeaderClick}\n            open={this.props.cweOpen}\n            values={this.props.cwe.map(item => renderCWECategory(this.state.standards, item))}\n          />\n          <DeferredSpinner loading={this.props.fetchingCwe} />\n          {this.props.cweOpen && this.renderCWEList()}\n          {this.props.cweOpen && this.renderCWESearch()}\n        </FacetBox>\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  statuses: string[];\n}\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={status}\n        loading={this.props.loading}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.statuses.length === 1 && !this.props.statuses.includes(status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const statuses = ['OPEN', 'RESOLVED', 'REOPENED', 'CLOSED', 'CONFIRMED'];\n    const values = this.props.statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && <FacetItemsList>{statuses.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport { searchIssueTags } from '../../../api/issues';\nimport * as theme from '../../../app/theme';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  component: Component | undefined;\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  stats: { [x: string]: number } | undefined;\n  tags: string[];\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  property = 'tags';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { tags } = this.props;\n    if (multiple) {\n      const { tags } = this.props;\n      const newValue = sortBy(\n        tags.includes(itemValue) ? without(tags, itemValue) : [...tags, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: tags.includes(itemValue) && tags.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  handleSearch = (query: string) => {\n    return searchIssueTags({ organization: this.props.organization, ps: 50, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { tags } = this.props;\n    this.props.onChange({ [this.property]: uniq([...tags, option.value]) });\n  };\n\n  getStat(tag: string) {\n    const { stats } = this.props;\n    return stats ? stats[tag] : undefined;\n  }\n\n  renderTag(tag: string) {\n    return (\n      <span>\n        <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n        {tag}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const tags = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {tags.map(tag => (\n          <FacetItem\n            active={this.props.tags.includes(tag)}\n            key={tag}\n            loading={this.props.loading}\n            name={this.renderTag(tag)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(tag))}\n            tooltip={this.props.tags.length === 1 && !this.props.tags.includes(tag)}\n            value={tag}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return <FacetFooter onSearch={this.handleSearch} onSelect={this.handleSelect} />;\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.props.tags}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  fetching: boolean;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    const { types } = this.props;\n    return (\n      // type is selected explicitly\n      types.includes(type) ||\n      // bugs, vulnerabilities and code smells are selected implicitly by default\n      (types.length === 0 && ['BUG', 'VULNERABILITY', 'CODE_SMELL'].includes(type))\n    );\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        key={type}\n        loading={this.props.loading}\n        name={\n          <span>\n            <IssueTypeIcon query={type} /> {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.types.length === 1 && !this.props.types.includes(type)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const types = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\n    const values = this.props.types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          clearLabel=\"reset_verb\"\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && <FacetItemsList>{types.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ModuleFacet from './ModuleFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\nimport {\n  Query,\n  Facet,\n  ReferencedComponent,\n  ReferencedUser,\n  ReferencedLanguage,\n  STANDARDS\n} from '../utils';\nimport { Component } from '../../../app/types';\n\nexport interface Props {\n  component: Component | undefined;\n  facets: { [facet: string]: Facet };\n  loading?: boolean;\n  loadingFacets: { [key: string]: boolean };\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: { [facet: string]: boolean };\n  organization: { key: string } | undefined;\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: { name: string } };\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class Sidebar extends React.PureComponent<Props> {\n  render() {\n    const { component, facets, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayModulesFacet = component !== undefined && component.qualifier !== 'DIR';\n    const displayDirectoriesFacet = component !== undefined && component.qualifier !== 'DIR';\n    const displayFilesFacet = component !== undefined;\n    const displayAuthorFacet = !component || component.qualifier !== 'DEV';\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    return (\n      <div className=\"search-navigator-facets-list\">\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          organization={organizationKey}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets[STANDARDS]}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          organization={organizationKey}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            organization={this.props.organization}\n            projects={query.projects}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.projects}\n          />\n        )}\n        {displayModulesFacet && (\n          <ModuleFacet\n            fetching={this.props.loadingFacets.modules === true}\n            loading={this.props.loading}\n            modules={query.modules}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.modules}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.modules}\n          />\n        )}\n        {displayDirectoriesFacet && (\n          <DirectoryFacet\n            directories={query.directories}\n            fetching={this.props.loadingFacets.directories === true}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.directories}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.directories}\n          />\n        )}\n        {displayFilesFacet && (\n          <FileFacet\n            fetching={this.props.loadingFacets.files === true}\n            files={query.files}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.files}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.files}\n          />\n        )}\n        {!this.props.myIssues && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            component={component}\n            fetching={this.props.loadingFacets.assignees === true}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            organization={organizationKey}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && (\n          <AuthorFacet\n            authors={query.authors}\n            fetching={this.props.loadingFacets.authors === true}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            stats={facets.authors}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\nimport { allLocationsEmpty } from './utils';\n\nexport function enableLocationsNavigator(state: State): Partial<State> | undefined {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    if (!allLocationsEmpty(openIssue, selectedFlowIndex)) {\n      return {\n        locationsNavigator: true,\n        selectedFlowIndex,\n        // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n        selectedLocationIndex:\n          !selectedLocationIndex || selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n      };\n    }\n  }\n  return undefined;\n}\n\nexport function disableLocationsNavigator(): Partial<State> {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number | undefined) {\n  return (state: State): Partial<State> | undefined => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (!state.locationsNavigator) {\n        if (nextIndex !== undefined) {\n          return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n        }\n      } else if (index !== undefined) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: nextIndex !== index,\n          selectedLocationIndex: nextIndex\n        };\n      }\n    }\n    return undefined;\n  };\n}\n\nexport function selectNextLocation(state: State): Partial<State> | undefined {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return undefined;\n}\n\nexport function selectPreviousLocation(state: State): Partial<State> | undefined {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return undefined;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return (): Partial<State> => {\n    return { selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State): Partial<State> | undefined {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return undefined;\n}\n\nexport function selectPreviousFlow(state: State): Partial<State> | undefined {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport * as key from 'keymaster';\nimport { keyBy, omit, union, without } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport BulkChangeModal from './BulkChangeModal';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport * as actions from '../actions';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  Facet,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  RawFacet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedUser,\n  saveMyIssues,\n  serializeQuery,\n  STANDARDS\n} from '../utils';\nimport { Component, CurrentUser, Issue, Paging, BranchLike } from '../../../app/types';\nimport handleRequiredAuthentication from '../../../app/utils/handleRequiredAuthentication';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { Button } from '../../../components/ui/buttons';\nimport {\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  fillBranchLike\n} from '../../../helpers/branches';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport { isSonarCloud } from '../../../helpers/system';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface FetchIssuesPromise {\n  components: ReferencedComponent[];\n  facets: RawFacet[];\n  issues: Issue[];\n  languages: ReferencedLanguage[];\n  paging: Paging;\n  rules: { name: string }[];\n  users: ReferencedUser[];\n}\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: Component;\n  currentUser: CurrentUser;\n  fetchIssues: (query: RawQuery, requestOrganizations?: boolean) => Promise<FetchIssuesPromise>;\n  location: { pathname: string; query: RawQuery };\n  myIssues?: boolean;\n  onBranchesChange: () => void;\n  organization?: { key: string };\n}\n\nexport interface State {\n  bulkChange?: 'all' | 'selected';\n  checked: string[];\n  facets: { [facet: string]: Facet };\n  issues: Issue[];\n  lastChecked?: string;\n  loading: boolean;\n  loadingFacets: { [key: string]: boolean };\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: { [facet: string]: boolean };\n  openIssue?: Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: Paging;\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: { name: string } };\n  referencedUsers: { [login: string]: ReferencedUser };\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      locationsNavigator: false,\n      myIssues: props.myIssues || areMyIssuesSelected(props.location.query),\n      openFacets: { severities: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedComponents: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    document.body.classList.add('white-page');\n    // $FlowFixMe\n    document.documentElement.classList.add('white-page');\n\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.add('page-footer-with-sidebar');\n    }\n\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const openIssue = this.getOpenIssue(nextProps, this.state.issues);\n\n    if (openIssue && openIssue.key !== this.state.selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: nextProps.myIssues || areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n\n    document.body.classList.remove('white-page');\n    // $FlowFixMe\n    document.documentElement.classList.remove('white-page');\n\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.remove('page-footer-with-sidebar');\n    }\n\n    this.mounted = false;\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.context.router.replace(path);\n      }\n    } else {\n      this.context.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.context.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n      this.scrollToSelectedIssue(false);\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-issue=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  fetchIssues = (\n    additional: RawQuery,\n    requestFacets = false,\n    requestOrganizations = true\n  ): Promise<FetchIssuesPromise> => {\n    const { component, organization } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => openFacets[facet])\n          .filter(facet => facet !== STANDARDS)\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      organization: organization && organization.key,\n      facets,\n      ...additional\n    };\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters, requestOrganizations).then(reponse => {\n      this.setState({ loading: false });\n      return reponse;\n    });\n  };\n\n  fetchFirstIssues() {\n    this.setState({ checked: [], loading: true });\n    return this.fetchIssues({}, true).then(\n      ({ facets, issues, paging, ...other }) => {\n        if (this.mounted) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          this.setState({\n            facets: parseFacets(facets),\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponents: keyBy(other.components, 'uuid'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected: issues.length > 0 ? (openIssue ? openIssue.key : issues[0].key) : undefined,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          });\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (issues: Issue[], paging: Paging) => boolean\n  ): Promise<{ issues: Issue[]; paging: Paging }> => {\n    return this.fetchIssuesPage(p).then(response => {\n      const { issues, paging } = response;\n\n      return done(issues, paging)\n        ? { issues, paging }\n        : this.fetchIssuesUntil(p + 1, done).then(nextResponse => {\n            return {\n              issues: [...issues, ...nextResponse.issues],\n              paging: nextResponse.paging\n            };\n          });\n    });\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return;\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ loading: true });\n    this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loading: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: Issue) => issue.component === openIssue.component;\n\n    const done = (issues: Issue[], paging: Paging) => {\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      const lastIssue = issues[issues.length - 1];\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    const requestOrganizations = facet === 'projects';\n    this.setState(state => ({ loadingFacets: { ...state.loadingFacets, [facet]: true } }));\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false, requestOrganizations).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponents: {\n              ...state.referencedComponents,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {}\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.setState({ loading: true });\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: !state.openFacets[property] }\n    }));\n    if (property !== STANDARDS && !this.state.facets[property]) {\n      this.fetchFacet(property);\n    }\n  };\n\n  handleReset = () => {\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.openPopup && state.openPopup.name === popupName && state.openPopup.issue === issue;\n      if (open !== false && !samePopup) {\n        return { openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { openPopup: undefined };\n      }\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string, event: MouseEvent) => {\n    // Selecting multiple issues with shift+click\n    const { lastChecked } = this.state;\n    if (event.shiftKey && lastChecked) {\n      this.setState(state => {\n        const issueKeys = state.issues.map(issue => issue.key);\n        const currentIssueIndex = issueKeys.indexOf(issue);\n        const lastSelectedIndex = issueKeys.indexOf(lastChecked);\n        const shouldCheck = state.checked.includes(lastChecked);\n        let { checked } = state;\n        if (currentIssueIndex < 0) {\n          return null;\n        }\n        const start = Math.min(currentIssueIndex, lastSelectedIndex);\n        const end = Math.max(currentIssueIndex, lastSelectedIndex);\n        for (let i = start; i < end + 1; i++) {\n          checked = shouldCheck\n            ? union(checked, [state.issues[i].key])\n            : without(checked, state.issues[i].key);\n        }\n        return { checked };\n      });\n    } else {\n      this.setState(state => ({\n        lastChecked: issue,\n        checked: state.checked.includes(issue)\n          ? without(state.checked, issue)\n          : [...state.checked, issue]\n      }));\n    }\n  };\n\n  handleIssueChange = (issue: Issue) => {\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate))\n    }));\n  };\n\n  openBulkChange = (mode: 'all' | 'selected') => {\n    this.setState({ bulkChange: mode });\n    key.setScope('issues-bulk-change');\n  };\n\n  closeBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChange: undefined });\n  };\n\n  handleBulkChangeClick = () => {\n    this.openBulkChange('all');\n  };\n\n  handleBulkChangeSelectedClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.openBulkChange('selected');\n  };\n\n  handleBulkChangeDone = () => {\n    this.fetchFirstIssues();\n    this.closeBulkChange();\n  };\n\n  handleReload = () => {\n    this.fetchFirstIssues();\n    if (isShortLivingBranch(this.props.branchLike) || isPullRequest(this.props.branchLike)) {\n      this.props.onBranchesChange();\n    }\n  };\n\n  handleReloadAndOpenFirst = () => {\n    this.fetchFirstIssues().then(\n      issues => {\n        if (issues.length > 0) {\n          this.openIssue(issues[0].key);\n        }\n      },\n      () => {}\n    );\n  };\n\n  selectLocation = (index?: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  onCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({ checked: state.issues.map(issue => issue.key) }));\n    } else {\n      this.setState({ checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  renderBulkChange(openIssue: Issue | undefined) {\n    const { component, currentUser } = this.props;\n    const { bulkChange, checked, paging, issues } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn || openIssue) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right vertical-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.onCheckAll}\n          thirdState={thirdState}\n        />\n        {checked.length > 0 ? (\n          <Dropdown\n            className=\"display-inline-block\"\n            overlay={\n              <ul className=\"menu\">\n                <li>\n                  <a href=\"#\" onClick={this.handleBulkChangeClick}>\n                    {translateWithParameters('issues.bulk_change', paging ? paging.total : 0)}\n                  </a>\n                </li>\n                <li>\n                  <a href=\"#\" onClick={this.handleBulkChangeSelectedClick}>\n                    {translateWithParameters('issues.bulk_change_selected', checked.length)}\n                  </a>\n                </li>\n              </ul>\n            }>\n            <Button id=\"issues-bulk-change\">\n              {translate('bulk_change')}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Dropdown>\n        ) : (\n          <Button\n            disabled={issues.length === 0}\n            id=\"issues-bulk-change\"\n            onClick={this.handleBulkChangeClick}>\n            {translate('bulk_change')}\n          </Button>\n        )}\n        {bulkChange && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={bulkChange === 'all' ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.closeBulkChange}\n            onDone={this.handleBulkChangeDone}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser } = this.props;\n    const { query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn &&\n          !isSonarCloud() && (\n            <MyIssuesFilter\n              myIssues={this.state.myIssues}\n              onMyIssuesChange={this.handleMyIssuesChange}\n            />\n          )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          component={component}\n          facets={this.state.facets}\n          loading={this.state.loading}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          organization={this.props.organization}\n          query={query}\n          referencedComponents={this.state.referencedComponents}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n          onReload={this.handleReloadAndOpenFirst}\n          paging={paging}\n          selectedIndex={this.getSelectedIndex()}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging &&\n          paging.total > 0 && (\n            <ListFooter\n              count={issues.length}\n              loadMore={this.fetchMoreIssues}\n              total={paging.total}\n            />\n          )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <div className=\"layout-page-side\" style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </div>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser, organization } = this.props;\n    const { issues, openIssue, paging, loading } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            organization={organization}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter count={issues.length} loadMore={this.fetchMoreIssues} total={paging.total} />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderShortcutsForLocations() {\n    const { openIssue } = this.state;\n    if (!openIssue || (!openIssue.secondaryLocations.length && !openIssue.flows.length)) {\n      return null;\n    }\n    const hasSeveralFlows = openIssue.flows.length > 1;\n    return (\n      <div className=\"pull-right note\">\n        <span className=\"shortcut-button little-spacer-right\">alt</span>\n        <span className=\"little-spacer-right\">{'+'}</span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {hasSeveralFlows && (\n          <span>\n            <span className=\"shortcut-button little-spacer-right\"></span>\n            <span className=\"shortcut-button little-spacer-right\"></span>\n          </span>\n        )}\n        {translate('issues.to_navigate_issue_locations')}\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { openIssue } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        <DeferredSpinner loading={this.state.loading}>\n          {openIssue ? (\n            <IssuesSourceViewer\n              branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n              loadIssues={this.fetchIssuesForComponent}\n              locationsNavigator={this.state.locationsNavigator}\n              onIssueChange={this.handleIssueChange}\n              onIssueSelect={this.openIssue}\n              onLocationSelect={this.selectLocation}\n              openIssue={openIssue}\n              selectedFlowIndex={this.state.selectedFlowIndex}\n              selectedLocationIndex={this.state.selectedLocationIndex}\n            />\n          ) : (\n            this.renderList()\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        {this.renderSide(openIssue)}\n\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n            <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n              <div className=\"layout-page-main-inner\">\n                {this.renderBulkChange(openIssue)}\n                {openIssue ? (\n                  <div className=\"pull-left width-60\">\n                    <ComponentBreadcrumbs\n                      branchLike={this.props.branchLike}\n                      component={component}\n                      issue={openIssue}\n                      organization={this.props.organization}\n                      selectedFlowIndex={this.state.selectedFlowIndex}\n                      selectedLocationIndex={this.state.selectedLocationIndex}\n                    />\n                  </div>\n                ) : (\n                  <PageActions\n                    canSetHome={Boolean(\n                      !this.props.organization &&\n                        !this.props.component &&\n                        (!isSonarCloud() || this.props.myIssues)\n                    )}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                )}\n                {this.renderShortcutsForLocations()}\n              </div>\n            </div>\n          </div>\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".issues-main-header .component-name{line-height:24px}.issues-main-header-spinner{margin-right:2px}.concise-issues-list-header-inner{width:260px;text-align:center}.concise-issues-list-header .spinner{margin-top:4px;margin-left:1px;margin-right:1px}.concise-issues-list-header-button{border:none}.concise-issues-list-header-button path{fill:#777;transition:fill .3s ease}.concise-issues-list-header-button:hover path{fill:#4b9fd5}.concise-issue-component{margin-top:16px;margin-bottom:4px;padding-left:8px;padding-right:8px}.concise-issue-box{position:relative;z-index:1;margin-bottom:4px;padding:8px;border:1px solid #e6e6e6;background-color:#fff;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.concise-issue-box:hover{background-color:#ffeaea}.concise-issue-box:focus{outline:none}.concise-issue-box.selected{z-index:2;border-color:#dd4040;background-color:#ffeaea;cursor:default}.concise-issue-box-message{overflow:hidden;text-overflow:ellipsis;font-weight:700}.concise-issue-box-message:focus{outline:none}.concise-issue-box.selected .concise-issue-box-message{cursor:pointer}.concise-issue-box-attributes{margin-top:8px;line-height:16px;font-size:12px}.concise-issue-box:not(.selected) .location-index{background-color:#ccc}.concise-issue-locations{margin-right:-4px;margin-bottom:-4px}.concise-issue-locations .location-index{margin-right:4px;margin-bottom:4px}.concise-issue-locations-navigator-location{position:relative;z-index:3;display:inline-flex;align-items:flex-start;max-width:100%;border:none}.concise-issue-locations-navigator-file{position:relative}.concise-issue-locations-navigator-file+.concise-issue-locations-navigator-file{margin-top:12px}.concise-issue-locations-navigator-file:not(:last-child):before{position:absolute;display:block;width:0;top:13px;bottom:-16px;left:4px;border-left:1px dotted #d18582;content:\\\"\\\"}.concise-issue-location-file{height:16px;padding-bottom:4px;font-size:12px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.concise-issue-location-file-circle,.concise-issue-location-file-circle-multiple,.concise-issue-location-file-circle-multiple:after,.concise-issue-location-file-circle-multiple:before{position:relative;top:1px;display:inline-block;width:9px;height:9px;border:1px solid #d18582;border-radius:100%;box-sizing:border-box;background-color:#ffeaea}.concise-issue-location-file-circle-multiple{top:-2px}.concise-issue-location-file-circle-multiple:before{position:absolute;z-index:7;top:2px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-circle-multiple:after{position:absolute;z-index:8;top:5px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-locations{padding-left:16px}.concise-issue-location-file-more{border-color:hsla(2,46%,66%,.2);color:#d18582!important;font-style:italic;font-weight:400}.concise-issue-location-file-more:focus,.concise-issue-location-file-more:hover{border-color:hsla(2,46%,66%,.6)}.issues-my-issues-filter{margin-bottom:24px;text-align:center}.issues-page-actions{display:inline-block;min-width:80px;text-align:right}.issues .issue-list{min-width:640px;width:800px}.issues .issue{border:1px solid transparent;cursor:pointer}.issues .issue:hover{border:1px dashed #dd4040;transition:all .3s ease}.issues .issue:focus{outline:none}@media (max-width:1320px){.issues .issue-list{width:calc(60vw - 40px)}}.issues-workspace-list-component{padding:10px 10px 6px}.issues-workspace-list-item+.issues-workspace-list-item{margin-top:5px}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:10px}.issues-workspace-list-item:first-child .issues-workspace-list-component{padding-top:0}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:0}.issues-predefined-periods{display:flex}.issues-predefined-periods .search-navigator-facet{width:auto;margin-right:4px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport getHistory from './getHistory';\n\nexport default () => {\n  const history = getHistory();\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  history.replace({\n    pathname: '/sessions/new',\n    query: { return_to: returnTo }\n  });\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip mouseLeaveDelay={0.25} onShow={props.onShow} overlay={props.overlay}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default class Suggestions extends React.PureComponent<Props> {\n  context!: { suggestions: SuggestionsContext };\n\n  static contextTypes = {\n    suggestions: PropTypes.object.isRequired\n  };\n\n  componentDidMount() {\n    this.context.suggestions.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.context.suggestions.removeSuggestions(this.props.suggestions);\n      this.context.suggestions.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.context.suggestions.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  // eslint-disable-next-line camelcase\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} /> : null;\n}\n\nfunction ApplicationIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill: theme.orange }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\n\ninterface Props {\n  checked: boolean;\n  disabled?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id?: string;\n  loading?: boolean;\n  onCheck: (checked: boolean, id?: string) => void;\n  thirdState?: boolean;\n}\n\nexport default class Checkbox extends React.PureComponent<Props> {\n  static defaultProps = {\n    thirdState: false\n  };\n\n  handleClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onCheck(!this.props.checked, this.props.id);\n    }\n  };\n\n  render() {\n    const className = classNames('icon-checkbox', {\n      'icon-checkbox-checked': this.props.checked,\n      'icon-checkbox-single': this.props.thirdState,\n      'icon-checkbox-disabled': this.props.disabled\n    });\n\n    if (this.props.children) {\n      return (\n        <a\n          className={classNames('link-checkbox', this.props.className, {\n            note: this.props.disabled,\n            disabled: this.props.disabled\n          })}\n          href=\"#\"\n          id={this.props.id}\n          onClick={this.handleClick}>\n          <DeferredSpinner loading={Boolean(this.props.loading)}>\n            <i className={className} />\n          </DeferredSpinner>\n          {this.props.children}\n        </a>\n      );\n    }\n\n    if (this.props.loading) {\n      return <DeferredSpinner />;\n    }\n\n    return (\n      <a\n        className={classNames(className, this.props.className)}\n        href=\"#\"\n        id={this.props.id}\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  count: number;\n  className?: string;\n  loadMore?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {props.loadMore != null && hasMore ? loadMoreLink : null}\n    </footer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string): { head: string; tail: string } | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return {\n      head: tokens.slice(0, -1).join('/'),\n      tail: tokens[tokens.length - 1]\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { isOnMac } from './utils';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  loading?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  tooltip?: boolean;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  render() {\n    const className = classNames('facet', 'search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    const overlay =\n      this.props.tooltip && !this.props.disabled\n        ? translate(\n            isOnMac()\n              ? 'shortcuts.section.global.facets.multiselection.mac'\n              : 'shortcuts.section.global.facets.multiselection'\n          )\n        : undefined;\n\n    return (\n      <Tooltip overlay={overlay} placement=\"right\">\n        {this.props.disabled ? (\n          <span className={className} data-facet={this.props.value}>\n            <span className=\"facet-name\">{this.props.name}</span>\n            {this.props.stat != null && (\n              <span className=\"facet-stat\">{this.props.loading ? '' : this.props.stat}</span>\n            )}\n          </span>\n        ) : (\n          <a\n            className={className}\n            data-facet={this.props.value}\n            href=\"#\"\n            onClick={this.handleClick}>\n            <span className=\"facet-name\">{this.props.name}</span>\n            {this.props.stat != null && (\n              <span className=\"facet-stat\">{this.props.loading ? '' : this.props.stat}</span>\n            )}\n          </a>\n        )}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport function isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (this.props.open || !values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Rule, RuleDetails, RuleActivation } from '../app/types';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: { [rule: string]: RuleActivation[] };\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: RuleActivation[]; rule: RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport { connect, Omit } from 'react-redux';\nimport { Props } from './SourceViewerBase';\nimport { lazyLoad } from '../lazyLoad';\nimport { SourceViewerFile } from '../../app/types';\nimport { receiveFavorites } from '../../store/favorites/duck';\n\nconst mapStateToProps = null;\n\ninterface DispatchProps {\n  onReceiveComponent: (component: SourceViewerFile) => void;\n}\n\nconst onReceiveComponent = (component: SourceViewerFile) => (dispatch: Dispatch<any>) => {\n  if (component.canMarkAsFavorite) {\n    const favorites = [];\n    const notFavorites = [];\n    if (component.fav) {\n      favorites.push({ key: component.key });\n    } else {\n      notFavorites.push({ key: component.key });\n    }\n    dispatch(receiveFavorites(favorites, notFavorites));\n  }\n};\n\nconst mapDispatchToProps: DispatchProps = { onReceiveComponent };\n\ntype OwnProps = Omit<Props, keyof DispatchProps>;\n\nexport default connect<null, DispatchProps, OwnProps>(mapStateToProps, mapDispatchToProps)(\n  lazyLoad(() => import(/* webpackPrefetch: true */ './SourceViewerBase'))\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  filled?: boolean;\n}\n\nexport default function HomeIcon({ className, fill = theme.orange, filled = false, size }: Props) {\n  return (\n    <Icon\n      className={classNames(className, 'icon-outline', { 'is-filled': filled })}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\">\n        <path d=\"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport Tooltip from './Tooltip';\nimport HomeIcon from '../icons-components/HomeIcon';\nimport { CurrentUser, isLoggedIn, HomePage, isSameHomePage } from '../../app/types';\nimport { translate } from '../../helpers/l10n';\nimport { getCurrentUser } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users/actions';\n\ninterface StateProps {\n  currentUser: CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: HomePage;\n}\n\nclass HomePageSelect extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const checked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const tooltip = checked ? translate('homepage.current') : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {checked ? (\n          <span className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={checked} />\n          </span>\n        ) : (\n          <a\n            className={classNames(\n              'link-no-underline',\n              'display-inline-block',\n              this.props.className\n            )}\n            href=\"#\"\n            onClick={this.handleClick}>\n            <HomeIcon filled={checked} />\n          </a>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #eae3c7}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet-box>.spinner{float:right;margin-top:-24px}.search-navigator-facet{position:relative;display:inline-block;vertical-align:middle;width:100%;margin:0 0 1px;padding:4px 6px;border:none;border-radius:2px;box-sizing:border-box;white-space:normal;overflow:hidden;font-size:0;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}a.search-navigator-facet:focus,a.search-navigator-facet:hover{border:1px solid #4b9fd5;padding:3px 5px}a.search-navigator-facet:focus .facet-stat,a.search-navigator-facet:hover .facet-stat{top:-1px;right:-1px}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{line-height:16px;background-color:#f3f3f3;color:#777;font-size:12px;white-space:nowrap}.search-navigator-facet .facet-stat{position:absolute;top:0;right:0;margin-left:5px;padding:5px;background-color:#f3f3f3;color:#777;font-size:12px}.search-navigator-facet .facet-stat:before{content:\\\" \\\";position:absolute;top:0;bottom:0;right:100%;width:10px;background-image:linear-gradient(90deg,hsla(0,0%,95%,0),#f3f3f3 75%)}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,hsla(47,83%,91%,0),#fbf3d5 75%)}.search-navigator-facet.active{border:1px solid #4b9fd5;padding:3px 5px;background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-name{background-color:#cae3f2}.search-navigator-facet.active .facet-stat{border-color:#4b9fd5;background-color:#cae3f2;top:-1px;right:-1px}.search-navigator-facet.active .facet-stat:before{background-image:linear-gradient(90deg,rgba(202,227,242,0),#cae3f2 75%)}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:4px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{padding-left:5px;padding-right:5px;border-left:1px solid #4b9fd5;border-right:1px solid #4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-stat,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet .facet-stat{right:-1px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{padding-bottom:3px;border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{padding-bottom:3px;border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-name{background-color:#cae3f2}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-stat{border-color:#4b9fd5;background-color:#cae3f2}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(202,227,242,0),#cae3f2 75%)}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-name,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-name{background-color:#a1cde8}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-stat,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-stat{border-color:#4b9fd5;background-color:#a1cde8}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-stat:before,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(161,205,232,0),#a1cde8 75%)}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DateInput from './DateInput';\nimport { translate } from '../../helpers/l10n';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.setState({ to });\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getOrganizationByKey, areThereCustomOrganizations } from '../../store/rootReducer';\nimport OrganizationLink from '../ui/OrganizationLink';\n\ninterface OwnProps {\n  organizationKey: string;\n}\n\ninterface Props {\n  link?: boolean;\n  linkClassName?: string;\n  organization: { key: string; name: string } | null;\n  shouldBeDisplayed: boolean;\n}\n\nfunction Organization(props: Props) {\n  const { link = true, organization, shouldBeDisplayed } = props;\n\n  if (!shouldBeDisplayed || !organization) {\n    return null;\n  }\n\n  return (\n    <span>\n      {link ? (\n        <OrganizationLink className={props.linkClassName} organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n      ) : (\n        organization.name\n      )}\n      <span className=\"slash-separator\" />\n    </span>\n  );\n}\n\nconst mapStateToProps = (state: any, ownProps: OwnProps) => ({\n  organization: getOrganizationByKey(state, ownProps.organizationKey),\n  shouldBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(Organization);\n\nexport const UnconnectedOrganization = Organization;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\ninterface Props {\n  className?: string;\n  status: string;\n}\n\nconst statusIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  open: OpenStatusIcon,\n  confirmed: ConfirmedStatusIcon,\n  reopened: ReopenedStatusIcon,\n  resolved: ResolvedStatusIcon,\n  closed: ClosedStatusIcon\n};\n\nexport default function StatusIcon(props: Props) {\n  const status = props.status.toLowerCase();\n  const Icon = statusIcons[status];\n  return Icon ? <Icon className={props.className} /> : null;\n}\n\nfunction OpenStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ConfirmedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ReopenedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ResolvedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n\nfunction ClosedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from '../icons-components/StatusIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./EmptySearch.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./EmptySearch.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./EmptySearch.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SearchSelect from '../controls/SearchSelect';\n\ntype Option = { label: string; value: string };\n\ninterface Props {\n  minimumQueryLength?: number;\n  onSearch: (query: string) => Promise<Option[]>;\n  onSelect: (option: Option) => void;\n  renderOption?: (option: Object) => JSX.Element;\n}\n\nexport default function FacetFooter(props: Props) {\n  return (\n    <div className=\"search-navigator-facet-footer\">\n      <SearchSelect autofocus={false} {...props} />\n    </div>\n  );\n}\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function EllipsisIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M5.273 7.182v1.636a.818.818 0 0 1-.818.818H2.818A.818.818 0 0 1 2 8.818V7.182c0-.452.366-.818.818-.818h1.637c.451 0 .818.366.818.818zm4.363 0v1.636a.818.818 0 0 1-.818.818H7.182a.818.818 0 0 1-.818-.818V7.182c0-.452.366-.818.818-.818h1.636c.452 0 .818.366.818.818zm4.364 0v1.636a.818.818 0 0 1-.818.818h-1.637a.818.818 0 0 1-.818-.818V7.182c0-.452.367-.818.818-.818h1.637c.452 0 .818.366.818.818z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `comparator`\n * which is invoked to compare elements of `array` to `values`. The order and\n * references of result values are determined by the first array. The comparator\n * is invoked with two arguments: (arrVal, othVal).\n *\n * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n *\n * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n * // => [{ 'x': 2, 'y': 1 }]\n */\nvar differenceWith = baseRest(function(array, values) {\n  var comparator = last(values);\n  if (isArrayLikeObject(comparator)) {\n    comparator = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n    : [];\n});\n\nmodule.exports = differenceWith;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\nimport Select, { Creatable } from './Select';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props<T> {\n  autofocus?: boolean;\n  canCreate?: boolean;\n  clearable?: boolean;\n  defaultOptions?: T[];\n  minimumQueryLength?: number;\n  multi?: boolean;\n  onSearch: (query: string) => Promise<T[]>;\n  onSelect?: (option: T) => void;\n  onMultiSelect?: (options: T[]) => void;\n  promptTextCreator?: (label: string) => string;\n  renderOption?: (option: T) => JSX.Element;\n  resetOnBlur?: boolean;\n  value?: T | T[];\n}\n\ninterface State<T> {\n  loading: boolean;\n  options: T[];\n  query: string;\n}\n\nexport default class SearchSelect<T extends { value: string }> extends React.PureComponent<\n  Props<T>,\n  State<T>\n> {\n  mounted = false;\n\n  constructor(props: Props<T>) {\n    super(props);\n    this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n    this.handleSearch = debounce(this.handleSearch, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  get autofocus() {\n    return this.props.autofocus !== undefined ? this.props.autofocus : true;\n  }\n\n  get minimumQueryLength() {\n    return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n  }\n\n  get resetOnBlur() {\n    return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n  }\n\n  handleSearch = (query: string) => {\n    // Ignore the result if the query changed\n    const currentQuery = query;\n    this.props.onSearch(currentQuery).then(\n      options => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loading: false,\n            options: state.query === currentQuery ? options : state.options\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleChange = (option: T | T[]) => {\n    if (Array.isArray(option)) {\n      if (this.props.onMultiSelect) {\n        this.props.onMultiSelect(option);\n      }\n    } else if (this.props.onSelect) {\n      this.props.onSelect(option);\n    }\n  };\n\n  handleInputChange = (query: string) => {\n    if (query.length >= this.minimumQueryLength) {\n      this.setState({ loading: true, query });\n      this.handleSearch(query);\n    } else {\n      // `onInputChange` is called with an empty string after a user selects a value\n      // in this case we shouldn't reset `options`, because it also resets select value :(\n      const options = (query.length === 0 && this.props.defaultOptions) || [];\n      this.setState({ options, query });\n    }\n  };\n\n  // disable internal filtering\n  handleFilterOption = () => true;\n\n  render() {\n    const Component = this.props.canCreate ? Creatable : Select;\n    return (\n      <Component\n        autoFocus={this.autofocus}\n        className=\"input-super-large\"\n        clearable={this.props.clearable}\n        escapeClearsValue={false}\n        filterOption={this.handleFilterOption}\n        isLoading={this.state.loading}\n        multi={this.props.multi}\n        noResultsText={\n          this.state.query.length < this.minimumQueryLength\n            ? translateWithParameters('select2.tooShort', this.minimumQueryLength)\n            : translate('select2.noMatches')\n        }\n        onBlurResetsInput={this.resetOnBlur}\n        onChange={this.handleChange}\n        onInputChange={this.handleInputChange}\n        optionRenderer={this.props.renderOption}\n        options={this.state.options}\n        placeholder={translate('search_verb')}\n        promptTextCreator={this.props.promptTextCreator}\n        searchable={true}\n        value={this.props.value}\n        valueRenderer={this.props.renderOption}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\n/*::\nexport type ChangelogDiff = {\n  key: string,\n  oldValue?: string,\n  newValue?: string\n};\n*/\n\nexport default function IssueChangelogDiff(props /*: { diff: ChangelogDiff } */) {\n  const { diff } = props;\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n  if (diff.key === 'from_long_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_long_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n  if (diff.key === 'from_short_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_short_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let newValue /*: string */ = diff.newValue;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let oldValue /*: string */ = diff.oldValue;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { getIssueChangelog } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { ChangelogDiff } from '../components/IssueChangelogDiff'; */\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Changelog = {\n  avatar?: string,\n  creationDate: string,\n  diffs: Array<ChangelogDiff>,\n  user: string,\n  userName: string\n};\n*/\n\n/*::\ntype Props = {\n  issue: Issue,\n  onFail: Error => void,\n  popupPosition?: {}\n};\n*/\n\n/*::\ntype State = {\n  changelogs: Array<Changelog>\n};\n*/\n\nexport default class ChangelogPopup extends React.PureComponent {\n  /*:: mounted: boolean; */\n  /*:: props: Props; */\n  state /*: State */ = {\n    changelogs: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(changelogs => {\n      if (this.mounted) {\n        this.setState({ changelogs });\n      }\n    }, this.props.onFail);\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelogs.map((item, idx) => (\n                <tr key={idx}>\n                  <td className=\"thin text-left text-top nowrap\">\n                    <DateTimeFormatter date={item.creationDate} />\n                  </td>\n                  <td className=\"text-left text-top\">\n                    {item.userName && (\n                      <p>\n                        <Avatar\n                          className=\"little-spacer-right\"\n                          hash={item.avatar}\n                          name={item.userName}\n                          size={16}\n                        />\n                        {item.userName}\n                      </p>\n                    )}\n                    {item.diffs.map(diff => <IssueChangelogDiff diff={diff} key={diff.key} />)}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ChangelogPopup from '../popups/ChangelogPopup';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport DateFromNow from '../../intl/DateFromNow';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport Toggler from '../../controls/Toggler';\nimport Tooltip from '../../controls/Tooltip';\nimport { Button } from '../../ui/buttons';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  isOpen: boolean,\n  issue: Issue,\n  creationDate: string,\n  togglePopup: (string, boolean | void) => void,\n  onFail: Error => void\n};\n*/\n\nexport default class IssueChangelog extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleChangelog = (open /*: boolean | void */) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} onFail={this.props.onFail} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport EllipsisIcon from '../../icons-components/EllipsisIcon';\nimport Tooltip from '../../controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button } from '../../ui/buttons';\n\nexport default class IssueMessage extends React.PureComponent {\n  /*:: props: {\n    engine?: string,\n    manualVulnerability: boolean,\n    message: string,\n    organization: string,\n    rule: string\n  };\n  */\n\n  static contextTypes = {\n    workspace: PropTypes.object.isRequired\n  };\n\n  handleClick = () => {\n    this.context.workspace.openRule({\n      key: this.props.rule,\n      organization: this.props.organization\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"issue-message\">\n        {this.props.message}\n        <Button\n          aria-label={translate('issue.rule_details')}\n          className=\"button-link issue-rule little-spacer-left\"\n          onClick={this.handleClick}>\n          <EllipsisIcon />\n        </Button>\n        {this.props.engine && (\n          <Tooltip\n            overlay={translateWithParameters('issue.from_external_rule_engine', this.props.engine)}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {this.props.engine}\n            </div>\n          </Tooltip>\n        )}\n        {this.props.manualVulnerability && (\n          <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {translate('issue.manual_vulnerability')}\n            </div>\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport Tooltip from '../controls/Tooltip';\n\n/*::\ntype Props = {\n  active?: string,\n  children?: React.Element<*>,\n  item: string,\n  onSelect?: string => void,\n  onHover?: string => void,\n  title?: string\n};\n*/\n\nexport default class SelectListItem extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleSelect = (evt /*: SyntheticInputEvent */) => {\n    evt.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    let children = this.props.item;\n    if (this.props.children) {\n      children = this.props.children;\n    }\n    return (\n      <li>\n        <a\n          href=\"#\"\n          className={classNames({ active: this.props.active === this.props.item })}\n          onClick={this.handleSelect}\n          onMouseOver={this.handleHover}\n          onFocus={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport classNames from 'classnames';\nimport SelectListItem from './SelectListItem';\n\n/*::\ntype Props = {\n  children?: SelectListItem,\n  className?: string,\n  items: Array<string>,\n  currentItem: string,\n  onSelect: string => void\n};\n*/\n\n/*::\ntype State = {\n  active: string\n};\n*/\n\nexport default class SelectList extends React.PureComponent {\n  /*:: currentKeyScope: string; */\n  /*:: previousFilter: Function; */\n  /*:: previousKeyScope: string; */\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (\n      nextProps.currentItem !== this.props.currentItem &&\n      !nextProps.items.includes(this.state.active)\n    ) {\n      this.setState({ active: nextProps.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    key.filter = (event /*: KeyboardEvent & { target: HTMLElement } */) => {\n      const tagName = (event.target || event.srcElement).tagName;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    key.setScope(this.previousKeyScope);\n    key.deleteScope(this.currentKeyScope);\n    key.filter = this.previousFilter;\n  };\n\n  handleSelect = (item /*: string */) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item /*: string */) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state /*: State */, props /*: Props */) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state /*: State */, props /*: Props */) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child /*: Object */) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport TagsIcon from '../../icons-components/TagsIcon';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport Avatar from '../../ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport { fileFromPath, limitComponentName } from '../../../helpers/path';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  issue: Issue,\n  onFilter: (property: string, issue: Issue) => void,\n|};\n*/\n\nexport default class SimilarIssuesPopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleSelect = (property /*: string */) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      // $FlowFixMe items are filtered later\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item);\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper status={issue.status} />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {issue.assignee != null ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={issue.assigneeName || issue.assignee}\n                  size={16}\n                />\n                {issue.assigneeName || issue.assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport FilterIcon from '../../icons-components/FilterIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  isOpen: boolean,\n  issue: Issue,\n  togglePopup: (string, boolean | void) => void,\n  onFail: Error => void,\n  onFilter: (property: string, issue: Issue) => void\n|};\n*/\n\nexport default class SimilarIssuesFilter extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleClick = (evt /*: SyntheticInputEvent */) => {\n    evt.preventDefault();\n    this.togglePopup();\n  };\n\n  handleFilter = (property /*: string */, issue /*: Issue */) => {\n    this.togglePopup(false);\n    this.props.onFilter(property, issue);\n  };\n\n  togglePopup = (open /*: boolean | void */) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <Button\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"js-issue-filter button-link issue-action issue-action-with-options\"\n            onClick={this.handleClick}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </Button>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { Link } from 'react-router';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\nimport LinkIcon from '../../icons-components/LinkIcon';\nimport LocationIndex from '../../common/LocationIndex';\nimport Tooltip from '../../controls/Tooltip';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  branchLike?: { id?: string; name: string },\n  currentPopup: ?string,\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: Issue,\n  onFail: Error => void,\n  onFilter?: (property: string, issue: Issue) => void,\n  togglePopup: (string, boolean | void) => void\n|};\n*/\n\nexport default function IssueTitleBar(props /*: Props */) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount)\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <IssueMessage\n        engine={issue.externalRuleEngine}\n        manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n        message={issue.message}\n        organization={issue.organization}\n        rule={issue.rule}\n      />\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              onFail={props.onFail}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFail={props.onFail}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { map } from 'lodash';\nimport { connect } from 'react-redux';\nimport * as PropTypes from 'prop-types';\nimport Avatar from '../../ui/Avatar';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SearchBox from '../../controls/SearchBox';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { translate } from '../../../helpers/l10n';\nimport { getCurrentUser } from '../../../store/rootReducer';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype User = {\n  avatar?: string,\n  email?: string,\n  login: string,\n  name: string\n};\n*/\n\n/*::\ntype Props = {\n  currentUser: User,\n  issue: Issue,\n  onFail: Error => void,\n  onSelect: string => void,\n  popupPosition?: {}\n};\n*/\n\n/*::\ntype State = {\n  query: string,\n  users: Array<User>,\n  currentUser: string\n};\n*/\n\nconst LIST_SIZE = 10;\n\nclass SetAssigneePopup extends React.PureComponent {\n  /*:: defaultUsersArray: Array<User>; */\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    organizationsEnabled: PropTypes.bool\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (props.currentUser.isLoggedIn) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query /*: string */) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, this.props.onFail);\n  };\n\n  searchUsers = (query /*: string */) =>\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, this.props.onFail);\n\n  handleSearchResult = (data /*: Object */) => {\n    this.setState({\n      users: data.users,\n      currentUser: data.users.length > 0 ? data.users[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query /*: string */) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (this.context.organizationsEnabled) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span\n                  className=\"vertical-middle\"\n                  style={{ marginLeft: !user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  isOpen: boolean,\n  issue: Issue,\n  canAssign: boolean,\n  onAssign: string => void,\n  onFail: Error => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueAssign extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleAssign = (open /*: boolean | void */) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    return (\n      <span>\n        {issue.assignee && (\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n        )}\n        <span className=\"issue-meta-label\">\n          {issue.assignee ? issue.assigneeName || issue.assignee : translate('unassigned')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={\n              <SetAssigneePopup\n                issue={this.props.issue}\n                onFail={this.props.onFail}\n                onSelect={this.props.onAssign}\n              />\n            }>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport { parseIssueFromResponse } from '../../helpers/issues';\n/*:: import type { Issue } from './types'; */\n\nexport const updateIssue = (\n  onChange /*: Issue => void */,\n  onFail /*: Error => void */,\n  resultPromise /*: Promise<*> */,\n  oldIssue /*: ?Issue */,\n  newIssue /*: ?Issue */\n) => {\n  const optimisticUpdate = oldIssue != null && newIssue != null;\n  if (optimisticUpdate) {\n    // $FlowFixMe `newIssue` is not null, because `optimisticUpdate` is true\n    onChange(newIssue);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    error => {\n      onFail(error);\n      if (optimisticUpdate) {\n        // $FlowFixMe `oldIssue` is not null, because `optimisticUpdate` is true\n        onChange(oldIssue);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport MarkdownTips from '../../common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { IssueComment } from '../types'; */\n\n/*::\ntype Props = {\n  comment?: IssueComment,\n  onComment: string => void,\n  toggleComment: boolean => void,\n  placeholder: string,\n  popupPosition?: {}\n};\n*/\n\n/*::\ntype State = {\n  textComment: string\n};\n*/\n\nexport default class CommentPopup extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (evt /*: SyntheticInputEvent */) => {\n    this.setState({ textComment: evt.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (evt /*: KeyboardEvent */) => {\n    if (evt.keyCode === 13 && (evt.metaKey || evt.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(evt.keyCode)) {\n      // Arrow keys\n      evt.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <DropdownOverlay>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows=\"2\"\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { updateIssue } from '../actions';\nimport Toggler from '../../controls/Toggler';\nimport { Button } from '../../ui/buttons';\nimport CommentPopup from '../popups/CommentPopup';\nimport { addIssueComment } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  commentPlaceholder: string,\n  currentPopup: ?string,\n  issueKey: string,\n  onChange: Issue => void,\n  onFail: Error => void,\n  toggleComment: (open?: boolean, placeholder?: string) => void\n|};\n*/\n\nexport default class IssueCommentAction extends React.PureComponent {\n  /*:: props: Props; */\n\n  addComment = (text /*: string */) => {\n    updateIssue(\n      this.props.onChange,\n      this.props.onFail,\n      addIssueComment({ issue: this.props.issueKey, text })\n    );\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <Button\n            className=\"button-link issue-action js-issue-comment\"\n            onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </Button>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityIcon from '../../icons-components/SeverityIcon';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  issue: Issue,\n  onSelect: string => void,\n};\n*/\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default class SetSeverityPopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    return (\n      <DropdownOverlay>\n        <SelectList\n          currentItem={this.props.issue.severity}\n          items={SEVERITY}\n          onSelect={this.props.onSelect}>\n          {SEVERITY.map(severity => (\n            <SelectListItem item={severity} key={severity}>\n              <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n              {translate('severity', severity)}\n            </SelectListItem>\n          ))}\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\nimport { setIssueSeverity } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport { Button } from '../../ui/buttons';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  canSetSeverity: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  setIssueProperty: (string, string, apiCall: (Object) => Promise<*>, string) => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueSeverity extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleSetSeverity = (open /*: boolean | void */) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity /*: string */) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { difference, without } from 'lodash';\nimport TagsSelector from '../../tags/TagsSelector';\nimport { searchIssueTags } from '../../../api/issues';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\nimport { setIssueTags } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport TagsList from '../../tags/TagsList';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  canSetTags: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  onChange: Issue => void,\n  onFail: Error => void,\n  togglePopup: (string, boolean | void) => void\n|};\n*/\n\nexport default class IssueTags extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleSetTags = (open /*: boolean | void */) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags /*: Array<string> */) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      this.props.onFail,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue,\n      newIssue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <Button\n              className={'js-issue-edit-tags button-link issue-action issue-action-with-options'}\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\n/*::\ntype Props = {\n  transitions: Array<string>,\n  onSelect: string => void,\n};\n*/\n\nexport default class SetTransitionPopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const { transitions } = this.props;\n    return (\n      <DropdownOverlay>\n        <SelectList currentItem={transitions[0]} items={transitions} onSelect={this.props.onSelect}>\n          {transitions.map(transition => {\n            return (\n              <SelectListItem\n                item={transition}\n                key={transition}\n                title={translate('issue.transition', transition, 'description')}>\n                {translate('issue.transition', transition)}\n              </SelectListItem>\n            );\n          })}\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\nimport { setIssueTransition } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { Button } from '../../ui/buttons';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  hasTransitions: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  onChange: Issue => void,\n  onFail: Error => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueTransition extends React.PureComponent {\n  /*:: props: Props; */\n\n  setTransition = (transition /*: string */) => {\n    updateIssue(\n      this.props.onChange,\n      this.props.onFail,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open /*: boolean | void */) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup onSelect={this.setTransition} transitions={issue.transitions} />\n            }>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  issue: Issue,\n  onSelect: string => void,\n};\n*/\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default class SetTypePopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    return (\n      <DropdownOverlay>\n        <SelectList\n          currentItem={this.props.issue.type}\n          items={TYPES}\n          onSelect={this.props.onSelect}>\n          {TYPES.map(type => (\n            <SelectListItem item={type} key={type}>\n              <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n              {translate('issue.type', type)}\n            </SelectListItem>\n          ))}\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SetTypePopup from '../popups/SetTypePopup';\nimport { setIssueType } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  canSetType: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  setIssueProperty: (string, string, apiCall: (Object) => Promise<*>, string) => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueType extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleSetType = (open /*: boolean | void */) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type /*: string */) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\nimport { updateIssue } from '../actions';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  issue: Issue,\n  currentPopup: ?string,\n  onAssign: string => void,\n  onChange: Issue => void,\n  onFail: Error => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\n/*::\ntype State = {\n  commentPlaceholder: string\n};\n*/\n\nexport default class IssueActionsBar extends React.PureComponent {\n  /*:: props: Props; */\n  state /*: State */ = {\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property /*: string */,\n    popup /*: string */,\n    apiCall /*: Object => Promise<*> */,\n    value /*: string */\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        this.props.onFail,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open /*: boolean | void */, placeholder /*: string | void */) => {\n    this.setState({ commentPlaceholder: placeholder || '' });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue /*: Issue */) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.tell_why'));\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              onFail={this.props.onFail}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueAssign\n                canAssign={canAssign}\n                isOpen={this.props.currentPopup === 'assign' && canAssign}\n                issue={issue}\n                onAssign={this.props.onAssign}\n                onFail={this.props.onFail}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          {!isSecurityHotspot &&\n            issue.effort && (\n              <li className=\"issue-meta\">\n                <span className=\"issue-meta-label\">\n                  {translateWithParameters('issue.x_effort', issue.effort)}\n                </span>\n              </li>\n            )}\n          {canComment && (\n            <IssueCommentAction\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              onFail={this.props.onFail}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              onFail={this.props.onFail}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\n/*::\ntype Props = {\n  onDelete: () => void,\n  popupPosition?: {}\n};\n*/\n\nexport default function CommentDeletePopup(props /*: Props */) {\n  return (\n    <DropdownOverlay>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={props.onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport EditIcon from '../../icons-components/EditIcon';\nimport { EditButton, DeleteButton } from '../../ui/buttons';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\nimport DateFromNow from '../../intl/DateFromNow';\n/*:: import type { IssueComment } from '../types'; */\n\n/*::\ntype Props = {\n  comment: IssueComment,\n  onDelete: string => void,\n  onEdit: (string, string) => void\n};\n*/\n\n/*::\ntype State = {\n  openPopup: string\n};\n*/\n\nexport default class IssueCommentLine extends React.PureComponent {\n  /*:: props: Props; */\n  state /*: State */ = {\n    openPopup: ''\n  };\n\n  handleEdit = (text /*: string */) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName /*: string */, force /*: ?boolean */) => {\n    this.setState((prevState /*: State */) => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force /*: ?boolean */) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force /*: ?boolean */) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={comment.authorName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={comment.authorName || comment.author}\n            size={16}\n          />\n          {comment.authorName || comment.author}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: comment.htmlText }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                className=\"display-inline-block\"\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                className=\"display-inline-block\"\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport IssueTitleBar from './components/IssueTitleBar';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport { updateIssue } from './actions';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\n/*:: import type { Issue } from './types'; */\n\n/*::\ntype Props = {|\n  branchLike?: { id?: string; name: string },\n  checked?: boolean,\n  currentPopup: ?string,\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: Issue,\n  onAssign: string => void,\n  onChange: Issue => void,\n  onCheck?: (issue: string, event: Event) => void,\n  onClick: string => void,\n  onFail: Error => void,\n  onFilter?: (property: string, issue: Issue) => void,\n  selected: boolean,\n  togglePopup: (string, boolean | void) => void\n|};\n*/\n\nexport default class IssueView extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleCheck = (event /*: Event */) => {\n    event.preventDefault();\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key, event);\n    }\n  };\n\n  handleClick = (event /*: Event & { target: HTMLElement } */) => {\n    if (!isClickable(event.target) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment /*: string */, text /*: string */) => {\n    updateIssue(this.props.onChange, this.props.onFail, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment /*: string */) => {\n    updateIssue(this.props.onChange, this.props.onFail, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFail={this.props.onFail}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          onFail={this.props.onFail}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments &&\n          issue.comments.length > 0 && (\n            <div className=\"issue-comments\">\n              {issue.comments.map(comment => (\n                <IssueCommentLine\n                  comment={comment}\n                  key={comment.key}\n                  onDelete={this.deleteComment}\n                  onEdit={this.editComment}\n                />\n              ))}\n            </div>\n          )}\n        {hasCheckbox && (\n          <a className=\"js-toggle issue-checkbox-container\" href=\"#\" onClick={this.handleCheck}>\n            <i\n              className={classNames('issue-checkbox', 'icon-checkbox', {\n                'icon-checkbox-checked': this.props.checked\n              })}\n            />\n          </a>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node /*: any */) {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentNode);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport key from 'keymaster';\nimport PropTypes from 'prop-types';\nimport IssueView from './IssueView';\nimport { updateIssue } from './actions';\nimport { onFail } from '../../store/rootActions';\nimport { setIssueAssignee } from '../../api/issues';\n/*:: import type { Issue as IssueType } from './types'; */\nimport './Issue.css';\n\n/*::\ntype Props = {|\n  branchLike?: { id?: string; name: string },\n  checked?: boolean,\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: IssueType,\n  onChange: IssueType => void,\n  onCheck?: (issue: string, event: Event) => void,\n  onClick: string => void,\n  onFilter?: (property: string, issue: IssueType) => void,\n  onPopupToggle: (issue: string, popupName: string, open: ?boolean) => void,\n  openPopup: ?string,\n  selected: boolean\n|};\n*/\n\nexport default class Issue extends React.PureComponent {\n  /*:: props: Props; */\n\n  static contextTypes = {\n    store: PropTypes.object\n  };\n\n  static defaultProps = {\n    displayLocationsCount: true,\n    displayLocationsLink: true,\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps /*: Props */) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps /*: Props */) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', (event /*: Event*/) => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key, event);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName /*: string */, open /*: ?boolean */) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login /*: string */) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(\n        this.props.onChange,\n        this.handleFail,\n        setIssueAssignee({ issue: issue.key, assignee: login })\n      );\n    }\n    this.togglePopup('assign', false);\n  };\n\n  handleFail = (error /*: Error */) => {\n    onFail(this.context.store.dispatch)(error);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFail={this.handleFail}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{position:absolute;bottom:calc(100% + 4px);left:0}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationMessage.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationMessage.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationMessage.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#777;text-align:center}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#ffeaea;box-shadow:inset 0 0 0 1px #ffeaea;transition:all .3s ease,border 0 ease}.issue.selected{box-shadow:none;border:1px solid #dd4040!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:1.5;font-size:13px;font-weight:600;text-overflow:ellipsis;overflow:hidden}.issue-message .button-link{height:16px}.issue-rule{vertical-align:top;margin-top:2px;padding:0 3px;opacity:.5}.issue-rule,.issue-rule:hover{background:rgba(75,159,213,.3)}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:table;width:100%}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{display:table-cell;vertical-align:top;width:1px;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{padding-right:5px;line-height:18px;line-height:1.5;outline:none;word-break:break-all}.issue-comment-actions,.issue-comment-text{display:table-cell;vertical-align:top;padding-left:5px}.issue-comment-actions{width:1px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:block}.issue-checkbox-container{display:none;position:absolute;width:29px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue-checkbox{position:absolute;top:50%;left:50%;margin:-8px 0 0 -8px}.issue:not(.selected) .location-index{background-color:#ccc}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Issue.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Issue.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Issue.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#bc5e5e}.location-index.muted{background-color:#ccc}.location-index.is-leading{position:absolute;margin:1px 0 0 -4px!important;transform:translateX(-100%)}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#bc5e5e}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px;margin-left:4px;margin-right:4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationIndex.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationIndex.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationIndex.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: string;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport interface Standards {\n  owaspTop10: { [x: string]: { title: string; description?: string } };\n  sansTop25: { [x: string]: { title: string; description?: string } };\n  cwe: { [x: string]: { title: string; description?: string } };\n}\n\nexport function renderOwaspTop10Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderCWECategory(standards: Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n"],"sourceRoot":""}