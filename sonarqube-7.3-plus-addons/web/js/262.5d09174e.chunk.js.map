{"version":3,"sources":["webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./src/main/js/apps/projectsManagement/CreateProjectForm.tsx","webpack:///./src/main/js/apps/projectsManagement/ChangeVisibilityForm.tsx","webpack:///./src/main/js/apps/projectsManagement/Header.tsx","webpack:///./src/main/js/apps/projectsManagement/BulkApplyTemplateModal.tsx","webpack:///./src/main/js/apps/projectsManagement/DeleteModal.tsx","webpack:///./src/main/js/apps/projectsManagement/utils.ts","webpack:///./src/main/js/apps/projectsManagement/Search.tsx","webpack:///./src/main/js/apps/projectsManagement/RestoreAccessModal.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRowActions.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.tsx","webpack:///./src/main/js/apps/projectsManagement/Projects.tsx","webpack:///./src/main/js/apps/projectsManagement/App.tsx","webpack:///./src/main/js/apps/projectsManagement/AppContainer.tsx","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/HelpTooltip.css?42d2","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/controls/Checkbox.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/icons-components/SettingsIcon.tsx","webpack:///./src/main/js/components/controls/ActionsDropdown.tsx","webpack:///./src/main/js/api/user_groups.ts","webpack:///./src/main/js/apps/organizations/actions.ts","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/api/permissions.ts","webpack:///./src/main/js/apps/organizations/forSingleOrganization.tsx","webpack:///./src/main/js/components/icons-components/VisibleIcon.tsx","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/components/icons-components/AlertWarnIcon.tsx","webpack:///../sonar-docs/src/tooltips/project/visibility-public-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-private.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public.md","webpack:///./node_modules/process/browser.js","webpack:///./src/main/js/components/common/UpgradeOrganizationBox.tsx","webpack:///./src/main/js/components/intl/DateTooltipFormatter.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx","webpack:///./src/main/js/components/common/UpgradeOrganizationBox.css","webpack:///./src/main/js/components/common/UpgradeOrganizationBox.css?9f02"],"names":["global","process","undefined","setImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","Object","getPrototypeOf","setTimeout","toString","call","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","data","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","source","indexOf","slice","length","addEventListener","attachEvent","callback","Function","args","Array","arguments","i","task","clearImmediate","apply","run","self","this","prototype","Timeout","id","clearFn","_id","_clearFn","exports","window","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_require__","CreateProjectForm","_super","props","_this","mounted","handleInputChange","_a","currentTarget","name","value","setState","_b","handleVisibilityChange","visibility","handleFormSubmit","preventDefault","state","organization","key","project","loading","_api_components__WEBPACK_IMPORTED_MODULE_3__","then","response","createdProject","onProjectCreated","projectVisibility","__extends","componentDidMount","componentDidUpdate","closeButton","focus","componentWillUnmount","render","react__WEBPACK_IMPORTED_MODULE_0__","_components_controls_Modal__WEBPACK_IMPORTED_MODULE_6__","contentLabel","onRequestClose","onClose","className","_helpers_l10n__WEBPACK_IMPORTED_MODULE_8__","react_intl__WEBPACK_IMPORTED_MODULE_2__","defaultMessage","values","react_router__WEBPACK_IMPORTED_MODULE_1__","to","_helpers_urls__WEBPACK_IMPORTED_MODULE_9__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_7__","innerRef","node","onClick","onSubmit","htmlFor","autoFocus","maxLength","onChange","required","type","_components_common_VisibilitySelector__WEBPACK_IMPORTED_MODULE_5__","canTurnToPrivate","canUpdateProjectsVisibilityToPrivate","_components_common_UpgradeOrganizationBox__WEBPACK_IMPORTED_MODULE_4__","disabled","ChangeVisibilityForm","handleConfirmClick","onConfirm","handleVisibilityClick","blur","dataset","index_js_exposed","Modal","l10n","types","Public","Private","map","data-visibility","href","classnames","is-checked","style","paddingLeft","UpgradeOrganizationBox","buttons","Header","visibilityForm","handleChangeVisibilityClick","closeVisiblityForm","Header_extends","system","hasProvisionPermission","onProjectCreate","projectsManagement_ChangeVisibilityForm","onVisibilityChange","BulkApplyTemplateModal","done","submitting","analyzedBefore","permissionTemplate","parameters","selection","projects","join","templateId","dates","onProvisionedOnly","provisioned","qualifiers","qualifier","q","query","permissions","handlePermissionTemplateChange","renderWarning","AlertWarnIcon","total","renderSelect","Select","clearable","options","permissionTemplates","t","label","BulkApplyTemplateModal_extends","loadPermissionTemplates","header","DeleteModal","components","DeleteModal_extends","PAGE_SIZE","QUALIFIERS_ORDER","Search","bulkApplyTemplateModal","deleteModal","getQualifierOptions","topLevelQualifiers","sortBy_default","option","onCheck","checked","onAllSelected","onAllDeselected","handleDeleteClick","closeDeleteModal","handleDeleteConfirm","onDeleteProjects","handleBulkApplyTemplateClick","closeBulkApplyTemplateModal","handleQualifierChange","onQualifierChanged","onVisibilityChanged","renderCheckbox","isAllChecked","thirdState","Checkbox","renderQualifierOption","QualifierIcon","renderQualifierFilter","ready","optionRenderer","searchable","valueRenderer","renderVisibilityFilter","renderTypeFilter","onProvisionedChanged","HelpTooltip","overlay","renderDateFilter","DateInput","inputClassName","onDateChanged","placeholder","Search_extends","SearchBox","minLength","onSearch","projectsManagement_BulkApplyTemplateModal","projectsManagement_DeleteModal","RestoreAccessModal","Promise","all","grantPermission","onRestoreAccess","permission","currentUser","login","RestoreAccessModal_extends","index_es","browse","administer","ProjectRowActions","applyTemplateModal","restoreAccessModal","fetchPermissions","nav","componentKey","component","navResponse","hasAccess","Boolean","configuration","showPermissions","handleDropdownOpen","handleApplyTemplateClick","handleApplyTemplateClose","handleRestoreAccessClick","handleRestoreAccessClose","handleRestoreAccessDone","ProjectRowActions_extends","ActionsDropdown","onOpen","urls","projectsManagement_RestoreAccessModal","ApplyTemplate","ProjectRow","handleProjectCheck","onProjectCheck","ProjectRow_extends","selected","react_router_es","pathname","PrivacyBadgeContainer","tooltipProps","projectKey","lastAnalysisDate","DateTooltipFormatter","date","projectsManagement_ProjectRowActions","Projects","onProjectSelected","onProjectDeselected","Projects_extends","new-loading","projectsManagement_ProjectRow","includes","App","requestProjects","p","page","ps","r","concat","paging","loadMore","newQualifier","newVisibility","handleDateChanged","newSelection","uniq_default","without_default","openCreateProjectForm","createProjectForm","closeCreateProjectForm","debounce_default","App_extends","Suggestions","suggestions","Helmet_default","a","title","projectsManagement_Header","projectsManagement_Search","projectsManagement_Projects","ListFooter","count","AppContainer_AppContainer","AppContainer","AppContainer_extends","fetchOrganization","appState","defaultOrganization","isDefault","projectsManagement_App","canProvisionProjects","__webpack_exports__","forSingleOrganization","es","ownProps","rootReducer","dispatch","actions","currentVisibility","duck","__assign","catch","AppContainer_onVisibilityChange","react_modal__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-medium","medium","modal-large","large","isOpen","overlayClassName","children","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","fill","_app_theme__WEBPACK_IMPORTED_MODULE_4__","size","tagName","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","mouseLeaveDelay","onShow","context","addSuggestions","prevProps","removeSuggestions","contextTypes","prop_types__WEBPACK_IMPORTED_MODULE_1__","isRequired","module","push","content","hmr","transform","insertInto","locals","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","bind","DocTooltip","open","default","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","qualifierIcons","app","_Icon__WEBPACK_IMPORTED_MODULE_1__","d","_app_theme__WEBPACK_IMPORTED_MODULE_2__","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","SimpleModal","stopSubmitting","handleCloseClick","submit","handleSubmitClick","result","_Modal__WEBPACK_IMPORTED_MODULE_1__","onCloseClick","onFormSubmit","onSubmitClick","handleClick","icon-checkbox-checked","icon-checkbox-single","icon-checkbox-disabled","note","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","defaultProps","formatterOption","year","month","day","longFormatterOption","DateFormatter","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","__rest","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","_helpers_measures__WEBPACK_IMPORTED_MODULE_3__","toNumber","INFINITY","MAX_INTEGER","hour","minute","DateTimeFormatter","SettingsIcon","_c","Icon","viewBox","Dropdown","toggleClassName","button-small","small","DropdownIcon","ActionsDropdown_ActionsDropdownItem","ActionsDropdownItem","text-danger","destructive","download","ActionsDropdownDivider","searchUsersGroups","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","getUsersInGroup","addUserToGroup","removeUserFromGroup","createGroup","group","updateGroup","deleteGroup","_api_organizations__WEBPACK_IMPORTED_MODULE_0__","navigation","organizationWithPermissions","_store_organizations_duck__WEBPACK_IMPORTED_MODULE_1__","_store_rootActions__WEBPACK_IMPORTED_MODULE_5__","fetchOrganizationGroups","_api_user_groups__WEBPACK_IMPORTED_MODULE_3__","groups","createOrganization","_store_globalMessages_duck__WEBPACK_IMPORTED_MODULE_7__","error","reject","onRejected","updateOrganization","changes","deleteOrganization","fetchMembers","receiveAction","_store_organizationsMembers_actions__WEBPACK_IMPORTED_MODULE_2__","users","pageIndex","fetchOrganizationMembers","fetchMoreOrganizationMembers","getState","_store_rootReducer__WEBPACK_IMPORTED_MODULE_6__","addOrganizationMember","member","user","removeOrganizationMember","updateOrganizationMemberGroups","add","remove","_store_users_actions__WEBPACK_IMPORTED_MODULE_4__","groupCount","promises","isPaidOrganization","subscription","_app_types__WEBPACK_IMPORTED_MODULE_0__","Paid","hasPrivateAccess","userOrganizations","isCurrentUserMemberOf","canAdmin","isAdmin","some","org","grantPermissionToUser","_helpers_request__WEBPACK_IMPORTED_MODULE_1__","revokePermissionFromUser","grantPermissionToGroup","groupName","revokePermissionFromGroup","getPermissionTemplates","url","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_0__","setDefaultPermissionTemplate","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","assign","getPermissionTemplateGroups","changeProjectVisibility","changeProjectDefaultVisibility","ComposedComponent","ForSingleOrganization","customOrganizations","router","other","params","organizationKey","replace","displayName","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","react_router__WEBPACK_IMPORTED_MODULE_2__","VisibleIcon","onSonarCloud","organizations","icon","theme","badge","badge-info","badge-icon","resolve","getDoc","Tooltip","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","marker","runClearTimeout","Item","array","noop","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","parsedDate","_helpers_dates__WEBPACK_IMPORTED_MODULE_4__","_DateFormatter__WEBPACK_IMPORTED_MODULE_1__","formattedDate","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_3__","mouseEnterDelay","_DateTimeFormatter__WEBPACK_IMPORTED_MODULE_2__","dateTime","toISOString","VisibilitySelector","handlePublicClick","_app_types__WEBPACK_IMPORTED_MODULE_3__","handlePrivateClick","fetchPermissionTemplates","_api_permissions__WEBPACK_IMPORTED_MODULE_1__","handleSubmit","onApply","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","_components_controls_SimpleModal__WEBPACK_IMPORTED_MODULE_3__","_components_controls_Select__WEBPACK_IMPORTED_MODULE_4__","_components_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"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","file":"js/262.5d09174e.chunk.js","sourcesContent":["(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport { createProject } from '../../api/components';\nimport { Organization, Visibility } from '../../app/types';\nimport UpgradeOrganizationBox from '../../components/common/UpgradeOrganizationBox';\nimport VisibilitySelector from '../../components/common/VisibilitySelector';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { getProjectUrl } from '../../helpers/urls';\n\ninterface Props {\n  onClose: () => void;\n  onProjectCreated: () => void;\n  organization: Organization;\n}\n\ninterface State {\n  createdProject?: { key: string; name: string };\n  key: string;\n  loading: boolean;\n  name: string;\n  visibility?: Visibility;\n  // add index declaration to be able to do `this.setState({ [name]: value });`\n  [x: string]: any;\n}\n\nexport default class CreateProjectForm extends React.PureComponent<Props, State> {\n  closeButton?: HTMLElement | null;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      key: '',\n      loading: false,\n      name: '',\n      visibility: props.organization.projectVisibility\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate() {\n    // wrap with `setImmediate` because of https://github.com/reactjs/react-modal/issues/338\n    setImmediate(() => {\n      if (this.closeButton) {\n        this.closeButton.focus();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleVisibilityChange = (visibility: Visibility) => {\n    this.setState({ visibility });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const data = {\n      name: this.state.name,\n      organization: this.props.organization && this.props.organization.key,\n      project: this.state.key,\n      visibility: this.state.visibility\n    };\n\n    this.setState({ loading: true });\n    createProject(data).then(\n      response => {\n        if (this.mounted) {\n          this.setState({ createdProject: response.project, loading: false });\n          this.props.onProjectCreated();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { organization } = this.props;\n    const { createdProject } = this.state;\n\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        {createdProject ? (\n          <div>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <div className=\"alert alert-success\">\n                <FormattedMessage\n                  defaultMessage={translate(\n                    'projects_management.project_has_been_successfully_created'\n                  )}\n                  id=\"projects_management.project_has_been_successfully_created\"\n                  values={{\n                    project: (\n                      <Link to={getProjectUrl(createdProject.key)}>{createdProject.name}</Link>\n                    )\n                  }}\n                />\n              </div>\n            </div>\n\n            <footer className=\"modal-foot\">\n              <ResetButtonLink\n                id=\"create-project-close\"\n                innerRef={node => (this.closeButton = node)}\n                onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </footer>\n          </div>\n        ) : (\n          <form id=\"create-project-form\" onSubmit={this.handleFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-project-name\"\n                  maxLength={2000}\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-key\">\n                  {translate('key')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  id=\"create-project-key\"\n                  maxLength={400}\n                  name=\"key\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.key}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label>{translate('visibility')}</label>\n                <VisibilitySelector\n                  canTurnToPrivate={organization.canUpdateProjectsVisibilityToPrivate}\n                  className=\"little-spacer-top\"\n                  onChange={this.handleVisibilityChange}\n                  visibility={this.state.visibility}\n                />\n                {!organization.canUpdateProjectsVisibilityToPrivate && (\n                  <div className=\"spacer-top\">\n                    <UpgradeOrganizationBox organization={organization.key} />\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <footer className=\"modal-foot\">\n              {this.state.loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={this.state.loading} id=\"create-project-submit\">\n                {translate('create')}\n              </SubmitButton>\n              <ResetButtonLink id=\"create-project-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Organization, Visibility } from '../../app/types';\nimport UpgradeOrganizationBox from '../../components/common/UpgradeOrganizationBox';\nimport Modal from '../../components/controls/Modal';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  onClose: () => void;\n  onConfirm: (visiblity: Visibility) => void;\n  organization: Organization;\n}\n\ninterface State {\n  visibility: Visibility;\n}\n\nexport default class ChangeVisibilityForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { visibility: props.organization.projectVisibility as Visibility };\n  }\n\n  handleConfirmClick = () => {\n    this.props.onConfirm(this.state.visibility);\n    this.props.onClose();\n  };\n\n  handleVisibilityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const visibility = event.currentTarget.dataset.visibility as Visibility;\n    this.setState({ visibility });\n  };\n\n  render() {\n    const { canUpdateProjectsVisibilityToPrivate } = this.props.organization;\n\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{translate('organization.change_visibility_form.header')}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {[Visibility.Public, Visibility.Private].map(visibility => (\n            <div className=\"big-spacer-bottom\" key={visibility}>\n              <p>\n                {visibility === Visibility.Private && !canUpdateProjectsVisibilityToPrivate ? (\n                  <span className=\"text-muted cursor-not-allowed\">\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </span>\n                ) : (\n                  <a\n                    className=\"link-base-color link-no-underline\"\n                    data-visibility={visibility}\n                    href=\"#\"\n                    onClick={this.handleVisibilityClick}>\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </a>\n                )}\n              </p>\n              <p className=\"text-muted spacer-top\" style={{ paddingLeft: 22 }}>\n                {translate('visibility', visibility, 'description.short')}\n              </p>\n            </div>\n          ))}\n\n          {canUpdateProjectsVisibilityToPrivate ? (\n            <div className=\"alert alert-warning\">\n              {translate('organization.change_visibility_form.warning')}\n            </div>\n          ) : (\n            <UpgradeOrganizationBox organization={this.props.organization.key} />\n          )}\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"js-confirm\" onClick={this.handleConfirmClick}>\n            {translate('organization.change_visibility_form.submit')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChangeVisibilityForm from './ChangeVisibilityForm';\nimport { Organization, Visibility } from '../../app/types';\nimport { EditButton, Button } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\n\nexport interface Props {\n  hasProvisionPermission?: boolean;\n  onProjectCreate: () => void;\n  onVisibilityChange: (visibility: Visibility) => void;\n  organization: Organization;\n}\n\ninterface State {\n  visibilityForm: boolean;\n}\n\nexport default class Header extends React.PureComponent<Props, State> {\n  state: State = { visibilityForm: false };\n\n  handleChangeVisibilityClick = () => {\n    this.setState({ visibilityForm: true });\n  };\n\n  closeVisiblityForm = () => {\n    this.setState({ visibilityForm: false });\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('projects_management')}</h1>\n\n        <div className=\"page-actions\">\n          {!isSonarCloud() &&\n            organization.projectVisibility && (\n              <span className=\"big-spacer-right\">\n                <span className=\"text-middle\">\n                  {translate('organization.default_visibility_of_new_projects')}{' '}\n                  <strong>{translate('visibility', organization.projectVisibility)}</strong>\n                </span>\n                <EditButton\n                  className=\"js-change-visibility spacer-left button-small\"\n                  onClick={this.handleChangeVisibilityClick}\n                />\n              </span>\n            )}\n          {this.props.hasProvisionPermission && (\n            <Button id=\"create-project\" onClick={this.props.onProjectCreate}>\n              {translate('qualifiers.create.TRK')}\n            </Button>\n          )}\n        </div>\n\n        <p className=\"page-description\">{translate('projects_management.page.description')}</p>\n\n        {this.state.visibilityForm && (\n          <ChangeVisibilityForm\n            onClose={this.closeVisiblityForm}\n            onConfirm={this.props.onVisibilityChange}\n            organization={organization}\n          />\n        )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, bulkApplyTemplate } from '../../api/permissions';\nimport { PermissionTemplate } from '../../app/types';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport AlertWarnIcon from '../../components/icons-components/AlertWarnIcon';\nimport Modal from '../../components/controls/Modal';\nimport Select from '../../components/controls/Select';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { toNotSoISOString } from '../../helpers/dates';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: PermissionTemplate[];\n  submitting: boolean;\n}\n\nexport default class BulkApplyTemplateModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true, submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadPermissionTemplates() {\n    this.setState({ loading: true });\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            permissionTemplate:\n              permissionTemplates.length > 0 ? permissionTemplates[0].id : undefined,\n            permissionTemplates\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleConfirmClick = () => {\n    const { analyzedBefore } = this.props;\n    const { permissionTemplate } = this.state;\n    if (permissionTemplate) {\n      this.setState({ submitting: true });\n      const parameters = this.props.selection.length\n        ? {\n            organization: this.props.organization,\n            projects: this.props.selection.join(),\n            templateId: permissionTemplate\n          }\n        : {\n            analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n            onProvisionedOnly: this.props.provisioned || undefined,\n            organization: this.props.organization,\n            qualifiers: this.props.qualifier,\n            q: this.props.query || undefined,\n            templateId: permissionTemplate\n          };\n      bulkApplyTemplate(parameters).then(\n        () => {\n          if (this.mounted) {\n            this.setState({ done: true, submitting: false });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  renderWarning = () => (\n    <div className=\"alert alert-warning modal-alert\">\n      <AlertWarnIcon className=\"spacer-right\" />\n      {this.props.selection.length\n        ? translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_selected',\n            this.props.selection.length\n          )\n        : translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_all',\n            this.props.total\n          )}\n    </div>\n  );\n\n  renderSelect = () => (\n    <div className=\"modal-field\">\n      <label>\n        {translate('template')}\n        <em className=\"mandatory\">*</em>\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        onChange={this.handlePermissionTemplateChange}\n        options={this.state.permissionTemplates!.map(t => ({ label: t.name, value: t.id }))}\n        value={this.state.permissionTemplate}\n      />\n    </div>\n  );\n\n  render() {\n    const { done, loading, permissionTemplates, submitting } = this.state;\n    const header = translate('permission_templates.bulk_apply_permission_template');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {done && (\n            <div className=\"alert alert-success\">\n              {translate('projects_role.apply_template.success')}\n            </div>\n          )}\n\n          {loading && <i className=\"spinner\" />}\n\n          {!loading && !done && permissionTemplates && this.renderWarning()}\n          {!loading && !done && permissionTemplates && this.renderSelect()}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          {!loading &&\n            !done &&\n            permissionTemplates && (\n              <Button disabled={submitting} onClick={this.handleConfirmClick}>\n                {translate('apply')}\n              </Button>\n            )}\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {done ? translate('close') : translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { bulkDeleteProjects } from '../../api/components';\nimport Modal from '../../components/controls/Modal';\nimport AlertWarnIcon from '../../components/icons-components/AlertWarnIcon';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { toNotSoISOString } from '../../helpers/dates';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  onConfirm: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class DeleteModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleConfirmClick = () => {\n    this.setState({ loading: true });\n    const { analyzedBefore } = this.props;\n    const parameters = this.props.selection.length\n      ? {\n          organization: this.props.organization,\n          projects: this.props.selection.join()\n        }\n      : {\n          analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n          onProvisionedOnly: this.props.provisioned || undefined,\n          organization: this.props.organization,\n          qualifiers: this.props.qualifier,\n          q: this.props.query || undefined\n        };\n    bulkDeleteProjects(parameters).then(\n      () => {\n        if (this.mounted) {\n          this.props.onConfirm();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWarning = () => (\n    <div className=\"alert alert-warning modal-alert\">\n      <AlertWarnIcon className=\"spacer-right\" />\n      {this.props.selection.length\n        ? translateWithParameters(\n            'projects_management.delete_selected_warning',\n            this.props.selection.length\n          )\n        : translateWithParameters('projects_management.delete_all_warning', this.props.total)}\n    </div>\n  );\n\n  render() {\n    const header = translate('qualifiers.delete', this.props.qualifier);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {this.renderWarning()}\n          {translate('qualifiers.delete_confirm', this.props.qualifier)}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {this.state.loading && <i className=\"spinner spacer-right\" />}\n          <Button\n            className=\"button-red\"\n            disabled={this.state.loading}\n            onClick={this.handleConfirmClick}>\n            {translate('delete')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { SearchProjectsResponseComponent } from '../../api/components';\n\nexport const PAGE_SIZE = 50;\n\nexport const QUALIFIERS_ORDER = ['TRK', 'VW', 'APP'];\n\nexport type Project = SearchProjectsResponseComponent;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport BulkApplyTemplateModal from './BulkApplyTemplateModal';\nimport DeleteModal from './DeleteModal';\nimport { QUALIFIERS_ORDER, Project } from './utils';\nimport { Organization, Visibility } from '../../app/types';\nimport Checkbox from '../../components/controls/Checkbox';\nimport { translate } from '../../helpers/l10n';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport DateInput from '../../components/controls/DateInput';\nimport Select from '../../components/controls/Select';\nimport SearchBox from '../../components/controls/SearchBox';\nimport { Button } from '../../components/ui/buttons';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onAllDeselected: () => void;\n  onAllSelected: () => void;\n  onDateChanged: (analyzedBefore: Date | undefined) => void;\n  onDeleteProjects: () => void;\n  onProvisionedChanged: (provisioned: boolean) => void;\n  onQualifierChanged: (qualifier: string) => void;\n  onVisibilityChanged: (qualifier: string) => void;\n  onSearch: (query: string) => void;\n  organization: Organization;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: any[];\n  topLevelQualifiers: string[];\n  total: number;\n  visibility?: Visibility;\n}\n\ninterface State {\n  bulkApplyTemplateModal: boolean;\n  deleteModal: boolean;\n}\n\nexport default class Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { bulkApplyTemplateModal: false, deleteModal: false };\n\n  getQualifierOptions = () => {\n    const options = this.props.topLevelQualifiers.map(q => ({\n      label: translate('qualifiers', q),\n      value: q\n    }));\n    return sortBy(options, option => QUALIFIERS_ORDER.indexOf(option.value));\n  };\n\n  onCheck = (checked: boolean) => {\n    if (checked) {\n      this.props.onAllSelected();\n    } else {\n      this.props.onAllDeselected();\n    }\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ deleteModal: true });\n  };\n\n  closeDeleteModal = () => {\n    this.setState({ deleteModal: false });\n  };\n\n  handleDeleteConfirm = () => {\n    this.closeDeleteModal();\n    this.props.onDeleteProjects();\n  };\n\n  handleBulkApplyTemplateClick = () => {\n    this.setState({ bulkApplyTemplateModal: true });\n  };\n\n  closeBulkApplyTemplateModal = () => {\n    this.setState({ bulkApplyTemplateModal: false });\n  };\n\n  handleQualifierChange = ({ value }: { value: string }) => this.props.onQualifierChanged(value);\n\n  handleVisibilityChange = ({ value }: { value: string }) => this.props.onVisibilityChanged(value);\n\n  renderCheckbox = () => {\n    const isAllChecked =\n      this.props.projects.length > 0 && this.props.selection.length === this.props.projects.length;\n    const thirdState =\n      this.props.projects.length > 0 &&\n      this.props.selection.length > 0 &&\n      this.props.selection.length < this.props.projects.length;\n    const checked = isAllChecked || thirdState;\n    return (\n      <Checkbox\n        checked={checked}\n        id=\"projects-selection\"\n        onCheck={this.onCheck}\n        thirdState={thirdState}\n      />\n    );\n  };\n\n  renderQualifierOption = (option: { label: string; value: string }) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={option.value} />\n      {option.label}\n    </span>\n  );\n\n  renderQualifierFilter = () => {\n    const options = this.getQualifierOptions();\n    if (options.length < 2) {\n      return null;\n    }\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-qualifier\"\n          onChange={this.handleQualifierChange}\n          optionRenderer={this.renderQualifierOption}\n          options={this.getQualifierOptions()}\n          searchable={false}\n          value={this.props.qualifiers}\n          valueRenderer={this.renderQualifierOption}\n        />\n      </td>\n    );\n  };\n\n  renderVisibilityFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-small\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-visibility\"\n          onChange={this.handleVisibilityChange}\n          options={[\n            { value: 'all', label: translate('visibility.both') },\n            { value: 'public', label: translate('visibility.public') },\n            { value: 'private', label: translate('visibility.private') }\n          ]}\n          searchable={false}\n          value={this.props.visibility || 'all'}\n        />\n      </td>\n    );\n  };\n\n  renderTypeFilter = () =>\n    this.props.qualifiers === 'TRK' ? (\n      <td className=\"thin nowrap text-middle\">\n        <Checkbox\n          checked={this.props.provisioned}\n          className=\"link-checkbox-control\"\n          id=\"projects-provisioned\"\n          onCheck={this.props.onProvisionedChanged}>\n          <span className=\"text-middle little-spacer-left\">\n            {translate('provisioning.only_provisioned')}\n          </span>\n        </Checkbox>\n        <HelpTooltip\n          className=\"spacer-left\"\n          overlay={translate('provisioning.only_provisioned.tooltip')}\n        />\n      </td>\n    ) : null;\n\n  renderDateFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <DateInput\n          inputClassName=\"input-medium\"\n          name=\"analyzed-before\"\n          onChange={this.props.onDateChanged}\n          placeholder={translate('last_analysis_before')}\n          value={this.props.analyzedBefore}\n        />\n      </td>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <table className=\"data\">\n          <tbody>\n            <tr>\n              <td className=\"thin text-middle\">\n                {this.props.ready ? this.renderCheckbox() : <i className=\"spinner\" />}\n              </td>\n              {this.renderQualifierFilter()}\n              {this.renderDateFilter()}\n              {this.renderVisibilityFilter()}\n              {this.renderTypeFilter()}\n              <td className=\"text-middle\">\n                <SearchBox\n                  minLength={3}\n                  onChange={this.props.onSearch}\n                  placeholder={translate('search.search_by_name_or_key')}\n                  value={this.props.query}\n                />\n              </td>\n              <td className=\"thin nowrap text-middle\">\n                <Button\n                  className=\"js-bulk-apply-permission-template\"\n                  disabled={this.props.total === 0}\n                  onClick={this.handleBulkApplyTemplateClick}>\n                  {translate('permission_templates.bulk_apply_permission_template')}\n                </Button>\n                {this.props.qualifiers === 'TRK' && (\n                  <Button\n                    className=\"js-delete spacer-left button-red\"\n                    disabled={this.props.total === 0}\n                    onClick={this.handleDeleteClick}>\n                    {translate('delete')}\n                  </Button>\n                )}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {this.state.bulkApplyTemplateModal && (\n          <BulkApplyTemplateModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeBulkApplyTemplateModal}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n\n        {this.state.deleteModal && (\n          <DeleteModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeDeleteModal}\n            onConfirm={this.handleDeleteConfirm}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Project } from './utils';\nimport { grantPermissionToUser } from '../../api/permissions';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  currentUser: { login: string };\n  onClose: () => void;\n  onRestoreAccess: () => void;\n  project: Project;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RestoreAccessModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    Promise.all([this.grantPermission('user'), this.grantPermission('admin')]).then(\n      this.props.onRestoreAccess,\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  grantPermission = (permission: string) =>\n    grantPermissionToUser(\n      this.props.project.key,\n      this.props.currentUser.login,\n      permission,\n      this.props.project.organization\n    );\n\n  render() {\n    const header = translate('global_permissions.restore_access');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            <FormattedMessage\n              defaultMessage={translate('global_permissions.restore_access.message')}\n              id=\"global_permissions.restore_access.message\"\n              values={{\n                browse: <strong>{translate('projects_role.user')}</strong>,\n                administer: <strong>{translate('projects_role.admin')}</strong>\n              }}\n            />\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.loading}>{translate('restore')}</SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RestoreAccessModal from './RestoreAccessModal';\nimport { Project } from './utils';\nimport ApplyTemplate from '../permissions/project/components/ApplyTemplate';\nimport { getComponentShow } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport ActionsDropdown, { ActionsDropdownItem } from '../../components/controls/ActionsDropdown';\nimport { translate } from '../../helpers/l10n';\nimport { getComponentPermissionsUrl } from '../../helpers/urls';\n\nexport interface Props {\n  currentUser: { login: string };\n  organization: string | undefined;\n  project: Project;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n  hasAccess?: boolean;\n  loading: boolean;\n  restoreAccessModal: boolean;\n}\n\nexport default class ProjectRowActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false, loading: false, restoreAccessModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissions = () => {\n    this.setState({ loading: false });\n    // call `getComponentNavigation` to check if user has the \"Administer\" permission\n    // call `getComponentShow` to check if user has the \"Browse\" permission\n    Promise.all([\n      getComponentNavigation({ componentKey: this.props.project.key }),\n      getComponentShow({ component: this.props.project.key })\n    ]).then(\n      ([navResponse]) => {\n        if (this.mounted) {\n          const hasAccess = Boolean(\n            navResponse.configuration && navResponse.configuration.showPermissions\n          );\n          this.setState({ hasAccess, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ hasAccess: false, loading: false });\n        }\n      }\n    );\n  };\n\n  handleDropdownOpen = () => {\n    if (this.state.hasAccess === undefined && !this.state.loading) {\n      this.fetchPermissions();\n    }\n  };\n\n  handleApplyTemplateClick = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  handleRestoreAccessClick = () => {\n    this.setState({ restoreAccessModal: true });\n  };\n\n  handleRestoreAccessClose = () => this.setState({ restoreAccessModal: false });\n\n  handleRestoreAccessDone = () => {\n    this.setState({ hasAccess: true, restoreAccessModal: false });\n  };\n\n  render() {\n    const { hasAccess } = this.state;\n\n    return (\n      <>\n        <ActionsDropdown onOpen={this.handleDropdownOpen}>\n          {hasAccess === true && (\n            <ActionsDropdownItem to={getComponentPermissionsUrl(this.props.project.key)}>\n              {translate('edit_permissions')}\n            </ActionsDropdownItem>\n          )}\n\n          {hasAccess === false && (\n            <ActionsDropdownItem\n              className=\"js-restore-access\"\n              onClick={this.handleRestoreAccessClick}>\n              {translate('global_permissions.restore_access')}\n            </ActionsDropdownItem>\n          )}\n\n          <ActionsDropdownItem\n            className=\"js-apply-template\"\n            onClick={this.handleApplyTemplateClick}>\n            {translate('projects_role.apply_template')}\n          </ActionsDropdownItem>\n        </ActionsDropdown>\n\n        {this.state.restoreAccessModal && (\n          <RestoreAccessModal\n            currentUser={this.props.currentUser}\n            onClose={this.handleRestoreAccessClose}\n            onRestoreAccess={this.handleRestoreAccessDone}\n            project={this.props.project}\n          />\n        )}\n\n        {this.state.applyTemplateModal && (\n          <ApplyTemplate\n            onClose={this.handleApplyTemplateClose}\n            organization={this.props.organization}\n            project={this.props.project}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ProjectRowActions from './ProjectRowActions';\nimport { Project } from './utils';\nimport PrivacyBadgeContainer from '../../components/common/PrivacyBadgeContainer';\nimport Checkbox from '../../components/controls/Checkbox';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport DateTooltipFormatter from '../../components/intl/DateTooltipFormatter';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectCheck: (project: Project, checked: boolean) => void;\n  organization: string | undefined;\n  project: Project;\n  selected: boolean;\n}\n\nexport default class ProjectRow extends React.PureComponent<Props> {\n  handleProjectCheck = (checked: boolean) => {\n    this.props.onProjectCheck(this.props.project, checked);\n  };\n\n  render() {\n    const { organization, project, selected } = this.props;\n\n    return (\n      <tr>\n        <td className=\"thin\">\n          <Checkbox checked={selected} onCheck={this.handleProjectCheck} />\n        </td>\n\n        <td className=\"nowrap\">\n          <Link\n            className=\"link-with-icon\"\n            to={{ pathname: '/dashboard', query: { id: project.key } }}>\n            <QualifierIcon qualifier={project.qualifier} /> <span>{project.name}</span>\n          </Link>\n        </td>\n\n        <td className=\"thin nowrap\">\n          <PrivacyBadgeContainer\n            organization={organization}\n            qualifier={project.qualifier}\n            tooltipProps={{ projectKey: project.key }}\n            visibility={project.visibility}\n          />\n        </td>\n\n        <td className=\"nowrap\">\n          <span className=\"note\">{project.key}</span>\n        </td>\n\n        <td className=\"thin nowrap text-right\">\n          {project.lastAnalysisDate ? (\n            <DateTooltipFormatter date={project.lastAnalysisDate} />\n          ) : (\n            <span className=\"note\"></span>\n          )}\n        </td>\n\n        <td className=\"thin nowrap\">\n          <ProjectRowActions\n            currentUser={this.props.currentUser}\n            organization={organization}\n            project={project}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ProjectRow from './ProjectRow';\nimport { Project } from './utils';\nimport { Organization } from '../../app/types';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectDeselected: (project: string) => void;\n  onProjectSelected: (project: string) => void;\n  organization: Organization;\n  projects: Project[];\n  ready?: boolean;\n  selection: string[];\n}\n\nexport default class Projects extends React.PureComponent<Props> {\n  onProjectCheck = (project: Project, checked: boolean) => {\n    if (checked) {\n      this.props.onProjectSelected(project.key);\n    } else {\n      this.props.onProjectDeselected(project.key);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table\n          className={classNames('data', 'zebra', { 'new-loading': !this.props.ready })}\n          id=\"projects-management-page-projects\">\n          <thead>\n            <tr>\n              <th />\n              <th>{translate('name')}</th>\n              <th />\n              <th>{translate('key')}</th>\n              <th className=\"thin nowrap text-right\">{translate('last_analysis')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.projects.map(project => (\n              <ProjectRow\n                currentUser={this.props.currentUser}\n                key={project.key}\n                onProjectCheck={this.onProjectCheck}\n                organization={this.props.organization && this.props.organization.key}\n                project={project}\n                selected={this.props.selection.includes(project.key)}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { debounce, uniq, without } from 'lodash';\nimport Header from './Header';\nimport Search from './Search';\nimport Projects from './Projects';\nimport CreateProjectForm from './CreateProjectForm';\nimport { PAGE_SIZE, Project } from './utils';\nimport ListFooter from '../../components/controls/ListFooter';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport { getComponents } from '../../api/components';\nimport { Organization, Visibility } from '../../app/types';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  currentUser: { login: string };\n  hasProvisionPermission?: boolean;\n  onVisibilityChange: (visibility: Visibility) => void;\n  organization: Organization;\n  topLevelQualifiers: string[];\n}\n\ninterface State {\n  analyzedBefore?: Date;\n  createProjectForm: boolean;\n  page: number;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: string[];\n  total: number;\n  visibility?: Visibility;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      createProjectForm: false,\n      ready: false,\n      projects: [],\n      provisioned: false,\n      total: 0,\n      page: 1,\n      query: '',\n      qualifiers: 'TRK',\n      selection: []\n    };\n    this.requestProjects = debounce(this.requestProjects, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.requestProjects();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  requestProjects = () => {\n    const { analyzedBefore } = this.state;\n    const parameters = {\n      analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n      onProvisionedOnly: this.state.provisioned || undefined,\n      organization: this.props.organization.key,\n      p: this.state.page !== 1 ? this.state.page : undefined,\n      ps: PAGE_SIZE,\n      q: this.state.query || undefined,\n      qualifiers: this.state.qualifiers,\n      visibility: this.state.visibility\n    };\n    getComponents(parameters).then(r => {\n      if (this.mounted) {\n        let projects: Project[] = r.components;\n        if (this.state.page > 1) {\n          projects = [...this.state.projects, ...projects];\n        }\n        this.setState({ ready: true, projects, selection: [], total: r.paging.total });\n      }\n    });\n  };\n\n  loadMore = () => {\n    this.setState({ ready: false, page: this.state.page + 1 }, this.requestProjects);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ ready: false, page: 1, query, selection: [] }, this.requestProjects);\n  };\n\n  onProvisionedChanged = (provisioned: boolean) => {\n    this.setState(\n      { ready: false, page: 1, query: '', provisioned, qualifiers: 'TRK', selection: [] },\n      this.requestProjects\n    );\n  };\n\n  onQualifierChanged = (newQualifier: string) => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        qualifiers: newQualifier,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  onVisibilityChanged = (newVisibility: Visibility | 'all') => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        visibility: newVisibility === 'all' ? undefined : newVisibility,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  handleDateChanged = (analyzedBefore: Date | undefined) =>\n    this.setState({ ready: false, page: 1, analyzedBefore }, this.requestProjects);\n\n  onProjectSelected = (project: string) => {\n    const newSelection = uniq([...this.state.selection, project]);\n    this.setState({ selection: newSelection });\n  };\n\n  onProjectDeselected = (project: string) => {\n    const newSelection = without(this.state.selection, project);\n    this.setState({ selection: newSelection });\n  };\n\n  onAllSelected = () => {\n    const newSelection = this.state.projects.map(project => project.key);\n    this.setState({ selection: newSelection });\n  };\n\n  onAllDeselected = () => {\n    this.setState({ selection: [] });\n  };\n\n  openCreateProjectForm = () => {\n    this.setState({ createProjectForm: true });\n  };\n\n  closeCreateProjectForm = () => {\n    this.setState({ createProjectForm: false });\n  };\n\n  render() {\n    return (\n      <div className=\"page page-limited\" id=\"projects-management-page\">\n        <Suggestions suggestions=\"projects_management\" />\n        <Helmet title={translate('projects_management')} />\n\n        <Header\n          hasProvisionPermission={this.props.hasProvisionPermission}\n          onProjectCreate={this.openCreateProjectForm}\n          onVisibilityChange={this.props.onVisibilityChange}\n          organization={this.props.organization}\n        />\n\n        <Search\n          analyzedBefore={this.state.analyzedBefore}\n          onAllDeselected={this.onAllDeselected}\n          onAllSelected={this.onAllSelected}\n          onDateChanged={this.handleDateChanged}\n          onDeleteProjects={this.requestProjects}\n          onProvisionedChanged={this.onProvisionedChanged}\n          onQualifierChanged={this.onQualifierChanged}\n          onSearch={this.onSearch}\n          onVisibilityChanged={this.onVisibilityChanged}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          provisioned={this.state.provisioned}\n          qualifiers={this.state.qualifiers}\n          query={this.state.query}\n          ready={this.state.ready}\n          selection={this.state.selection}\n          topLevelQualifiers={this.props.topLevelQualifiers}\n          total={this.state.total}\n          visibility={this.state.visibility}\n        />\n\n        <Projects\n          currentUser={this.props.currentUser}\n          onProjectDeselected={this.onProjectDeselected}\n          onProjectSelected={this.onProjectSelected}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          ready={this.state.ready}\n          selection={this.state.selection}\n        />\n\n        <ListFooter\n          count={this.state.projects.length}\n          loadMore={this.loadMore}\n          ready={this.state.ready}\n          total={this.state.total}\n        />\n\n        {this.state.createProjectForm && (\n          <CreateProjectForm\n            onClose={this.closeCreateProjectForm}\n            onProjectCreated={this.requestProjects}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport App from './App';\nimport forSingleOrganization from '../organizations/forSingleOrganization';\nimport { Organization, LoggedInUser, Visibility } from '../../app/types';\nimport { getAppState, getOrganizationByKey, getCurrentUser } from '../../store/rootReducer';\nimport { receiveOrganizations } from '../../store/organizations/duck';\nimport { changeProjectDefaultVisibility } from '../../api/permissions';\nimport { fetchOrganization } from '../organizations/actions';\n\ninterface StateProps {\n  appState: { defaultOrganization: string; qualifiers: string[] };\n  currentUser: LoggedInUser;\n  organization?: Organization;\n}\n\ninterface DispatchProps {\n  fetchOrganization: (organization: string) => void;\n  onVisibilityChange: (organization: Organization, visibility: Visibility) => void;\n}\n\ninterface OwnProps {\n  onRequestFail: (error: any) => void;\n}\n\nclass AppContainer extends React.PureComponent<OwnProps & StateProps & DispatchProps> {\n  componentDidMount() {\n    // if there is no organization, that means we are in the global scope\n    // let's fetch defails for the default organization in this case\n    if (!this.props.organization || !this.props.organization.projectVisibility) {\n      this.props.fetchOrganization(this.props.appState.defaultOrganization);\n    }\n  }\n\n  handleVisibilityChange = (visibility: Visibility) => {\n    if (this.props.organization) {\n      this.props.onVisibilityChange(this.props.organization, visibility);\n    }\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    const topLevelQualifiers = organization.isDefault ? this.props.appState.qualifiers : ['TRK'];\n\n    return (\n      <App\n        currentUser={this.props.currentUser}\n        hasProvisionPermission={organization.canProvisionProjects}\n        onVisibilityChange={this.handleVisibilityChange}\n        organization={organization}\n        topLevelQualifiers={topLevelQualifiers}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state) as LoggedInUser,\n  organization:\n    ownProps.organization || getOrganizationByKey(state, getAppState(state).defaultOrganization)\n});\n\nconst onVisibilityChange = (organization: Organization, visibility: Visibility) => (\n  dispatch: Function\n) => {\n  const currentVisibility = organization.projectVisibility;\n  dispatch(receiveOrganizations([{ ...organization, projectVisibility: visibility }]));\n  changeProjectDefaultVisibility(organization.key, visibility).catch(() => {\n    dispatch(receiveOrganizations([{ ...organization, projectVisibility: currentVisibility }]));\n  });\n};\n\nconst mapDispatchToProps = (dispatch: Function) => ({\n  fetchOrganization: (key: string) => dispatch(fetchOrganization(key)),\n  onVisibilityChange: (organization: Organization, visibility: Visibility) =>\n    dispatch(onVisibilityChange(organization, visibility))\n});\n\nexport default forSingleOrganization(\n  connect<StateProps, DispatchProps, OwnProps>(mapStateToProps, mapDispatchToProps)(AppContainer)\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\ninterface OwnProps {\n  medium?: boolean;\n  large?: boolean;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & OwnProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', { 'modal-medium': props.medium, 'modal-large': props.large })}\n      isOpen={true}\n      overlayClassName=\"modal-overlay\"\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip mouseLeaveDelay={0.25} onShow={props.onShow} overlay={props.overlay}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default class Suggestions extends React.PureComponent<Props> {\n  context!: { suggestions: SuggestionsContext };\n\n  static contextTypes = {\n    suggestions: PropTypes.object.isRequired\n  };\n\n  componentDidMount() {\n    this.context.suggestions.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.context.suggestions.removeSuggestions(this.props.suggestions);\n      this.context.suggestions.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.context.suggestions.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  // eslint-disable-next-line camelcase\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} /> : null;\n}\n\nfunction ApplicationIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill: theme.orange }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    return (\n      <Modal contentLabel={this.props.header} onRequestClose={this.props.onClose}>\n        {this.props.children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\n\ninterface Props {\n  checked: boolean;\n  disabled?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id?: string;\n  loading?: boolean;\n  onCheck: (checked: boolean, id?: string) => void;\n  thirdState?: boolean;\n}\n\nexport default class Checkbox extends React.PureComponent<Props> {\n  static defaultProps = {\n    thirdState: false\n  };\n\n  handleClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onCheck(!this.props.checked, this.props.id);\n    }\n  };\n\n  render() {\n    const className = classNames('icon-checkbox', {\n      'icon-checkbox-checked': this.props.checked,\n      'icon-checkbox-single': this.props.thirdState,\n      'icon-checkbox-disabled': this.props.disabled\n    });\n\n    if (this.props.children) {\n      return (\n        <a\n          className={classNames('link-checkbox', this.props.className, {\n            note: this.props.disabled,\n            disabled: this.props.disabled\n          })}\n          href=\"#\"\n          id={this.props.id}\n          onClick={this.handleClick}>\n          <DeferredSpinner loading={Boolean(this.props.loading)}>\n            <i className={className} />\n          </DeferredSpinner>\n          {this.props.children}\n        </a>\n      );\n    }\n\n    if (this.props.loading) {\n      return <DeferredSpinner />;\n    }\n\n    return (\n      <a\n        className={classNames(className, this.props.className)}\n        href=\"#\"\n        id={this.props.id}\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  count: number;\n  className?: string;\n  loadMore?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {props.loadMore != null && hasMore ? loadMoreLink : null}\n    </footer>\n  );\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SettingsIcon({ className, fill = 'currentColor', size = 14 }: IconProps) {\n  return (\n    <Icon className={className} size={size} viewBox=\"0 0 14 14\">\n      <g transform=\"matrix(0.0364583,0,0,0.0364583,0,-1.16667)\">\n        <path\n          d=\"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport { LocationDescriptor } from 'history';\nimport Dropdown from './Dropdown';\nimport DropdownIcon from '../icons-components/DropdownIcon';\nimport SettingsIcon from '../icons-components/SettingsIcon';\nimport { Button } from '../ui/buttons';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  onOpen?: () => void;\n  small?: boolean;\n  toggleClassName?: string;\n}\n\nexport default function ActionsDropdown(props: Props) {\n  return (\n    <Dropdown\n      className={props.className}\n      onOpen={props.onOpen}\n      overlay={<ul className=\"menu\">{props.children}</ul>}>\n      <Button\n        className={classNames('dropdown-toggle', props.toggleClassName, {\n          'button-small': props.small\n        })}>\n        <SettingsIcon size={props.small ? 12 : 14} />\n        <DropdownIcon className=\"little-spacer-left\" />\n      </Button>\n    </Dropdown>\n  );\n}\n\ninterface ItemProps {\n  className?: string;\n  children: React.ReactNode;\n  destructive?: boolean;\n  /** used to pass a name of downloaded file */\n  download?: string;\n  id?: string;\n  onClick?: () => void;\n  to?: LocationDescriptor;\n}\n\nexport class ActionsDropdownItem extends React.PureComponent<ItemProps> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const className = classNames(this.props.className, { 'text-danger': this.props.destructive });\n\n    if (this.props.download && typeof this.props.to === 'string') {\n      return (\n        <li>\n          <a\n            className={className}\n            download={this.props.download}\n            href={this.props.to}\n            id={this.props.id}>\n            {this.props.children}\n          </a>\n        </li>\n      );\n    }\n\n    if (this.props.to) {\n      return (\n        <li>\n          <Link className={className} id={this.props.id} to={this.props.to}>\n            {this.props.children}\n          </Link>\n        </li>\n      );\n    }\n\n    return (\n      <li>\n        <a className={className} href=\"#\" id={this.props.id} onClick={this.handleClick}>\n          {this.props.children}\n        </a>\n      </li>\n    );\n  }\n}\n\nexport function ActionsDropdownDivider() {\n  return <li className=\"divider\" />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport { Paging, Group } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function searchUsersGroups(data: {\n  f?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n}): Promise<{ groups: Group[]; paging: Paging }> {\n  return getJSON('/api/user_groups/search', data).catch(throwGlobalError);\n}\n\nexport interface GroupUser {\n  login: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getUsersInGroup(data: {\n  id?: number;\n  name?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: Paging; users: GroupUser[] }> {\n  return getJSON('/api/user_groups/users', data).catch(throwGlobalError);\n}\n\nexport function addUserToGroup(data: {\n  id?: string;\n  name?: string;\n  login?: string;\n  organization?: string;\n}) {\n  return post('/api/user_groups/add_user', data).catch(throwGlobalError);\n}\n\nexport function removeUserFromGroup(data: {\n  id?: string;\n  name?: string;\n  login?: string;\n  organization?: string;\n}) {\n  return post('/api/user_groups/remove_user', data).catch(throwGlobalError);\n}\n\nexport function createGroup(data: {\n  description?: string;\n  organization: string | undefined;\n  name: string;\n}): Promise<Group> {\n  return postJSON('/api/user_groups/create', data).then(r => r.group, throwGlobalError);\n}\n\nexport function updateGroup(data: { description?: string; id: number; name?: string }) {\n  return post('/api/user_groups/update', data).catch(throwGlobalError);\n}\n\nexport function deleteGroup(data: { name: string; organization: string | undefined }) {\n  return post('/api/user_groups/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport * as api from '../../api/organizations';\nimport * as actions from '../../store/organizations/duck';\nimport * as membersActions from '../../store/organizationsMembers/actions';\nimport { searchUsersGroups, addUserToGroup, removeUserFromGroup } from '../../api/user_groups';\nimport { receiveUser } from '../../store/users/actions';\nimport { onFail } from '../../store/rootActions';\nimport { getOrganizationMembersState } from '../../store/rootReducer';\nimport { addGlobalSuccessMessage } from '../../store/globalMessages/duck';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { Organization, OrganizationMember, OrganizationBase } from '../../app/types';\n\nconst PAGE_SIZE = 50;\n\nconst onRejected = (dispatch: Dispatch<any>) => (error: any) => {\n  onFail(dispatch)(error);\n  return Promise.reject(error);\n};\n\nexport const fetchOrganization = (key: string) => (dispatch: Dispatch<any>) => {\n  return Promise.all([api.getOrganization(key), api.getOrganizationNavigation(key)]).then(\n    ([organization, navigation]) => {\n      if (organization) {\n        const organizationWithPermissions = { ...organization, ...navigation };\n        dispatch(actions.receiveOrganizations([organizationWithPermissions]));\n      }\n    },\n    onFail(dispatch)\n  );\n};\n\nexport const fetchOrganizationGroups = (organization: string) => (dispatch: Dispatch<any>) => {\n  return searchUsersGroups({ organization }).then(response => {\n    dispatch(actions.receiveOrganizationGroups(organization, response.groups));\n  }, onFail(dispatch));\n};\n\nexport const createOrganization = (organization: OrganizationBase) => (dispatch: Dispatch<any>) => {\n  return api.createOrganization(organization).then((organization: Organization) => {\n    dispatch(actions.createOrganization(organization));\n    dispatch(\n      addGlobalSuccessMessage(translateWithParameters('organization.created', organization.name))\n    );\n    return organization;\n  }, onRejected(dispatch));\n};\n\nexport const updateOrganization = (key: string, changes: OrganizationBase) => (\n  dispatch: Dispatch<any>\n) => {\n  return api.updateOrganization(key, changes).then(() => {\n    dispatch(actions.updateOrganization(key, changes));\n    dispatch(addGlobalSuccessMessage(translate('organization.updated')));\n  }, onFail(dispatch));\n};\n\nexport const deleteOrganization = (key: string) => (dispatch: Dispatch<any>) => {\n  return api.deleteOrganization(key).then(() => {\n    dispatch(actions.deleteOrganization(key));\n    dispatch(addGlobalSuccessMessage(translate('organization.deleted')));\n  }, onFail(dispatch));\n};\n\nconst fetchMembers = (\n  data: {\n    organization: string;\n    p?: number;\n    ps?: number;\n    q?: string;\n  },\n  dispatch: Dispatch<any>,\n  receiveAction: Function\n) => {\n  dispatch(membersActions.updateState(data.organization, { loading: true }));\n  if (data.ps === undefined) {\n    data.ps = PAGE_SIZE;\n  }\n  if (!data.q) {\n    data.q = undefined;\n  }\n  return api.searchMembers(data).then(\n    response => {\n      dispatch(\n        receiveAction(data.organization, response.users, {\n          loading: false,\n          total: response.paging.total,\n          pageIndex: response.paging.pageIndex,\n          query: data.q || null\n        })\n      );\n    },\n    (error: any) => {\n      onFail(dispatch)(error);\n      dispatch(membersActions.updateState(data.organization, { loading: false }));\n    }\n  );\n};\n\nexport const fetchOrganizationMembers = (key: string, query?: string) => (\n  dispatch: Dispatch<any>\n) => fetchMembers({ organization: key, q: query }, dispatch, membersActions.receiveMembers);\n\nexport const fetchMoreOrganizationMembers = (key: string, query?: string) => (\n  dispatch: Dispatch<any>,\n  getState: () => any\n) =>\n  fetchMembers(\n    { organization: key, p: getOrganizationMembersState(getState(), key).pageIndex + 1, q: query },\n    dispatch,\n    membersActions.receiveMoreMembers\n  );\n\nexport const addOrganizationMember = (key: string, member: OrganizationMember) => (\n  dispatch: Dispatch<any>\n) => {\n  return api\n    .addMember({ login: member.login, organization: key })\n    .then(user => dispatch(membersActions.addMember(key, user)), onFail(dispatch));\n};\n\nexport const removeOrganizationMember = (key: string, member: OrganizationMember) => (\n  dispatch: Dispatch<any>\n) => {\n  dispatch(membersActions.removeMember(key, member));\n  return api.removeMember({ login: member.login, organization: key }).catch((error: any) => {\n    onFail(dispatch)(error);\n    dispatch(membersActions.addMember(key, member));\n  });\n};\n\nexport const updateOrganizationMemberGroups = (\n  organization: Organization,\n  member: OrganizationMember,\n  add: string[],\n  remove: string[]\n) => (dispatch: Dispatch<any>) => {\n  dispatch(\n    receiveUser({\n      ...member,\n      groupCount: (member.groupCount || 0) + add.length - remove.length\n    })\n  );\n  const promises = [\n    ...add.map(name =>\n      addUserToGroup({ name, login: member.login, organization: organization.key })\n    ),\n    ...remove.map(name =>\n      removeUserFromGroup({ name, login: member.login, organization: organization.key })\n    )\n  ];\n  return Promise.all(promises).catch(error => {\n    dispatch(receiveUser(member));\n    onFail(dispatch)(error);\n  });\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Organization, isLoggedIn, OrganizationSubscription, CurrentUser } from '../app/types';\n\nexport function isPaidOrganization(organization: Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === OrganizationSubscription.Paid);\n}\n\nexport function hasPrivateAccess(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      (organization.canAdmin ||\n        organization.isAdmin ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { BaseSearchProjectsParameters } from './components';\nimport { PermissionTemplate, Visibility } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(\n  projectKey: string | null,\n  login: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { login, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization && !projectKey) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/add_user', data);\n}\n\nexport function revokePermissionFromUser(\n  projectKey: string | null,\n  login: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { login, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization && !projectKey) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/remove_user', data);\n}\n\nexport function grantPermissionToGroup(\n  projectKey: string | null,\n  groupName: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { groupName, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/add_group', data);\n}\n\nexport function revokePermissionFromGroup(\n  projectKey: string | null,\n  groupName: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { groupName, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/remove_group', data);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport interface PermissionUser {\n  login: string;\n  name: string;\n  email?: string;\n  permissions: string[];\n  avatar?: string;\n}\n\nexport function getPermissionsUsersForComponent(\n  projectKey: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<PermissionUser[]> {\n  const data: RequestData = { projectKey, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/users', data).then(r => r.users, throwGlobalError);\n}\n\nexport interface PermissionGroup {\n  id: string;\n  name: string;\n  description?: string;\n  permissions: string[];\n}\n\nexport function getPermissionsGroupsForComponent(\n  projectKey: string,\n  query: string = '',\n  permission?: string,\n  organization?: string\n): Promise<PermissionGroup[]> {\n  const data: RequestData = { projectKey, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/groups', data).then(r => r.groups, throwGlobalError);\n}\n\nexport function getGlobalPermissionsUsers(\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<PermissionUser[]> {\n  const data: RequestData = { ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/users', data).then(r => r.users);\n}\n\nexport function getGlobalPermissionsGroups(\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<PermissionGroup[]> {\n  const data: RequestData = { ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/groups', data).then(r => r.groups);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(\n  project: string,\n  visibility: Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_visibility', { project, visibility }).catch(throwGlobalError);\n}\n\nexport function changeProjectDefaultVisibility(\n  organization: string,\n  projectVisibility: Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_default_visibility', { organization, projectVisibility }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { areThereCustomOrganizations } from '../../store/rootReducer';\n\ntype ReactComponent<P> = React.ComponentClass<P> | React.StatelessComponent<P>;\n\nexport default function forSingleOrganization<P>(ComposedComponent: ReactComponent<P>) {\n  interface StateProps {\n    customOrganizations: boolean | undefined;\n  }\n\n  class ForSingleOrganization extends React.Component<StateProps & WithRouterProps> {\n    static displayName = `forSingleOrganization(${ComposedComponent.displayName})}`;\n\n    render() {\n      const { customOrganizations, router, ...other } = this.props;\n\n      if (!other.params.organizationKey && customOrganizations) {\n        router.replace('/not_found');\n        return null;\n      }\n\n      return <ComposedComponent {...other} />;\n    }\n  }\n\n  const mapStateToProps = (state: any) => ({\n    customOrganizations: areThereCustomOrganizations(state)\n  });\n\n  return connect(mapStateToProps)(withRouter(ForSingleOrganization));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VisibleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.524 8.403q-1.093-1.697-2.74-2.539 0.439 0.748 0.439 1.618 0 1.331-0.946 2.276t-2.276 0.946-2.276-0.946-0.946-2.276q0-0.87 0.439-1.618-1.647 0.842-2.74 2.539 0.957 1.474 2.399 2.348t3.125 0.874 3.125-0.874 2.399-2.348zM8.345 5.641q0-0.144-0.101-0.245t-0.245-0.101q-0.899 0-1.543 0.644t-0.644 1.543q0 0.144 0.101 0.245t0.245 0.101 0.245-0.101 0.101-0.245q0-0.619 0.439-1.057t1.057-0.439q0.144 0 0.245-0.101t0.101-0.245zM14.444 8.403q0 0.245-0.144 0.496-1.007 1.654-2.708 2.65t-3.593 0.996-3.593-1-2.708-2.647q-0.144-0.252-0.144-0.496t0.144-0.496q1.007-1.647 2.708-2.647t3.593-1 3.593 1 2.708 2.647q0.144 0.252 0.144 0.496z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport * as theme from '../../app/theme';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\nimport { Visibility, Organization, CurrentUser } from '../../app/types';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isCurrentUserMemberOf, isPaidOrganization } from '../../helpers/organizations';\nimport { getCurrentUser, getOrganizationByKey, getMyOrganizations } from '../../store/rootReducer';\nimport VisibleIcon from '../icons-components/VisibleIcon';\nimport DocTooltip from '../docs/DocTooltip';\n\ninterface StateToProps {\n  currentUser: CurrentUser;\n  organization?: Organization;\n  userOrganizations: Organization[];\n}\n\ninterface OwnProps {\n  className?: string;\n  organization: Organization | string | undefined;\n  qualifier: string;\n  tooltipProps?: { projectKey: string };\n  visibility: Visibility;\n}\n\ninterface Props extends OwnProps, StateToProps {\n  organization: Organization | undefined;\n}\n\nexport function PrivacyBadge({\n  className,\n  currentUser,\n  organization,\n  qualifier,\n  userOrganizations,\n  tooltipProps,\n  visibility\n}: Props) {\n  const onSonarCloud = isSonarCloud();\n  if (\n    visibility !== Visibility.Private &&\n    (!onSonarCloud || !isCurrentUserMemberOf(currentUser, organization, userOrganizations))\n  ) {\n    return null;\n  }\n\n  let icon = null;\n  if (isPaidOrganization(organization) && visibility === Visibility.Public) {\n    icon = <VisibleIcon className=\"little-spacer-right\" fill={theme.blue} />;\n  }\n\n  const badge = (\n    <div\n      className={classNames('outline-badge', className, {\n        'badge-info': Boolean(icon),\n        'badge-icon': Boolean(icon)\n      })}>\n      {icon}\n      {translate('visibility', visibility)}\n    </div>\n  );\n\n  if (onSonarCloud && organization) {\n    return (\n      <DocTooltip\n        className={className}\n        doc={getDoc(visibility, icon, organization)}\n        overlayProps={{ ...tooltipProps, organization: organization.key }}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      {badge}\n    </Tooltip>\n  );\n}\n\nconst mapStateToProps = (state: any, { organization }: OwnProps) => {\n  if (typeof organization === 'string') {\n    organization = getOrganizationByKey(state, organization);\n  }\n  return {\n    currentUser: getCurrentUser(state),\n    organization,\n    userOrganizations: getMyOrganizations(state)\n  };\n};\n\nexport default connect<StateToProps, {}, OwnProps>(mapStateToProps)(PrivacyBadge);\n\nfunction getDoc(visibility: Visibility, icon: JSX.Element | null, organization: Organization) {\n  let doc;\n  if (visibility === Visibility.Private) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-private.md');\n  } else if (icon) {\n    if (organization.canAdmin) {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org-admin.md');\n    } else {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org.md');\n    }\n  } else if (organization.canAdmin) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-admin.md');\n  } else {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public.md');\n  }\n  return doc;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function AlertWarnIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 1.143q1.866 0 3.442.92t2.496 2.496.92 3.442-.92 3.442-2.496 2.496-3.442.92-3.442-.92-2.496-2.496-.92-3.442.92-3.442 2.496-2.496T8 1.143zm1.143 11.134v-1.696q0-.125-.08-.21t-.196-.085H7.153q-.116 0-.205.089t-.089.205v1.696q0 .116.089.205t.205.089h1.714q.116 0 .196-.085t.08-.21zm-.018-3.072l.161-5.545q0-.107-.089-.161-.089-.071-.214-.071H7.019q-.125 0-.214.071-.089.054-.089.161l.152 5.545q0 .089.089.156t.214.067h1.652q.125 0 .21-.067t.094-.156z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","module.exports = \"This project is public, which means anyone is able to browse its source code. Subscribe to a paid plan to get unlimited private projects in [Administration > Billing](/#sonarcloud#/organizations/#organization#/extension/billing/billing).\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the project administrator to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Go to your project's [Administration > Permissions](/#sonarcloud#/project_roles?id=#projectKey#) to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility)\\n\"","module.exports = \"This project is private. Only the members of this organization are able to browse it and its source code.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the organization administrator if you want to make it private.\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing)\\n\"","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate, hasMessage } from '../../helpers/l10n';\nimport './UpgradeOrganizationBox.css';\n\ninterface Props {\n  organization: string;\n}\n\nexport default function UpgradeOrganizationBox({ organization }: Props) {\n  return (\n    <div className=\"boxed-group boxed-group-inner upgrade-organization-box\">\n      <h3 className=\"spacer-bottom\">{translate('billing.upgrade_box.header')}</h3>\n\n      <p>{translate('billing.upgrade_box.text')}</p>\n\n      {hasMessage('billing.upgrade_box.button') && (\n        <div className=\"big-spacer-top\">\n          <Link\n            className=\"button\"\n            to={{\n              pathname: `organizations/${organization}/extension/billing/billing`,\n              query: { page: 'upgrade' }\n            }}>\n            {translate('billing.upgrade_box.button')}\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DateFormatter from './DateFormatter';\nimport DateTimeFormatter from './DateTimeFormatter';\nimport Tooltip from '../controls/Tooltip';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  className?: string;\n  date: Date | string | number;\n}\n\nexport default function DateTooltipFormatter({ className, date }: Props) {\n  const parsedDate = parseDate(date);\n  return (\n    <DateFormatter date={parsedDate} long={true}>\n      {formattedDate => (\n        <Tooltip mouseEnterDelay={0.5} overlay={<DateTimeFormatter date={parsedDate} />}>\n          <time className={className} dateTime={parsedDate.toISOString()}>\n            {formattedDate}\n          </time>\n        </Tooltip>\n      )}\n    </DateFormatter>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../helpers/l10n';\nimport { Visibility } from '../../app/types';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: Visibility) => void;\n  visibility?: Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange(Visibility.Public);\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange(Visibility.Private);\n  };\n\n  render() {\n    return (\n      <div className={this.props.className}>\n        <a\n          className=\"link-base-color link-no-underline\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === Visibility.Public\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n\n        {this.props.canTurnToPrivate ? (\n          <a\n            className=\"link-base-color link-no-underline huge-spacer-left\"\n            href=\"#\"\n            id=\"visibility-private\"\n            onClick={this.handlePrivateClick}>\n            <i\n              className={classNames('icon-radio', {\n                'is-checked': this.props.visibility === Visibility.Private\n              })}\n            />\n            <span className=\"spacer-left\">{translate('visibility.private')}</span>\n          </a>\n        ) : (\n          <span className=\"huge-spacer-left text-muted cursor-not-allowed\" id=\"visibility-private\">\n            <i\n              className={classNames('icon-radio', {\n                'is-checked': this.props.visibility === Visibility.Private\n              })}\n            />\n            <span className=\"spacer-left\">{translate('visibility.private')}</span>\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, applyTemplateToProject } from '../../../../api/permissions';\nimport { PermissionTemplate } from '../../../../app/types';\nimport DeferredSpinner from '../../../../components/common/DeferredSpinner';\nimport SimpleModal from '../../../../components/controls/SimpleModal';\nimport Select from '../../../../components/controls/Select';\nimport { SubmitButton, ResetButtonLink } from '../../../../components/ui/buttons';\nimport { translateWithParameters, translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.handleSubmit}>\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <div className=\"alert alert-success\">\n                  {translate('projects_role.apply_template.success')}\n                </div>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".upgrade-organization-box{max-width:400px;background-color:#f3f3f3!important}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./UpgradeOrganizationBox.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./UpgradeOrganizationBox.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./UpgradeOrganizationBox.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}