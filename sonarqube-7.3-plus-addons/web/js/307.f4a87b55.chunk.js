(window.webpackJsonp=window.webpackJsonp||[]).push([[307],{1600:function(n,t,r){"use strict";r.r(t);var e,o=r(534),i=r(544),u=r(763),c=r(19),a=r(545),f=r(619),p=(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])},function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.refreshOrganization=function(){return t.props.organization&&t.props.fetchOrganization(t.props.organization.key)},t}return p(t,n),t.prototype.render=function(){var n=this.props.params,t=n.extensionKey,r=n.pluginKey,e=this.props.organization;if(!e)return null;var i=e.pages||[];e.canAdmin&&e.adminPages&&(i=i.concat(e.adminPages));var a=i.find(function(n){return n.key===r+"/"+t});return a?o.createElement(u.a,{extension:a,location:this.props.location,options:{organization:e,refreshOrganization:this.refreshOrganization}}):o.createElement(c.default,{withContainer:!1})},t}(o.PureComponent),g={fetchOrganization:f.e};t.default=Object(i.connect)(function(n,t){return{organization:Object(a.getOrganizationByKey)(n,t.params.organizationKey)}},g)(s)},595:function(n,t,r){"use strict";r.d(t,"f",function(){return i}),r.d(t,"d",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"e",function(){return a}),r.d(t,"b",function(){return f}),r.d(t,"g",function(){return p}),r.d(t,"c",function(){return s});var e=r(17),o=r(552);function i(n){return Object(e.getJSON)("/api/user_groups/search",n).catch(o.a)}function u(n){return Object(e.getJSON)("/api/user_groups/users",n).catch(o.a)}function c(n){return Object(e.post)("/api/user_groups/add_user",n).catch(o.a)}function a(n){return Object(e.post)("/api/user_groups/remove_user",n).catch(o.a)}function f(n){return Object(e.postJSON)("/api/user_groups/create",n).then(function(n){return n.group},o.a)}function p(n){return Object(e.post)("/api/user_groups/update",n).catch(o.a)}function s(n){return Object(e.post)("/api/user_groups/delete",n).catch(o.a)}},619:function(n,t,r){"use strict";r.d(t,"e",function(){return d}),r.d(t,"f",function(){return O}),r.d(t,"b",function(){return b}),r.d(t,"i",function(){return l}),r.d(t,"c",function(){return h}),r.d(t,"g",function(){return z}),r.d(t,"d",function(){return y}),r.d(t,"a",function(){return m}),r.d(t,"h",function(){return _}),r.d(t,"j",function(){return v});var e=r(610),o=r(644),i=r(676),u=r(595),c=r(616),a=r(588),f=r(545),p=r(582),s=r(7),g=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},d=function(n){return function(t){return Promise.all([e.d(n),e.f(n)]).then(function(n){var r=n[0],e=n[1];if(r){var i=g({},r,e);t(o.i([i]))}},Object(a.f)(t))}},O=function(n){return function(t){return Object(u.f)({organization:n}).then(function(r){t(o.h(n,r.groups))},Object(a.f)(t))}},b=function(n){return function(t){return e.b(n).then(function(n){return t(o.a(n)),t(Object(p.b)(Object(s.m)("organization.created",n.name))),n},function(n){return function(t){return Object(a.f)(n)(t),Promise.reject(t)}}(t))}},l=function(n,t){return function(r){return e.j(n,t).then(function(){r(o.j(n,t)),r(Object(p.b)(Object(s.l)("organization.updated")))},Object(a.f)(r))}},h=function(n){return function(t){return e.c(n).then(function(){t(o.c(n)),t(Object(p.b)(Object(s.l)("organization.deleted")))},Object(a.f)(t))}},j=function(n,t,r){return t(i.f(n.organization,{loading:!0})),void 0===n.ps&&(n.ps=50),n.q||(n.q=void 0),e.i(n).then(function(e){t(r(n.organization,e.users,{loading:!1,total:e.paging.total,pageIndex:e.paging.pageIndex,query:n.q||null}))},function(r){Object(a.f)(t)(r),t(i.f(n.organization,{loading:!1}))})},z=function(n,t){return function(r){return j({organization:n,q:t},r,i.c)}},y=function(n,t){return function(r,e){return j({organization:n,p:Object(f.getOrganizationMembersState)(e(),n).pageIndex+1,q:t},r,i.d)}},m=function(n,t){return function(r){return e.a({login:t.login,organization:n}).then(function(t){return r(i.b(n,t))},Object(a.f)(r))}},_=function(n,t){return function(r){return r(i.e(n,t)),e.h({login:t.login,organization:n}).catch(function(e){Object(a.f)(r)(e),r(i.b(n,t))})}},v=function(n,t,r,e){return function(o){o(Object(c.f)(g({},t,{groupCount:(t.groupCount||0)+r.length-e.length})));var i=r.map(function(r){return Object(u.a)({name:r,login:t.login,organization:n.key})}).concat(e.map(function(r){return Object(u.e)({name:r,login:t.login,organization:n.key})}));return Promise.all(i).catch(function(n){o(Object(c.f)(t)),Object(a.f)(o)(n)})}}}}]);
//# sourceMappingURL=307.f4a87b55.chunk.js.map