{"version":3,"sources":["webpack:///./src/main/js/apps/project-admin/deletion/Header.js","webpack:///./src/main/js/apps/project-admin/deletion/Form.js","webpack:///./src/main/js/apps/project-admin/deletion/Deletion.js","webpack:///./src/main/js/components/controls/Modal.tsx"],"names":["Header","props","qualifier","component","description","includes","Object","l10n","index_js_exposed_default","a","createElement","className","_super","Form","_this","apply","this","arguments","state","loading","modalOpen","handleDeleteClick","setState","closeModal","stopLoading","mounted","handleSubmit","event","preventDefault","components","key","then","context","router","replace","catch","__extends","prototype","componentDidMount","componentWillUnmount","render","buttons","id","onClick","Modal","contentLabel","onRequestClose","onSubmit","name","disabled","propTypes","prop_types_default","object","isRequired","contextTypes","PureComponent","Deletion","Helmet_default","title","deletion_Form","react__WEBPACK_IMPORTED_MODULE_0__","react_modal__WEBPACK_IMPORTED_MODULE_1__","__assign","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-medium","medium","modal-large","large","isOpen","overlayClassName"],"mappings":"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","file":"js/357.8b209a85.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function Header(props /*: { component: { qualifier: string } } */) {\n  const { qualifier } = props.component;\n  const description = ['VW', 'SVW'].includes(qualifier)\n    ? translate('portfolio_deletion.page.description')\n    : qualifier === 'APP'\n      ? translate('application_deletion.page.description')\n      : translate('project_deletion.page.description');\n\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">{translate('deletion.page')}</h1>\n      <div className=\"page-description\">{description}</div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { deleteProject, deletePortfolio } from '../../../api/components';\nimport Modal from '../../../components/controls/Modal';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button, SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\n\nexport default class Form extends React.PureComponent {\n  static propTypes = {\n    component: PropTypes.object.isRequired\n  };\n\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  state = { loading: false, modalOpen: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDeleteClick = () => {\n    this.setState({ modalOpen: true });\n  };\n\n  closeModal = () => this.setState({ modalOpen: false });\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    const { component } = this.props;\n    const deleteMethod = component.qualifier === 'TRK' ? deleteProject : deletePortfolio;\n    deleteMethod(component.key)\n      .then(() => this.context.router.replace(component.qualifier === 'TRK' ? '/' : '/portfolios'))\n      .catch(this.stopLoading);\n  };\n\n  render() {\n    const { component } = this.props;\n\n    return (\n      <div>\n        <Button className=\"button-red\" id=\"delete-project\" onClick={this.handleDeleteClick}>\n          {translate('delete')}\n        </Button>\n\n        {this.state.modalOpen && (\n          <Modal contentLabel=\"project deletion\" onRequestClose={this.closeModal}>\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"modal-head\">\n                <h2>{translate('qualifier.delete.TRK')}</h2>\n              </div>\n              <div className=\"modal-body\">\n                <div className=\"js-modal-messages\" />\n                {translateWithParameters(\n                  'project_deletion.delete_resource_confirmation',\n                  component.name\n                )}\n              </div>\n              <div className=\"modal-foot\">\n                {this.state.loading && <i className=\"js-modal-spinner spinner spacer-right\" />}\n                <SubmitButton\n                  className=\"button-red\"\n                  disabled={this.state.loading}\n                  id=\"delete-project-confirm\">\n                  {translate('delete')}\n                </SubmitButton>\n                <ResetButtonLink className=\"js-modal-close\" onClick={this.closeModal}>\n                  {translate('cancel')}\n                </ResetButtonLink>\n              </div>\n            </form>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport Helmet from 'react-helmet';\nimport Header from './Header';\nimport Form from './Form';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function Deletion(props) {\n  return (\n    <div className=\"page page-limited\">\n      <Helmet title={translate('deletion.page')} />\n      <Header component={props.component} />\n      <Form component={props.component} />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\ninterface OwnProps {\n  medium?: boolean;\n  large?: boolean;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & OwnProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', { 'modal-medium': props.medium, 'modal-large': props.large })}\n      isOpen={true}\n      overlayClassName=\"modal-overlay\"\n      {...props}\n    />\n  );\n}\n"],"sourceRoot":""}